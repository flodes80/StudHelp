function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).flatpickr=t()}(this,function(){"use strict";function e(e,t,i){var a;return void 0===i&&(i=!1),function(){var n=this,o=arguments;null!==a&&clearTimeout(a),a=window.setTimeout(function(){a=null,i||e.apply(n,o)},t),i&&!a&&e.apply(n,o)}}function t(e,t,i){if(!0===i)return e.classList.add(t);e.classList.remove(t)}function i(e,t,i){var a=window.document.createElement(e);return t=t||"",i=i||"",a.className=t,void 0!==i&&(a.textContent=i),a}function a(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function n(e,t){var a=i("div","numInputWrapper"),n=i("input","numInput "+e),o=i("span","arrowUp"),r=i("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?n.type="number":(n.type="text",n.pattern="\\d*"),void 0!==t)for(var s in t)n.setAttribute(s,t[s]);return a.appendChild(n),a.appendChild(o),a.appendChild(r),a}function o(e,t,i){return void 0===i&&(i=!0),!1!==i?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}function r(r,s){function c(e){return e.bind(ve)}function m(){var e=ve.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==ve.calendarContainer&&(ve.calendarContainer.style.visibility="hidden",ve.calendarContainer.style.display="block"),void 0!==ve.daysContainer){var t=(ve.days.offsetWidth+1)*e.showMonths;ve.daysContainer.style.width=t+"px",ve.calendarContainer.style.width=t+(void 0!==ve.weekWrapper?ve.weekWrapper.offsetWidth:0)+"px",ve.calendarContainer.style.removeProperty("visibility"),ve.calendarContainer.style.removeProperty("display")}})}function v(e){0===ve.selectedDates.length&&te(),void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,i=e.target;void 0!==ve.amPM&&e.target===ve.amPM&&(ve.amPM.textContent=ve.l10n.amPM[u(ve.amPM.textContent===ve.l10n.amPM[0])]);var a=parseFloat(i.getAttribute("min")),n=parseFloat(i.getAttribute("max")),o=parseFloat(i.getAttribute("step")),r=parseInt(i.value,10),s=e.delta||(t?38===e.which?1:-1:0),l=r+o*s;if(void 0!==i.value&&2===i.value.length){var d=i===ve.hourElement,c=i===ve.minuteElement;l<a?(l=n+l+u(!d)+(u(d)&&u(!ve.amPM)),c&&P(void 0,-1,ve.hourElement)):l>n&&(l=i===ve.hourElement?l-n-u(!ve.amPM):a,c&&P(void 0,1,ve.hourElement)),ve.amPM&&d&&(1===o?l+r===23:Math.abs(l-r)>o)&&(ve.amPM.textContent=ve.l10n.amPM[u(ve.amPM.textContent===ve.l10n.amPM[0])]),i.value=f(l)}}(e);var t=ve._input.value;b(),me(),ve._input.value!==t&&ve._debouncedChange()}function b(){if(void 0!==ve.hourElement&&void 0!==ve.minuteElement){var e,t,i=(parseInt(ve.hourElement.value.slice(-2),10)||0)%24,a=(parseInt(ve.minuteElement.value,10)||0)%60,n=void 0!==ve.secondElement?(parseInt(ve.secondElement.value,10)||0)%60:0;void 0!==ve.amPM&&(e=i,t=ve.amPM.textContent,i=e%12+12*u(t===ve.l10n.amPM[1]));var r=void 0!==ve.config.minTime||ve.config.minDate&&ve.minDateHasTime&&ve.latestSelectedDateObj&&0===o(ve.latestSelectedDateObj,ve.config.minDate,!0);if(void 0!==ve.config.maxTime||ve.config.maxDate&&ve.maxDateHasTime&&ve.latestSelectedDateObj&&0===o(ve.latestSelectedDateObj,ve.config.maxDate,!0)){var s=void 0!==ve.config.maxTime?ve.config.maxTime:ve.config.maxDate;(i=Math.min(i,s.getHours()))===s.getHours()&&(a=Math.min(a,s.getMinutes())),a===s.getMinutes()&&(n=Math.min(n,s.getSeconds()))}if(r){var l=void 0!==ve.config.minTime?ve.config.minTime:ve.config.minDate;(i=Math.max(i,l.getHours()))===l.getHours()&&(a=Math.max(a,l.getMinutes())),a===l.getMinutes()&&(n=Math.max(n,l.getSeconds()))}$(i,a,n)}}function M(e){var t=e||ve.latestSelectedDateObj;t&&$(t.getHours(),t.getMinutes(),t.getSeconds())}function F(){var e=ve.config.defaultHour,t=ve.config.defaultMinute,i=ve.config.defaultSeconds;if(void 0!==ve.config.minDate){var a=ve.config.minDate.getHours(),n=ve.config.minDate.getMinutes();(e=Math.max(e,a))===a&&(t=Math.max(n,t)),e===a&&t===n&&(i=ve.config.minDate.getSeconds())}if(void 0!==ve.config.maxDate){var o=ve.config.maxDate.getHours(),r=ve.config.maxDate.getMinutes();(e=Math.min(e,o))===o&&(t=Math.min(r,t)),e===o&&t===r&&(i=ve.config.maxDate.getSeconds())}$(e,t,i)}function $(e,t,i){void 0!==ve.latestSelectedDateObj&&ve.latestSelectedDateObj.setHours(e%24,t,i||0,0),ve.hourElement&&ve.minuteElement&&!ve.isMobile&&(ve.hourElement.value=f(ve.config.time_24hr?e:(12+e)%12+12*u(e%12==0)),ve.minuteElement.value=f(t),void 0!==ve.amPM&&(ve.amPM.textContent=ve.l10n.amPM[u(e>=12)]),void 0!==ve.secondElement&&(ve.secondElement.value=f(i)))}function T(e){var t=parseInt(e.target.value)+(e.delta||0);(t/1e3>1||"Enter"===e.key&&!/[^\d]/.test(t.toString()))&&K(t)}function A(e,t,i,a){return t instanceof Array?t.forEach(function(t){return A(e,t,i,a)}):e instanceof Array?e.forEach(function(e){return A(e,t,i,a)}):(e.addEventListener(t,i,a),void ve._handlers.push({element:e,event:t,handler:i,options:a}))}function E(e){return function(t){1===t.which&&e(t)}}function S(){ce("onChange")}function I(e){var t=void 0!==e?ve.parseDate(e):ve.latestSelectedDateObj||(ve.config.minDate&&ve.config.minDate>ve.now?ve.config.minDate:ve.config.maxDate&&ve.config.maxDate<ve.now?ve.config.maxDate:ve.now);try{void 0!==t&&(ve.currentYear=t.getFullYear(),ve.currentMonth=t.getMonth())}catch(e){e.message="Invalid date supplied: "+t,ve.config.errorHandler(e)}ve.redraw()}function N(e){~e.target.className.indexOf("arrow")&&P(e,e.target.classList.contains("arrowUp")?1:-1)}function P(e,t,i){var a=e&&e.target,n=i||a&&a.parentNode&&a.parentNode.firstChild,o=he("increment");o.delta=t,n&&n.dispatchEvent(o)}function O(e,a,n,r){var s=G(a,!0),l=i("span","flatpickr-day "+e,a.getDate().toString());return l.dateObj=a,l.$i=r,l.setAttribute("aria-label",ve.formatDate(a,ve.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===o(a,ve.now)&&(ve.todayDateElem=l,l.classList.add("today"),l.setAttribute("aria-current","date")),s?(l.tabIndex=-1,fe(a)&&(l.classList.add("selected"),ve.selectedDateElem=l,"range"===ve.config.mode&&(t(l,"startRange",ve.selectedDates[0]&&0===o(a,ve.selectedDates[0],!0)),t(l,"endRange",ve.selectedDates[1]&&0===o(a,ve.selectedDates[1],!0)),"nextMonthDay"===e&&l.classList.add("inRange")))):l.classList.add("disabled"),"range"===ve.config.mode&&function(e){return!("range"!==ve.config.mode||ve.selectedDates.length<2)&&o(e,ve.selectedDates[0])>=0&&o(e,ve.selectedDates[1])<=0}(a)&&!fe(a)&&l.classList.add("inRange"),ve.weekNumbers&&1===ve.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&ve.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+ve.config.getWeek(a)+"</span>"),ce("onDayCreate",l),l}function R(e){e.focus(),"range"===ve.config.mode&&Q(e)}function L(e){for(var t=e>0?0:ve.config.showMonths-1,i=e>0?ve.config.showMonths:-1,a=t;a!=i;a+=e)for(var n=ve.daysContainer.children[a],o=e>0?0:n.children.length-1,r=e>0?n.children.length:-1,s=o;s!=r;s+=e){var l=n.children[s];if(-1===l.className.indexOf("hidden")&&G(l.dateObj))return l}}function j(e,t){var i=J(document.activeElement||document.body),a=void 0!==e?e:i?document.activeElement:void 0!==ve.selectedDateElem&&J(ve.selectedDateElem)?ve.selectedDateElem:void 0!==ve.todayDateElem&&J(ve.todayDateElem)?ve.todayDateElem:L(t>0?1:-1);return void 0===a?ve._input.focus():i?void function(e,t){for(var i=-1===e.className.indexOf("Month")?e.dateObj.getMonth():ve.currentMonth,a=t>0?ve.config.showMonths:-1,n=t>0?1:-1,o=i-ve.currentMonth;o!=a;o+=n)for(var r=ve.daysContainer.children[o],s=i-ve.currentMonth===o?e.$i+t:t<0?r.children.length-1:0,l=r.children.length,d=s;d>=0&&d<l&&d!=(t>0?l:-1);d+=n){var c=r.children[d];if(-1===c.className.indexOf("hidden")&&G(c.dateObj)&&Math.abs(e.$i-d)>=Math.abs(t))return R(c)}ve.changeMonth(n),j(L(n),0)}(a,t):R(a)}function H(e,t){for(var a=(new Date(e,t,1).getDay()-ve.l10n.firstDayOfWeek+7)%7,n=ve.utils.getDaysInMonth((t-1+12)%12),o=ve.utils.getDaysInMonth(t),r=window.document.createDocumentFragment(),s=ve.config.showMonths>1,l=s?"prevMonthDay hidden":"prevMonthDay",d=s?"nextMonthDay hidden":"nextMonthDay",c=n+1-a,h=0;c<=n;c++,h++)r.appendChild(O(l,new Date(e,t-1,c),c,h));for(c=1;c<=o;c++,h++)r.appendChild(O("",new Date(e,t,c),c,h));for(var f=o+1;f<=42-a&&(1===ve.config.showMonths||h%7!=0);f++,h++)r.appendChild(O(d,new Date(e,t+1,f%o),f,h));var u=i("div","dayContainer");return u.appendChild(r),u}function V(){if(void 0!==ve.daysContainer){a(ve.daysContainer),ve.weekNumbers&&a(ve.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<ve.config.showMonths;t++){var i=new Date(ve.currentYear,ve.currentMonth,1);i.setMonth(ve.currentMonth+t),e.appendChild(H(i.getFullYear(),i.getMonth()))}ve.daysContainer.appendChild(e),ve.days=ve.daysContainer.firstChild,"range"===ve.config.mode&&1===ve.selectedDates.length&&Q()}}function Y(){var e=i("div","flatpickr-month"),t=window.document.createDocumentFragment(),a=i("span","cur-month"),o=n("cur-year",{tabindex:"-1"}),r=o.getElementsByTagName("input")[0];r.setAttribute("aria-label",ve.l10n.yearAriaLabel),ve.config.minDate&&r.setAttribute("min",ve.config.minDate.getFullYear().toString()),ve.config.maxDate&&(r.setAttribute("max",ve.config.maxDate.getFullYear().toString()),r.disabled=!!ve.config.minDate&&ve.config.minDate.getFullYear()===ve.config.maxDate.getFullYear());var s=i("div","flatpickr-current-month");return s.appendChild(a),s.appendChild(o),t.appendChild(s),e.appendChild(t),{container:e,yearElement:r,monthElement:a}}function q(){a(ve.monthNav),ve.monthNav.appendChild(ve.prevMonthNav),ve.config.showMonths&&(ve.yearElements=[],ve.monthElements=[]);for(var e=ve.config.showMonths;e--;){var t=Y();ve.yearElements.push(t.yearElement),ve.monthElements.push(t.monthElement),ve.monthNav.appendChild(t.container)}ve.monthNav.appendChild(ve.nextMonthNav)}function W(){ve.weekdayContainer?a(ve.weekdayContainer):ve.weekdayContainer=i("div","flatpickr-weekdays");for(var e=ve.config.showMonths;e--;){var t=i("div","flatpickr-weekdaycontainer");ve.weekdayContainer.appendChild(t)}return Z(),ve.weekdayContainer}function Z(){var e=ve.l10n.firstDayOfWeek,t=ve.l10n.weekdays.shorthand.slice();e>0&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e)));for(var i=ve.config.showMonths;i--;)ve.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}function U(e,t){void 0===t&&(t=!0);var i=t?e:e-ve.currentMonth;i<0&&!0===ve._hidePrevMonthArrow||i>0&&!0===ve._hideNextMonthArrow||(ve.currentMonth+=i,(ve.currentMonth<0||ve.currentMonth>11)&&(ve.currentYear+=ve.currentMonth>11?1:-1,ve.currentMonth=(ve.currentMonth+12)%12,ce("onYearChange")),V(),ce("onMonthChange"),ue())}function B(e){return!(!ve.config.appendTo||!ve.config.appendTo.contains(e))||ve.calendarContainer.contains(e)}function z(e){if(ve.isOpen&&!ve.config.inline){var t="function"==typeof(r=e).composedPath?r.composedPath()[0]:r.target,i=B(t),a=t===ve.input||t===ve.altInput||ve.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(ve.input)||~e.path.indexOf(ve.altInput)),n="blur"===e.type?a&&e.relatedTarget&&!B(e.relatedTarget):!a&&!i&&!B(e.relatedTarget),o=!ve.config.ignoredFocusElements.some(function(e){return e.contains(t)});n&&o&&(ve.close(),"range"===ve.config.mode&&1===ve.selectedDates.length&&(ve.clear(!1),ve.redraw()))}var r}function K(e){if(!(!e||ve.config.minDate&&e<ve.config.minDate.getFullYear()||ve.config.maxDate&&e>ve.config.maxDate.getFullYear())){var t=e,i=ve.currentYear!==t;ve.currentYear=t||ve.currentYear,ve.config.maxDate&&ve.currentYear===ve.config.maxDate.getFullYear()?ve.currentMonth=Math.min(ve.config.maxDate.getMonth(),ve.currentMonth):ve.config.minDate&&ve.currentYear===ve.config.minDate.getFullYear()&&(ve.currentMonth=Math.max(ve.config.minDate.getMonth(),ve.currentMonth)),i&&(ve.redraw(),ce("onYearChange"))}}function G(e,t){void 0===t&&(t=!0);var i=ve.parseDate(e,void 0,t);if(ve.config.minDate&&i&&o(i,ve.config.minDate,void 0!==t?t:!ve.minDateHasTime)<0||ve.config.maxDate&&i&&o(i,ve.config.maxDate,void 0!==t?t:!ve.maxDateHasTime)>0)return!1;if(0===ve.config.enable.length&&0===ve.config.disable.length)return!0;if(void 0===i)return!1;for(var a=ve.config.enable.length>0,n=a?ve.config.enable:ve.config.disable,r=0,s=void 0;r<n.length;r++){if("function"==typeof(s=n[r])&&s(i))return a;if(s instanceof Date&&void 0!==i&&s.getTime()===i.getTime())return a;if("string"==typeof s&&void 0!==i){var l=ve.parseDate(s,void 0,!0);return l&&l.getTime()===i.getTime()?a:!a}if("object"==typeof s&&void 0!==i&&s.from&&s.to&&i.getTime()>=s.from.getTime()&&i.getTime()<=s.to.getTime())return a}return!a}function J(e){return void 0!==ve.daysContainer&&-1===e.className.indexOf("hidden")&&ve.daysContainer.contains(e)}function X(e){var t=e.target===ve._input,i=ve.config.allowInput,a=ve.isOpen&&(!i||!t),n=ve.config.inline&&t&&!i;if(13===e.keyCode&&t){if(i)return ve.setDate(ve._input.value,!0,e.target===ve.altInput?ve.config.altFormat:ve.config.dateFormat),e.target.blur();ve.open()}else if(B(e.target)||a||n){var o=!!ve.timeContainer&&ve.timeContainer.contains(e.target);switch(e.keyCode){case 13:o?(v(),re()):se(e);break;case 27:e.preventDefault(),re();break;case 8:case 46:t&&!ve.config.allowInput&&(e.preventDefault(),ve.clear());break;case 37:case 39:if(o)ve.hourElement&&ve.hourElement.focus();else if(e.preventDefault(),void 0!==ve.daysContainer&&(!1===i||document.activeElement&&J(document.activeElement))){var r=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),U(r),j(L(1),0)):j(void 0,r)}break;case 38:case 40:e.preventDefault();var s=40===e.keyCode?1:-1;ve.daysContainer&&void 0!==e.target.$i||e.target===ve.input?e.ctrlKey?(e.stopPropagation(),K(ve.currentYear-s),j(L(1),0)):o||j(void 0,7*s):ve.config.enableTime&&(!o&&ve.hourElement&&ve.hourElement.focus(),v(e),ve._debouncedChange());break;case 9:if(o){var l=[ve.hourElement,ve.minuteElement,ve.secondElement,ve.amPM].filter(function(e){return e}),d=l.indexOf(e.target);if(-1!==d){var c=l[d+(e.shiftKey?-1:1)];void 0!==c?(e.preventDefault(),c.focus()):e.shiftKey&&(e.preventDefault(),ve._input.focus())}}}}if(void 0!==ve.amPM&&e.target===ve.amPM)switch(e.key){case ve.l10n.amPM[0].charAt(0):case ve.l10n.amPM[0].charAt(0).toLowerCase():ve.amPM.textContent=ve.l10n.amPM[0],b(),me();break;case ve.l10n.amPM[1].charAt(0):case ve.l10n.amPM[1].charAt(0).toLowerCase():ve.amPM.textContent=ve.l10n.amPM[1],b(),me()}ce("onKeyDown",e)}function Q(e){if(1===ve.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled"))){for(var t=e?e.dateObj.getTime():ve.days.firstElementChild.dateObj.getTime(),i=ve.parseDate(ve.selectedDates[0],void 0,!0).getTime(),a=Math.min(t,ve.selectedDates[0].getTime()),n=Math.max(t,ve.selectedDates[0].getTime()),o=ve.daysContainer.lastChild.lastChild.dateObj.getTime(),r=!1,s=0,l=0,d=a;d<o;d+=C.DAY)G(new Date(d),!0)||(r=r||d>a&&d<n,d<i&&(!s||d>s)?s=d:d>i&&(!l||d<l)&&(l=d));for(var c=0;c<ve.config.showMonths;c++)for(var h=ve.daysContainer.children[c],f=ve.daysContainer.children[c-1],u=0,p=h.children.length;u<p;u++)!function(a,n){var o=h.children[a],d=o.dateObj.getTime(),u=s>0&&d<s||l>0&&d>l;u?(o.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(e){o.classList.remove(e)})):r&&!u||(["startRange","inRange","endRange","notAllowed"].forEach(function(e){o.classList.remove(e)}),void 0!==e&&(e.classList.add(t<ve.selectedDates[0].getTime()?"startRange":"endRange"),!h.contains(e)&&c>0&&f&&f.lastChild.dateObj.getTime()>=d||(i<t&&d===i?o.classList.add("startRange"):i>t&&d===i&&o.classList.add("endRange"),d>=s&&(0===l||d<=l)&&x(d,i,t)&&o.classList.add("inRange"))))}(u)}}function ee(){!ve.isOpen||ve.config.static||ve.config.inline||ne()}function te(){ve.setDate(void 0!==ve.config.minDate?new Date(ve.config.minDate.getTime()):new Date,!1),F(),me()}function ie(e){return function(t){var i=ve.config["_"+e+"Date"]=ve.parseDate(t,ve.config.dateFormat),a=ve.config["_"+("min"===e?"max":"min")+"Date"];void 0!==i&&(ve["min"===e?"minDateHasTime":"maxDateHasTime"]=i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0),ve.selectedDates&&(ve.selectedDates=ve.selectedDates.filter(function(e){return G(e)}),ve.selectedDates.length||"min"!==e||M(i),me()),ve.daysContainer&&(oe(),void 0!==i?ve.currentYearElement[e]=i.getFullYear().toString():ve.currentYearElement.removeAttribute(e),ve.currentYearElement.disabled=!!a&&void 0!==i&&a.getFullYear()===i.getFullYear())}}function ae(){"object"!=typeof ve.config.locale&&void 0===D.l10ns[ve.config.locale]&&ve.config.errorHandler(new Error("flatpickr: invalid locale "+ve.config.locale)),ve.l10n=l({},D.l10ns.default,"object"==typeof ve.config.locale?ve.config.locale:"default"!==ve.config.locale?D.l10ns[ve.config.locale]:void 0),_.K="("+ve.l10n.amPM[0]+"|"+ve.l10n.amPM[1]+"|"+ve.l10n.amPM[0].toLowerCase()+"|"+ve.l10n.amPM[1].toLowerCase()+")",ve.formatDate=y(ve),ve.parseDate=w({config:ve.config,l10n:ve.l10n})}function ne(e){if(void 0!==ve.calendarContainer){ce("onPreCalendarPosition");var i=e||ve._positionElement,a=Array.prototype.reduce.call(ve.calendarContainer.children,function(e,t){return e+t.offsetHeight},0),n=ve.calendarContainer.offsetWidth,o=ve.config.position.split(" "),r=o[0],s=o.length>1?o[1]:null,l=i.getBoundingClientRect(),d=window.innerHeight-l.bottom,c="above"===r||"below"!==r&&d<a&&l.top>a,h=window.pageYOffset+l.top+(c?-a-2:i.offsetHeight+2);if(t(ve.calendarContainer,"arrowTop",!c),t(ve.calendarContainer,"arrowBottom",c),!ve.config.inline){var f=window.pageXOffset+l.left-(null!=s&&"center"===s?(n-l.width)/2:0),u=window.document.body.offsetWidth-l.right,p=f+n>window.document.body.offsetWidth,m=u+n>window.document.body.offsetWidth;if(t(ve.calendarContainer,"rightMost",p),!ve.config.static)if(ve.calendarContainer.style.top=h+"px",p)if(m){var g=document.styleSheets[0];if(void 0===g)return;var v=window.document.body.offsetWidth,_=Math.max(0,v/2-n/2),b=g.cssRules.length,y="{left:"+l.left+"px;right:auto;}";t(ve.calendarContainer,"rightMost",!1),t(ve.calendarContainer,"centerMost",!0),g.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+y,b),ve.calendarContainer.style.left=_+"px",ve.calendarContainer.style.right="auto"}else ve.calendarContainer.style.left="auto",ve.calendarContainer.style.right=u+"px";else ve.calendarContainer.style.left=f+"px",ve.calendarContainer.style.right="auto"}}}function oe(){ve.config.noCalendar||ve.isMobile||(ue(),V())}function re(){ve._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(ve.close,0):ve.close()}function se(e){e.preventDefault(),e.stopPropagation();var t=function e(t,i){return i(t)?t:t.parentNode?e(t.parentNode,i):void 0}(e.target,function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled")&&!e.classList.contains("notAllowed")});if(void 0!==t){var i=t,a=ve.latestSelectedDateObj=new Date(i.dateObj.getTime()),n=(a.getMonth()<ve.currentMonth||a.getMonth()>ve.currentMonth+ve.config.showMonths-1)&&"range"!==ve.config.mode;if(ve.selectedDateElem=i,"single"===ve.config.mode)ve.selectedDates=[a];else if("multiple"===ve.config.mode){var r=fe(a);r?ve.selectedDates.splice(parseInt(r),1):ve.selectedDates.push(a)}else"range"===ve.config.mode&&(2===ve.selectedDates.length&&ve.clear(!1,!1),ve.latestSelectedDateObj=a,ve.selectedDates.push(a),0!==o(a,ve.selectedDates[0],!0)&&ve.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()}));if(b(),n){var s=ve.currentYear!==a.getFullYear();ve.currentYear=a.getFullYear(),ve.currentMonth=a.getMonth(),s&&ce("onYearChange"),ce("onMonthChange")}if(ue(),V(),me(),ve.config.enableTime&&setTimeout(function(){return ve.showTimeInput=!0},50),n||"range"===ve.config.mode||1!==ve.config.showMonths?void 0!==ve.selectedDateElem&&void 0===ve.hourElement&&ve.selectedDateElem&&ve.selectedDateElem.focus():R(i),void 0!==ve.hourElement&&void 0!==ve.hourElement&&ve.hourElement.focus(),ve.config.closeOnSelect){var l="single"===ve.config.mode&&!ve.config.enableTime,d="range"===ve.config.mode&&2===ve.selectedDates.length&&!ve.config.enableTime;(l||d)&&re()}S()}}function le(e,t){var i=[];if(e instanceof Array)i=e.map(function(e){return ve.parseDate(e,t)});else if(e instanceof Date||"number"==typeof e)i=[ve.parseDate(e,t)];else if("string"==typeof e)switch(ve.config.mode){case"single":case"time":i=[ve.parseDate(e,t)];break;case"multiple":i=e.split(ve.config.conjunction).map(function(e){return ve.parseDate(e,t)});break;case"range":i=e.split(ve.l10n.rangeSeparator).map(function(e){return ve.parseDate(e,t)})}else ve.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));ve.selectedDates=i.filter(function(e){return e instanceof Date&&G(e,!1)}),"range"===ve.config.mode&&ve.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function de(e){return e.slice().map(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?ve.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:ve.parseDate(e.from,void 0),to:ve.parseDate(e.to,void 0)}:e}).filter(function(e){return e})}function ce(e,t){if(void 0!==ve.config){var i=ve.config[e];if(void 0!==i&&i.length>0)for(var a=0;i[a]&&a<i.length;a++)i[a](ve.selectedDates,ve.input.value,ve,t);"onChange"===e&&(ve.input.dispatchEvent(he("change")),ve.input.dispatchEvent(he("input")))}}function he(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function fe(e){for(var t=0;t<ve.selectedDates.length;t++)if(0===o(ve.selectedDates[t],e))return""+t;return!1}function ue(){ve.config.noCalendar||ve.isMobile||!ve.monthNav||(ve.yearElements.forEach(function(e,t){var i=new Date(ve.currentYear,ve.currentMonth,1);i.setMonth(ve.currentMonth+t),ve.monthElements[t].textContent=g(i.getMonth(),ve.config.shorthandCurrentMonth,ve.l10n)+" ",e.value=i.getFullYear().toString()}),ve._hidePrevMonthArrow=void 0!==ve.config.minDate&&(ve.currentYear===ve.config.minDate.getFullYear()?ve.currentMonth<=ve.config.minDate.getMonth():ve.currentYear<ve.config.minDate.getFullYear()),ve._hideNextMonthArrow=void 0!==ve.config.maxDate&&(ve.currentYear===ve.config.maxDate.getFullYear()?ve.currentMonth+1>ve.config.maxDate.getMonth():ve.currentYear>ve.config.maxDate.getFullYear()))}function pe(e){return ve.selectedDates.map(function(t){return ve.formatDate(t,e)}).filter(function(e,t,i){return"range"!==ve.config.mode||ve.config.enableTime||i.indexOf(e)===t}).join("range"!==ve.config.mode?ve.config.conjunction:ve.l10n.rangeSeparator)}function me(e){if(void 0===e&&(e=!0),0===ve.selectedDates.length)return ve.clear(e);void 0!==ve.mobileInput&&ve.mobileFormatStr&&(ve.mobileInput.value=void 0!==ve.latestSelectedDateObj?ve.formatDate(ve.latestSelectedDateObj,ve.mobileFormatStr):""),ve.input.value=pe(ve.config.dateFormat),void 0!==ve.altInput&&(ve.altInput.value=pe(ve.config.altFormat)),!1!==e&&ce("onValueUpdate")}function ge(e){e.preventDefault();var t=ve.prevMonthNav.contains(e.target),i=ve.nextMonthNav.contains(e.target);t||i?U(t?-1:1):ve.yearElements.indexOf(e.target)>=0?e.target.select():e.target.classList.contains("arrowUp")?ve.changeYear(ve.currentYear+1):e.target.classList.contains("arrowDown")&&ve.changeYear(ve.currentYear-1)}var ve={config:l({},D.defaultConfig),l10n:h};ve.parseDate=w({config:ve.config,l10n:ve.l10n}),ve._handlers=[],ve._bind=A,ve._setHoursFromDate=M,ve._positionCalendar=ne,ve.changeMonth=U,ve.changeYear=K,ve.clear=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),ve.input.value="",void 0!==ve.altInput&&(ve.altInput.value=""),void 0!==ve.mobileInput&&(ve.mobileInput.value=""),ve.selectedDates=[],ve.latestSelectedDateObj=void 0,!0===t&&(ve.currentYear=ve._initialDate.getFullYear(),ve.currentMonth=ve._initialDate.getMonth()),ve.showTimeInput=!1,!0===ve.config.enableTime&&F(),ve.redraw(),e&&ce("onChange")},ve.close=function(){ve.isOpen=!1,ve.isMobile||(void 0!==ve.calendarContainer&&ve.calendarContainer.classList.remove("open"),void 0!==ve._input&&ve._input.classList.remove("active")),ce("onClose")},ve._createElement=i,ve.destroy=function(){void 0!==ve.config&&ce("onDestroy");for(var e=ve._handlers.length;e--;){var t=ve._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}if(ve._handlers=[],ve.mobileInput)ve.mobileInput.parentNode&&ve.mobileInput.parentNode.removeChild(ve.mobileInput),ve.mobileInput=void 0;else if(ve.calendarContainer&&ve.calendarContainer.parentNode)if(ve.config.static&&ve.calendarContainer.parentNode){var i=ve.calendarContainer.parentNode;if(i.lastChild&&i.removeChild(i.lastChild),i.parentNode){for(;i.firstChild;)i.parentNode.insertBefore(i.firstChild,i);i.parentNode.removeChild(i)}}else ve.calendarContainer.parentNode.removeChild(ve.calendarContainer);ve.altInput&&(ve.input.type="text",ve.altInput.parentNode&&ve.altInput.parentNode.removeChild(ve.altInput),delete ve.altInput),ve.input&&(ve.input.type=ve.input._type,ve.input.classList.remove("flatpickr-input"),ve.input.removeAttribute("readonly"),ve.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete ve[e]}catch(e){}})},ve.isEnabled=G,ve.jumpToDate=I,ve.open=function(e,t){if(void 0===t&&(t=ve._positionElement),!0===ve.isMobile)return e&&(e.preventDefault(),e.target&&e.target.blur()),void 0!==ve.mobileInput&&(ve.mobileInput.focus(),ve.mobileInput.click()),void ce("onOpen");if(!ve._input.disabled&&!ve.config.inline){var i=ve.isOpen;ve.isOpen=!0,i||(ve.calendarContainer.classList.add("open"),ve._input.classList.add("active"),ce("onOpen"),ne(t)),!0===ve.config.enableTime&&!0===ve.config.noCalendar&&(0===ve.selectedDates.length&&te(),!1!==ve.config.allowInput||void 0!==e&&ve.timeContainer.contains(e.relatedTarget)||setTimeout(function(){return ve.hourElement.select()},50))}},ve.redraw=oe,ve.set=function(e,t){null!==e&&"object"==typeof e?Object.assign(ve.config,e):(ve.config[e]=t,void 0!==_e[e]?_e[e].forEach(function(e){return e()}):d.indexOf(e)>-1&&(ve.config[e]=p(t))),ve.redraw(),me(!1)},ve.setDate=function(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=ve.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return ve.clear(t);le(e,i),ve.showTimeInput=ve.selectedDates.length>0,ve.latestSelectedDateObj=ve.selectedDates[0],ve.redraw(),I(),M(),me(t),t&&ce("onChange")},ve.toggle=function(e){if(!0===ve.isOpen)return ve.close();ve.open(e)};var _e={locale:[ae,Z],showMonths:[q,m,W]};return function(){ve.element=ve.input=r,ve.isOpen=!1,function(){var e=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],t=l({},s,JSON.parse(JSON.stringify(r.dataset||{}))),i={};ve.config.parseDate=t.parseDate,ve.config.formatDate=t.formatDate,Object.defineProperty(ve.config,"enable",{get:function(){return ve.config._enable},set:function(e){ve.config._enable=de(e)}}),Object.defineProperty(ve.config,"disable",{get:function(){return ve.config._disable},set:function(e){ve.config._disable=de(e)}});var a="time"===t.mode;t.dateFormat||!t.enableTime&&!a||(i.dateFormat=t.noCalendar||a?"H:i"+(t.enableSeconds?":S":""):D.defaultConfig.dateFormat+" H:i"+(t.enableSeconds?":S":"")),t.altInput&&(t.enableTime||a)&&!t.altFormat&&(i.altFormat=t.noCalendar||a?"h:i"+(t.enableSeconds?":S K":" K"):D.defaultConfig.altFormat+" h:i"+(t.enableSeconds?":S":"")+" K"),Object.defineProperty(ve.config,"minDate",{get:function(){return ve.config._minDate},set:ie("min")}),Object.defineProperty(ve.config,"maxDate",{get:function(){return ve.config._maxDate},set:ie("max")});var n=function(e){return function(t){ve.config["min"===e?"_minTime":"_maxTime"]=ve.parseDate(t,"H:i")}};Object.defineProperty(ve.config,"minTime",{get:function(){return ve.config._minTime},set:n("min")}),Object.defineProperty(ve.config,"maxTime",{get:function(){return ve.config._maxTime},set:n("max")}),"time"===t.mode&&(ve.config.noCalendar=!0,ve.config.enableTime=!0),Object.assign(ve.config,i,t);for(var o=0;o<e.length;o++)ve.config[e[o]]=!0===ve.config[e[o]]||"true"===ve.config[e[o]];d.filter(function(e){return void 0!==ve.config[e]}).forEach(function(e){ve.config[e]=p(ve.config[e]||[]).map(c)}),ve.isMobile=!ve.config.disableMobile&&!ve.config.inline&&"single"===ve.config.mode&&!ve.config.disable.length&&!ve.config.enable.length&&!ve.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var o=0;o<ve.config.plugins.length;o++){var h=ve.config.plugins[o](ve)||{};for(var f in h)d.indexOf(f)>-1?ve.config[f]=p(h[f]).map(c).concat(ve.config[f]):void 0===t[f]&&(ve.config[f]=h[f])}ce("onParseConfig")}(),ae(),ve.input=ve.config.wrap?r.querySelector("[data-input]"):r,ve.input?(ve.input._type=ve.input.type,ve.input.type="text",ve.input.classList.add("flatpickr-input"),ve._input=ve.input,ve.config.altInput&&(ve.altInput=i(ve.input.nodeName,ve.input.className+" "+ve.config.altInputClass),ve._input=ve.altInput,ve.altInput.placeholder=ve.input.placeholder,ve.altInput.disabled=ve.input.disabled,ve.altInput.required=ve.input.required,ve.altInput.tabIndex=ve.input.tabIndex,ve.altInput.type="text",ve.input.setAttribute("type","hidden"),!ve.config.static&&ve.input.parentNode&&ve.input.parentNode.insertBefore(ve.altInput,ve.input.nextSibling)),ve.config.allowInput||ve._input.setAttribute("readonly","readonly"),ve._positionElement=ve.config.positionElement||ve._input):ve.config.errorHandler(new Error("Invalid input element specified")),function(){ve.selectedDates=[],ve.now=ve.parseDate(ve.config.now)||new Date;var e=ve.config.defaultDate||("INPUT"!==ve.input.nodeName&&"TEXTAREA"!==ve.input.nodeName||!ve.input.placeholder||ve.input.value!==ve.input.placeholder?ve.input.value:null);e&&le(e,ve.config.dateFormat),ve._initialDate=ve.selectedDates.length>0?ve.selectedDates[0]:ve.config.minDate&&ve.config.minDate.getTime()>ve.now.getTime()?ve.config.minDate:ve.config.maxDate&&ve.config.maxDate.getTime()<ve.now.getTime()?ve.config.maxDate:ve.now,ve.currentYear=ve._initialDate.getFullYear(),ve.currentMonth=ve._initialDate.getMonth(),ve.selectedDates.length>0&&(ve.latestSelectedDateObj=ve.selectedDates[0]),void 0!==ve.config.minTime&&(ve.config.minTime=ve.parseDate(ve.config.minTime,"H:i")),void 0!==ve.config.maxTime&&(ve.config.maxTime=ve.parseDate(ve.config.maxTime,"H:i")),ve.minDateHasTime=!!ve.config.minDate&&(ve.config.minDate.getHours()>0||ve.config.minDate.getMinutes()>0||ve.config.minDate.getSeconds()>0),ve.maxDateHasTime=!!ve.config.maxDate&&(ve.config.maxDate.getHours()>0||ve.config.maxDate.getMinutes()>0||ve.config.maxDate.getSeconds()>0),Object.defineProperty(ve,"showTimeInput",{get:function(){return ve._showTimeInput},set:function(e){ve._showTimeInput=e,ve.calendarContainer&&t(ve.calendarContainer,"showTimeInput",e),ve.isOpen&&ne()}})}(),ve.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=ve.currentMonth),void 0===t&&(t=ve.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:ve.l10n.daysInMonth[e]}},ve.isMobile||function(){var e=window.document.createDocumentFragment();if(ve.calendarContainer=i("div","flatpickr-calendar"),ve.calendarContainer.tabIndex=-1,!ve.config.noCalendar){if(e.appendChild((ve.monthNav=i("div","flatpickr-months"),ve.yearElements=[],ve.monthElements=[],ve.prevMonthNav=i("span","flatpickr-prev-month"),ve.prevMonthNav.innerHTML=ve.config.prevArrow,ve.nextMonthNav=i("span","flatpickr-next-month"),
ve.nextMonthNav.innerHTML=ve.config.nextArrow,q(),Object.defineProperty(ve,"_hidePrevMonthArrow",{get:function(){return ve.__hidePrevMonthArrow},set:function(e){ve.__hidePrevMonthArrow!==e&&(t(ve.prevMonthNav,"disabled",e),ve.__hidePrevMonthArrow=e)}}),Object.defineProperty(ve,"_hideNextMonthArrow",{get:function(){return ve.__hideNextMonthArrow},set:function(e){ve.__hideNextMonthArrow!==e&&(t(ve.nextMonthNav,"disabled",e),ve.__hideNextMonthArrow=e)}}),ve.currentYearElement=ve.yearElements[0],ue(),ve.monthNav)),ve.innerContainer=i("div","flatpickr-innerContainer"),ve.config.weekNumbers){var a=function(){ve.calendarContainer.classList.add("hasWeeks");var e=i("div","flatpickr-weekwrapper");e.appendChild(i("span","flatpickr-weekday",ve.l10n.weekAbbreviation));var t=i("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),o=a.weekWrapper,r=a.weekNumbers;ve.innerContainer.appendChild(o),ve.weekNumbers=r,ve.weekWrapper=o}ve.rContainer=i("div","flatpickr-rContainer"),ve.rContainer.appendChild(W()),ve.daysContainer||(ve.daysContainer=i("div","flatpickr-days"),ve.daysContainer.tabIndex=-1),V(),ve.rContainer.appendChild(ve.daysContainer),ve.innerContainer.appendChild(ve.rContainer),e.appendChild(ve.innerContainer)}ve.config.enableTime&&e.appendChild(function(){ve.calendarContainer.classList.add("hasTime"),ve.config.noCalendar&&ve.calendarContainer.classList.add("noCalendar"),ve.timeContainer=i("div","flatpickr-time"),ve.timeContainer.tabIndex=-1;var e=i("span","flatpickr-time-separator",":"),t=n("flatpickr-hour");ve.hourElement=t.getElementsByTagName("input")[0];var a=n("flatpickr-minute");if(ve.minuteElement=a.getElementsByTagName("input")[0],ve.hourElement.tabIndex=ve.minuteElement.tabIndex=-1,ve.hourElement.value=f(ve.latestSelectedDateObj?ve.latestSelectedDateObj.getHours():ve.config.time_24hr?ve.config.defaultHour:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(ve.config.defaultHour)),ve.minuteElement.value=f(ve.latestSelectedDateObj?ve.latestSelectedDateObj.getMinutes():ve.config.defaultMinute),ve.hourElement.setAttribute("step",ve.config.hourIncrement.toString()),ve.minuteElement.setAttribute("step",ve.config.minuteIncrement.toString()),ve.hourElement.setAttribute("min",ve.config.time_24hr?"0":"1"),ve.hourElement.setAttribute("max",ve.config.time_24hr?"23":"12"),ve.minuteElement.setAttribute("min","0"),ve.minuteElement.setAttribute("max","59"),ve.timeContainer.appendChild(t),ve.timeContainer.appendChild(e),ve.timeContainer.appendChild(a),ve.config.time_24hr&&ve.timeContainer.classList.add("time24hr"),ve.config.enableSeconds){ve.timeContainer.classList.add("hasSeconds");var o=n("flatpickr-second");ve.secondElement=o.getElementsByTagName("input")[0],ve.secondElement.value=f(ve.latestSelectedDateObj?ve.latestSelectedDateObj.getSeconds():ve.config.defaultSeconds),ve.secondElement.setAttribute("step",ve.minuteElement.getAttribute("step")),ve.secondElement.setAttribute("min","0"),ve.secondElement.setAttribute("max","59"),ve.timeContainer.appendChild(i("span","flatpickr-time-separator",":")),ve.timeContainer.appendChild(o)}return ve.config.time_24hr||(ve.amPM=i("span","flatpickr-am-pm",ve.l10n.amPM[u((ve.latestSelectedDateObj?ve.hourElement.value:ve.config.defaultHour)>11)]),ve.amPM.title=ve.l10n.toggleTitle,ve.amPM.tabIndex=-1,ve.timeContainer.appendChild(ve.amPM)),ve.timeContainer}()),t(ve.calendarContainer,"rangeMode","range"===ve.config.mode),t(ve.calendarContainer,"animate",!0===ve.config.animate),t(ve.calendarContainer,"multiMonth",ve.config.showMonths>1),ve.calendarContainer.appendChild(e);var s=void 0!==ve.config.appendTo&&void 0!==ve.config.appendTo.nodeType;if((ve.config.inline||ve.config.static)&&(ve.calendarContainer.classList.add(ve.config.inline?"inline":"static"),ve.config.inline&&(!s&&ve.element.parentNode?ve.element.parentNode.insertBefore(ve.calendarContainer,ve._input.nextSibling):void 0!==ve.config.appendTo&&ve.config.appendTo.appendChild(ve.calendarContainer)),ve.config.static)){var l=i("div","flatpickr-wrapper");ve.element.parentNode&&ve.element.parentNode.insertBefore(l,ve.element),l.appendChild(ve.element),ve.altInput&&l.appendChild(ve.altInput),l.appendChild(ve.calendarContainer)}ve.config.static||ve.config.inline||(void 0!==ve.config.appendTo?ve.config.appendTo:window.document.body).appendChild(ve.calendarContainer)}(),function(){if(ve.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(ve.element.querySelectorAll("[data-"+e+"]"),function(t){return A(t,"click",ve[e])})}),ve.isMobile)!function(){var e=ve.config.enableTime?ve.config.noCalendar?"time":"datetime-local":"date";ve.mobileInput=i("input",ve.input.className+" flatpickr-mobile"),ve.mobileInput.step=ve.input.getAttribute("step")||"any",ve.mobileInput.tabIndex=1,ve.mobileInput.type=e,ve.mobileInput.disabled=ve.input.disabled,ve.mobileInput.required=ve.input.required,ve.mobileInput.placeholder=ve.input.placeholder,ve.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",ve.selectedDates.length>0&&(ve.mobileInput.defaultValue=ve.mobileInput.value=ve.formatDate(ve.selectedDates[0],ve.mobileFormatStr)),ve.config.minDate&&(ve.mobileInput.min=ve.formatDate(ve.config.minDate,"Y-m-d")),ve.config.maxDate&&(ve.mobileInput.max=ve.formatDate(ve.config.maxDate,"Y-m-d")),ve.input.type="hidden",void 0!==ve.altInput&&(ve.altInput.type="hidden");try{ve.input.parentNode&&ve.input.parentNode.insertBefore(ve.mobileInput,ve.input.nextSibling)}catch(e){}A(ve.mobileInput,"change",function(e){ve.setDate(e.target.value,!1,ve.mobileFormatStr),ce("onChange"),ce("onClose")})}();else{var t=e(ee,50);ve._debouncedChange=e(S,k),ve.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&A(ve.daysContainer,"mouseover",function(e){"range"===ve.config.mode&&Q(e.target)}),A(window.document.body,"keydown",X),ve.config.static||A(ve._input,"keydown",X),ve.config.inline||ve.config.static||A(window,"resize",t),void 0!==window.ontouchstart?A(window.document,"click",z):A(window.document,"mousedown",E(z)),A(window.document,"focus",z,{capture:!0}),!0===ve.config.clickOpens&&(A(ve._input,"focus",ve.open),A(ve._input,"mousedown",E(ve.open))),void 0!==ve.daysContainer&&(A(ve.monthNav,"mousedown",E(ge)),A(ve.monthNav,["keyup","increment"],T),A(ve.daysContainer,"mousedown",E(se))),void 0!==ve.timeContainer&&void 0!==ve.minuteElement&&void 0!==ve.hourElement&&(A(ve.timeContainer,["increment"],v),A(ve.timeContainer,"blur",v,{capture:!0}),A(ve.timeContainer,"mousedown",E(N)),A([ve.hourElement,ve.minuteElement],["focus","click"],function(e){return e.target.select()}),void 0!==ve.secondElement&&A(ve.secondElement,"focus",function(){return ve.secondElement&&ve.secondElement.select()}),void 0!==ve.amPM&&A(ve.amPM,"mousedown",E(function(e){v(e),S()})))}}(),(ve.selectedDates.length||ve.config.noCalendar)&&(ve.config.enableTime&&M(ve.config.noCalendar?ve.latestSelectedDateObj||ve.config.minDate:void 0),me(!1)),m(),ve.showTimeInput=ve.selectedDates.length>0||ve.config.noCalendar;var a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!ve.isMobile&&a&&ne(),ce("onReady")}(),ve}function s(e,t){for(var i=Array.prototype.slice.call(e).filter(function(e){return e instanceof HTMLElement}),a=[],n=0;n<i.length;n++){var o=i[n];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=r(o,t||{}),a.push(o._flatpickr)}catch(e){console.error(e)}}return 1===a.length?a[0]:a}var l=function(){return(l=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},d=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],c={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var i=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-i.getTime())/864e5-3+(i.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},h={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year"},f=function(e){return("0"+e).slice(-2)},u=function(e){return!0===e?1:0},p=function(e){return e instanceof Array?e:[e]},m=function(){},g=function(e,t,i){return i.months[t?"shorthand":"longhand"][e]},v={D:m,F:function(e,t,i){e.setMonth(i.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,i){e.setHours(e.getHours()%12+12*u(new RegExp(i.amPM[1],"i").test(t)))},M:function(e,t,i){e.setMonth(i.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t){var i=parseInt(t);return new Date(e.getFullYear(),0,2+7*(i-1),0,0,0,0)},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:m,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:m,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},_={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},b={Z:function(e){return e.toISOString()},D:function(e,t,i){return t.weekdays.shorthand[b.w(e,t,i)]},F:function(e,t,i){return g(b.n(e,t,i)-1,!1,t)},G:function(e,t,i){return f(b.h(e,t,i))},H:function(e){return f(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[u(e.getHours()>11)]},M:function(e,t){return g(e.getMonth(),!0,t)},S:function(e){return f(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,i){return i.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return f(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return f(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return f(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},y=function(e){var t=e.config,i=void 0===t?c:t,a=e.l10n,n=void 0===a?h:a;return function(e,t,a){var o=a||n;return void 0!==i.formatDate?i.formatDate(e,t,o):t.split("").map(function(t,a,n){return b[t]&&"\\"!==n[a-1]?b[t](e,o,i):"\\"!==t?t:""}).join("")}},w=function(e){var t=e.config,i=void 0===t?c:t,a=e.l10n,n=void 0===a?h:a;return function(e,t,a,o){if(0===e||e){var r,s=o||n,l=e;if(e instanceof Date)r=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)r=new Date(e);else if("string"==typeof e){var d=t||(i||c).dateFormat,h=String(e).trim();if("today"===h)r=new Date,a=!0;else if(/Z$/.test(h)||/GMT$/.test(h))r=new Date(e);else if(i&&i.parseDate)r=i.parseDate(e,d);else{r=i&&i.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var f=void 0,u=[],p=0,m=0,g="";p<d.length;p++){var b=d[p],y="\\"===b,w="\\"===d[p-1]||y;if(_[b]&&!w){g+=_[b];var x=new RegExp(g).exec(e);x&&(f=!0)&&u["Y"!==b?"push":"unshift"]({fn:v[b],val:x[++m]})}else y||(g+=".");u.forEach(function(e){var t=e.fn,i=e.val;return r=t(r,i,s)||r})}r=f?r:void 0}}if(r instanceof Date&&!isNaN(r.getTime()))return!0===a&&r.setHours(0,0,0,0),r;i.errorHandler(new Error("Invalid date provided: "+l))}}},x=function(e,t,i){return e>Math.min(t,i)&&e<Math.max(t,i)},C={DAY:864e5};"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var a=0,n=t;a<n.length;a++)!function(t){t&&Object.keys(t).forEach(function(i){return e[i]=t[i]})}(n[a]);return e});var k=300;"undefined"!=typeof HTMLElement&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return s(this,e)},HTMLElement.prototype.flatpickr=function(e){return s([this],e)});var D=function(e,t){return"string"==typeof e?s(window.document.querySelectorAll(e),t):e instanceof Node?s([e],t):s(e,t)};return D.defaultConfig=c,D.l10ns={en:l({},h),default:l({},h)},D.localize=function(e){D.l10ns.default=l({},D.l10ns.default,e)},D.setDefaults=function(e){D.defaultConfig=l({},D.defaultConfig,e)},D.parseDate=w({}),D.formatDate=y({}),D.compareDates=o,"undefined"!=typeof jQuery&&(jQuery.fn.flatpickr=function(e){return s(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=D),D}),function(e){!jQuery&&"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,document,window,navigator)}):jQuery||"object"!=typeof exports?e(jQuery,document,window,navigator):e(require("jquery"),document,window,navigator)}(function(e,t,i,a,n){"use strict";var o,r,s=0,l=(o=a.userAgent,r=/msie\s\d+/i,0<o.search(r)&&r.exec(o).toString().split(" ")[1]<9&&(e("html").addClass("lt-ie9"),!0));Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,i=[].slice;if("function"!=typeof t)throw new TypeError;var a=i.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=t.prototype;var r=new o,s=t.apply(r,a.concat(i.call(arguments)));return Object(s)===s?s:r}return t.apply(e,a.concat(i.call(arguments)))};return n}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i;if(null==this)throw new TypeError('"this" is null or not defined');var a=Object(this),n=a.length>>>0;if(0===n)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),n<=o)return-1;for(i=Math.max(0<=o?o:n-Math.abs(o),0);i<n;){if(i in a&&a[i]===e)return i;i++}return-1});var d=function(a,o,r){this.VERSION="2.3.0",this.input=a,this.plugin_count=r,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,o=o||{},this.$cache={win:e(i),body:e(t.body),input:e(a),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var s,l,d,c=this.$cache.input,h=c.prop("value");for(d in s={skin:"flat",type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:"  ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null},"INPUT"!==c[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",c[0]),(l={skin:c.data("skin"),type:c.data("type"),min:c.data("min"),max:c.data("max"),from:c.data("from"),to:c.data("to"),step:c.data("step"),min_interval:c.data("minInterval"),max_interval:c.data("maxInterval"),drag_interval:c.data("dragInterval"),values:c.data("values"),from_fixed:c.data("fromFixed"),from_min:c.data("fromMin"),from_max:c.data("fromMax"),from_shadow:c.data("fromShadow"),to_fixed:c.data("toFixed"),to_min:c.data("toMin"),to_max:c.data("toMax"),to_shadow:c.data("toShadow"),prettify_enabled:c.data("prettifyEnabled"),prettify_separator:c.data("prettifySeparator"),force_edges:c.data("forceEdges"),keyboard:c.data("keyboard"),grid:c.data("grid"),grid_margin:c.data("gridMargin"),grid_num:c.data("gridNum"),grid_snap:c.data("gridSnap"),hide_min_max:c.data("hideMinMax"),hide_from_to:c.data("hideFromTo"),prefix:c.data("prefix"),postfix:c.data("postfix"),max_postfix:c.data("maxPostfix"),decorate_both:c.data("decorateBoth"),values_separator:c.data("valuesSeparator"),input_values_separator:c.data("inputValuesSeparator"),disable:c.data("disable"),block:c.data("block"),extra_classes:c.data("extraClasses")}).values=l.values&&l.values.split(","),l)l.hasOwnProperty(d)&&(l[d]!==n&&""!==l[d]||delete l[d]);h!==n&&""!==h&&((h=h.split(l.input_values_separator||o.input_values_separator||";"))[0]&&h[0]==+h[0]&&(h[0]=+h[0]),h[1]&&h[1]==+h[1]&&(h[1]=+h[1]),o&&o.values&&o.values.length?(s.from=h[0]&&o.values.indexOf(h[0]),s.to=h[1]&&o.values.indexOf(h[1])):(s.from=h[0]&&+h[0],s.to=h[1]&&+h[1])),e.extend(s,o),e.extend(s,l),this.options=s,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};d.prototype={init:function(e){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),e?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var e='<span class="irs irs--'+this.options.skin+" js-irs-"+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(e),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var e=this.options.min,t=this.options.max,i=this.options.from,a=this.options.to;e<i&&a===t?this.$cache.s_from.addClass("type_last"):a<t&&this.$cache.s_to.addClass("type_last")},changeLevel:function(e){switch(e){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),l&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),l&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(e){var t,i;this.target||(t=(i="single"===this.options.type?this.$cache.single:this.$cache.from).offset().left,t+=i.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:t}))},pointerMove:function(e){if(this.dragging){var t=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;this.coords.x_pointer=t-this.coords.x_gap,this.calc()}},pointerUp:function(t){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,l&&e("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(e.contains(this.$cache.cont[0],t.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(t,i){i.preventDefault();var a=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&("both"===t&&this.setTempMinInterval(),t||(t=this.target||"from"),this.current_plugin=this.plugin_count,this.target=t,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=a-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(t),l&&e("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(e,t){t.preventDefault();var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;2!==t.button&&(this.current_plugin=this.plugin_count,this.target=e,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(e,t){if(!(this.current_plugin!==this.plugin_count||t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)){switch(t.which){case 83:case 65:case 40:case 37:t.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:t.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(e){var t=this.coords.p_pointer,i=(this.options.max-this.options.min)/100;i=this.options.step/i,e?t+=i:t-=i,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*t),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");if(this.options.values.length)this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));else{var e=this._prettify(this.options.min),t=this._prettify(this.options.max);this.result.min_pretty=e,this.result.max_pretty=t,this.$cache.min.html(this.decorate(e,this.options.min)),this.$cache.max.html(this.decorate(t,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var e=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=e},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(e){if(this.options&&(this.calc_count++,(10===this.calc_count||e)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var t=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,t=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,t=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(t)),this.target){case"base":var i=(this.options.max-this.options.min)/100,a=(this.result.from-this.options.min)/i,n=(this.result.to-this.options.min)/i
;this.coords.p_single_real=this.toFixed(a),this.coords.p_from_real=this.toFixed(a),this.coords.p_to_real=this.toFixed(n),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(t),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(t),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(t),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;t=this.toFixed(t+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(t)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(t)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var o=this.convertToRealPercent(t),r=this.result.from_percent,s=this.result.to_percent-r,l=s/2,d=o-l,c=o+l;d<0&&(c=(d=0)+s),100<c&&(d=(c=100)-s),this.coords.p_from_real=this.calcWithStep(d),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(c),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(e){return e/(100-this.coords.p_handle)*100},convertToFakePercent:function(e){return e/100*(100-this.coords.p_handle)},getHandleX:function(){var e=100-this.coords.p_handle,t=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return t<0?t=0:e<t&&(t=e),t},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(e){return"single"===this.options.type?"single":this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2<=e?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.bar[0].style.left=0,this.$cache.bar[0].style.width=this.coords.p_bar_w+this.coords.p_bar_x+"%",this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%")),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var e,t,i,a,n,o=this.options.values.length,r=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)e=o?this.decorate(r[this.result.from]):(a=this._prettify(this.result.from),this.decorate(a,this.result.from)),this.$cache.single.html(e),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible";else{i=o?(this.options.decorate_both?(e=this.decorate(r[this.result.from]),e+=this.options.values_separator,e+=this.decorate(r[this.result.to])):e=this.decorate(r[this.result.from]+this.options.values_separator+r[this.result.to]),t=this.decorate(r[this.result.from]),this.decorate(r[this.result.to])):(a=this._prettify(this.result.from),n=this._prettify(this.result.to),this.options.decorate_both?(e=this.decorate(a,this.result.from),e+=this.options.values_separator,e+=this.decorate(n,this.result.to)):e=this.decorate(a+this.options.values_separator+n,this.result.to),t=this.decorate(a,this.result.from),this.decorate(n,this.result.to)),this.$cache.single.html(e),this.$cache.from.html(t),this.$cache.to.html(i),this.calcLabels();var s=Math.min(this.labels.p_single_left,this.labels.p_from_left),l=this.labels.p_single_left+this.labels.p_single_fake,d=this.labels.p_to_left+this.labels.p_to_fake,c=Math.max(l,d);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",c=this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",d):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",Math.max(l,d))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),s<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",c>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var e,t,i,a,n=this.options,o=this.$cache,r="number"==typeof n.from_min&&!isNaN(n.from_min),s="number"==typeof n.from_max&&!isNaN(n.from_max),l="number"==typeof n.to_min&&!isNaN(n.to_min),d="number"==typeof n.to_max&&!isNaN(n.to_max);"single"===n.type?n.from_shadow&&(r||s)?(e=this.convertToPercent(r?n.from_min:n.min),t=this.convertToPercent(s?n.from_max:n.max)-e,e=this.toFixed(e-this.coords.p_handle/100*e),t=this.toFixed(t-this.coords.p_handle/100*t),e+=this.coords.p_handle/2,o.shad_single[0].style.display="block",o.shad_single[0].style.left=e+"%",o.shad_single[0].style.width=t+"%"):o.shad_single[0].style.display="none":(n.from_shadow&&(r||s)?(e=this.convertToPercent(r?n.from_min:n.min),t=this.convertToPercent(s?n.from_max:n.max)-e,e=this.toFixed(e-this.coords.p_handle/100*e),t=this.toFixed(t-this.coords.p_handle/100*t),e+=this.coords.p_handle/2,o.shad_from[0].style.display="block",o.shad_from[0].style.left=e+"%",o.shad_from[0].style.width=t+"%"):o.shad_from[0].style.display="none",n.to_shadow&&(l||d)?(i=this.convertToPercent(l?n.to_min:n.min),a=this.convertToPercent(d?n.to_max:n.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),a=this.toFixed(a-this.coords.p_handle/100*a),i+=this.coords.p_handle/2,o.shad_to[0].style.display="block",o.shad_to[0].style.left=i+"%",o.shad_to[0].style.width=a+"%"):o.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(e,t){var i,a=this.options.max-this.options.min,n=a/100;return a?(i=(t?e:e-this.options.min)/n,this.toFixed(i)):(this.no_diapason=!0,0)},convertToValue:function(e){var t,i,a=this.options.min,n=this.options.max,o=a.toString().split(".")[1],r=n.toString().split(".")[1],s=0,l=0;if(0===e)return this.options.min;if(100===e)return this.options.max;o&&(s=t=o.length),r&&(s=i=r.length),t&&i&&(s=i<=t?t:i),a<0&&(a=+(a+(l=Math.abs(a))).toFixed(s),n=+(n+l).toFixed(s));var d,c=(n-a)/100*e+a,h=this.options.step.toString().split(".")[1];return c=h?+c.toFixed(h.length):(c/=this.options.step,+(c*=this.options.step).toFixed(0)),l&&(c-=l),(d=h?+c.toFixed(h.length):this.toFixed(c))<this.options.min?d=this.options.min:d>this.options.max&&(d=this.options.max),d},calcWithStep:function(e){var t=Math.round(e/this.coords.p_step)*this.coords.p_step;return 100<t&&(t=100),100===e&&(t=100),this.toFixed(t)},checkMinInterval:function(e,t,i){var a,n,o=this.options;return o.min_interval?(a=this.convertToValue(e),n=this.convertToValue(t),"from"===i?n-a<o.min_interval&&(a=n-o.min_interval):a-n<o.min_interval&&(a=n+o.min_interval),this.convertToPercent(a)):e},checkMaxInterval:function(e,t,i){var a,n,o=this.options;return o.max_interval?(a=this.convertToValue(e),n=this.convertToValue(t),"from"===i?n-a>o.max_interval&&(a=n-o.max_interval):a-n>o.max_interval&&(a=n+o.max_interval),this.convertToPercent(a)):e},checkDiapason:function(e,t,i){var a=this.convertToValue(e),n=this.options;return"number"!=typeof t&&(t=n.min),"number"!=typeof i&&(i=n.max),a<t&&(a=t),i<a&&(a=i),this.convertToPercent(a)},toFixed:function(e){return+(e=e.toFixed(20))},_prettify:function(e){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(e):this.prettify(e):e},prettify:function(e){return e.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(e,t){return this.options.force_edges&&(e<0?e=0:100-t<e&&(e=100-t)),this.toFixed(e)},validate:function(){var e,t,i=this.options,a=this.result,n=i.values,o=n.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),o)for(i.p_values=[],i.min=0,i.max=o-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,t=0;t<o;t++)e=+n[t],e=isNaN(e)?n[t]:(n[t]=e,this._prettify(e)),i.p_values.push(e);("number"!=typeof i.from||isNaN(i.from))&&(i.from=i.min),("number"!=typeof i.to||isNaN(i.to))&&(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max),i.to<i.min&&(i.to=i.min),i.to>i.max&&(i.to=i.max),this.update_check.from&&(this.update_check.from!==i.from&&i.from>i.to&&(i.from=i.to),this.update_check.to!==i.to&&i.to<i.from&&(i.to=i.from)),i.from>i.to&&(i.from=i.to),i.to<i.from&&(i.to=i.from)),("number"!=typeof i.step||isNaN(i.step)||!i.step||i.step<0)&&(i.step=1),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),a&&(a.min!==i.min&&(a.min=i.min),a.max!==i.max&&(a.max=i.max),(a.from<a.min||a.from>a.max)&&(a.from=i.from),(a.to<a.min||a.to>a.max)&&(a.to=i.to)),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||i.min_interval<0)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||i.max_interval<0)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(e,t){var i="",a=this.options;return a.prefix&&(i+=a.prefix),i+=e,a.max_postfix&&(a.values.length&&e===a.p_values[a.max]?(i+=a.max_postfix,a.postfix&&(i+=" ")):t===a.max&&(i+=a.max_postfix,a.postfix&&(i+=" "))),a.postfix&&(i+=a.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var e,t,i,a,n,o,r=this.options,s=r.max-r.min,l=r.grid_num,d=0,c=4,h="";for(this.calcGridMargin(),r.grid_snap&&(l=s/r.step),50<l&&(l=50),i=this.toFixed(100/l),4<l&&(c=3),7<l&&(c=2),14<l&&(c=1),28<l&&(c=0),e=0;e<l+1;e++){for(a=c,100<(d=this.toFixed(i*e))&&(d=100),n=((this.coords.big[e]=d)-i*(e-1))/(a+1),t=1;t<=a&&0!==d;t++)h+='<span class="irs-grid-pol small" style="left: '+this.toFixed(d-n*t)+'%"></span>';h+='<span class="irs-grid-pol" style="left: '+d+'%"></span>',o=this.convertToValue(d),h+='<span class="irs-grid-text js-grid-text-'+e+'" style="left: '+d+'%">'+(o=r.values.length?r.p_values[o]:this._prettify(o))+"</span>"}this.coords.big_num=Math.ceil(l+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(h),this.cacheGridLabels()}},cacheGridLabels:function(){var e,t,i=this.coords.big_num;for(t=0;t<i;t++)e=this.$cache.grid.find(".js-grid-text-"+t),this.$cache.grid_labels.push(e);this.calcGridLabels()},calcGridLabels:function(){var e,t,i=[],a=[],n=this.coords.big_num;for(e=0;e<n;e++)this.coords.big_w[e]=this.$cache.grid_labels[e].outerWidth(!1),this.coords.big_p[e]=this.toFixed(this.coords.big_w[e]/this.coords.w_rs*100),this.coords.big_x[e]=this.toFixed(this.coords.big_p[e]/2),i[e]=this.toFixed(this.coords.big[e]-this.coords.big_x[e]),a[e]=this.toFixed(i[e]+this.coords.big_p[e]);for(this.options.force_edges&&(i[0]<-this.coords.grid_gap&&(i[0]=-this.coords.grid_gap,a[0]=this.toFixed(i[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),a[n-1]>100+this.coords.grid_gap&&(a[n-1]=100+this.coords.grid_gap,i[n-1]=this.toFixed(a[n-1]-this.coords.big_p[n-1]),this.coords.big_x[n-1]=this.toFixed(this.coords.big_p[n-1]-this.coords.grid_gap))),this.calcGridCollision(2,i,a),this.calcGridCollision(4,i,a),e=0;e<n;e++)t=this.$cache.grid_labels[e][0],this.coords.big_x[e]!==Number.POSITIVE_INFINITY&&(t.style.marginLeft=-this.coords.big_x[e]+"%")},calcGridCollision:function(e,t,i){var a,n,o,r=this.coords.big_num;for(a=0;a<r&&!(r<=(n=a+e/2));a+=e)o=this.$cache.grid_labels[n][0],i[a]<=t[n]?o.style.visibility="visible":o.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(t){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=e.extend(this.options,t),this.validate(),this.updateResult(t),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),e.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},e.fn.ionRangeSlider=function(t){return this.each(function(){e.data(this,"ionRangeSlider")||e.data(this,"ionRangeSlider",new d(this,t,s++))})},function(){for(var e=0,t=["ms","moz","webkit","o"],a=0;a<t.length&&!i.requestAnimationFrame;++a)i.requestAnimationFrame=i[t[a]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[t[a]+"CancelAnimationFrame"]||i[t[a]+"CancelRequestAnimationFrame"];i.requestAnimationFrame||(i.requestAnimationFrame=function(t,a){var n=(new Date).getTime(),o=Math.max(0,16-(n-e)),r=i.setTimeout(function(){t(n+o)},o);return e=n+o,r}),i.cancelAnimationFrame||(i.cancelAnimationFrame=function(e){clearTimeout(e)})}()});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();(function(){var e,t,i,a,n=[].indexOf;jQuery.fn.extend({imagepicker:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.each(function(){var i;if((i=jQuery(this)).data("picker")&&i.data("picker").destroy(),i.data("picker",new e(this,a(t))),null!=t.initialized)return t.initialized.call(i.data("picker"))})}}),a=function(e){var t;return t={hide_select:!0,show_label:!1,initialized:void 0,changed:void 0,clicked:void 0,selected:void 0,limit:void 0,limit_reached:void 0,font_awesome:!1},jQuery.extend(t,e)},i=function(e,t){var i,a,n,o;if(!e||!t||e.length!==t.length)return!1;for(e=e.slice(0),t=t.slice(0),e.sort(),t.sort(),i=a=0,n=e.length;a<n;i=++a)if(o=e[i],t[i]!==o)return!1;return!0},e=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.sync_picker_with_select=this.sync_picker_with_select.bind(this),this.opts=i,this.select=jQuery(t),this.multiple="multiple"===this.select.attr("multiple"),null!=this.select.data("limit")&&(this.opts.limit=parseInt(this.select.data("limit"))),this.build_and_append_picker()}return _createClass(e,[{key:"destroy",value:function(){var e,t,i;for(e=0,t=(i=this.picker_options).length;e<t;e++)i[e].destroy();return this.picker.remove(),this.select.off("change",this.sync_picker_with_select),this.select.removeData("picker"),this.select.show()}},{key:"build_and_append_picker",value:function(){return this.opts.hide_select&&this.select.hide(),this.select.on("change",this.sync_picker_with_select),null!=this.picker&&this.picker.remove(),this.create_picker(),this.select.after(this.picker),this.sync_picker_with_select()}},{key:"sync_picker_with_select",value:function(){var e,t,i,a,n;for(n=[],e=0,t=(a=this.picker_options).length;e<t;e++)(i=a[e]).is_selected()?n.push(i.mark_as_selected()):n.push(i.unmark_as_selected());return n}},{key:"create_picker",value:function(){return this.picker=jQuery("<ul class='thumbnails image_picker_selector'></ul>"),this.picker_options=[],this.recursively_parse_option_groups(this.select,this.picker),this.picker}},{key:"recursively_parse_option_groups",value:function(e,i){var a,n,o,r,s,l,d,c,h,f;for(n=0,r=(c=e.children("optgroup")).length;n<r;n++)d=c[n],d=jQuery(d),(a=jQuery("<ul></ul>")).append(jQuery("<li class='group_title'>"+d.attr("label")+"</li>")),i.append(jQuery("<li class='group'>").append(a)),this.recursively_parse_option_groups(d,a);for(h=function(){var i,a,n,o;for(o=[],i=0,a=(n=e.children("option")).length;i<a;i++)l=n[i],o.push(new t(l,this,this.opts));return o}.call(this),f=[],o=0,s=h.length;o<s;o++)l=h[o],this.picker_options.push(l),l.has_image()&&f.push(i.append(l.node));return f}},{key:"has_implicit_blanks",value:function(){var e;return function(){var t,i,a,n;for(n=[],t=0,i=(a=this.picker_options).length;t<i;t++)(e=a[t]).is_blank()&&!e.has_image()&&n.push(e);return n}.call(this).length>0}},{key:"selected_values",value:function(){return this.multiple?this.select.val()||[]:[this.select.val()]}},{key:"toggle",value:function(e,t){var a,o,r;if(o=this.selected_values(),r=e.value().toString(),this.multiple?n.call(this.selected_values(),r)>=0?((a=this.selected_values()).splice(jQuery.inArray(r,o),1),this.select.val([]),this.select.val(a)):null!=this.opts.limit&&this.selected_values().length>=this.opts.limit?null!=this.opts.limit_reached&&this.opts.limit_reached.call(this.select):this.select.val(this.selected_values().concat(r)):this.has_implicit_blanks()&&e.is_selected()?this.select.val(""):this.select.val(r),!i(o,this.selected_values())&&(this.select.change(),null!=this.opts.changed))return this.opts.changed.call(this.select,o,this.selected_values(),t)}}]),e}(),t=function(){function e(t,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.clicked=this.clicked.bind(this),this.picker=i,this.opts=a,this.option=jQuery(t),this.create_node()}return _createClass(e,[{key:"destroy",value:function(){return this.node.find(".thumbnail").off("click",this.clicked)}},{key:"has_image",value:function(){return null!=this.option.data("img-src")}},{key:"is_blank",value:function(){return!(null!=this.value()&&""!==this.value())}},{key:"is_selected",value:function(){var e;return e=this.picker.select.val(),this.picker.multiple?jQuery.inArray(this.value(),e)>=0:this.value()===e}},{key:"mark_as_selected",value:function(){return this.node.find(".thumbnail").addClass("selected")}},{key:"unmark_as_selected",value:function(){return this.node.find(".thumbnail").removeClass("selected")}},{key:"value",value:function(){return this.option.val()}},{key:"label",value:function(){return this.option.data("img-label")?this.option.data("img-label"):this.option.text()}},{key:"clicked",value:function(e){if(this.picker.toggle(this,e),null!=this.opts.clicked&&this.opts.clicked.call(this.picker.select,this,e),null!=this.opts.selected&&this.is_selected())return this.opts.selected.call(this.picker.select,this,e)}},{key:"create_node",value:function(){var e,t,i,a;return this.node=jQuery("<li/>"),this.option.data("font_awesome")?(e=jQuery("<i>")).attr("class","fa-fw "+this.option.data("img-src")):(e=jQuery("<img class='image_picker_image'/>")).attr("src",this.option.data("img-src")),a=jQuery("<div class='thumbnail'>"),(i=this.option.data("img-class"))&&(this.node.addClass(i),e.addClass(i),a.addClass(i)),(t=this.option.data("img-alt"))&&e.attr("alt",t),a.on("click",this.clicked),a.append(e),this.opts.show_label&&a.append(jQuery("<p/>").html(this.label())),this.node.append(a),this.node}}]),e}()}).call(void 0),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=e.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.submitButton=t.currentTarget,e(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function a(){var a,n;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(a=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),!(i.settings.submitHandler&&!i.settings.debug)||(n=i.settings.submitHandler.call(i,i.currentForm,t),a&&a.remove(),void 0!==n&&n)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,a()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):a():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i,a;return e(this[0]).is("form")?t=this.validate().form():(a=[],t=!0,i=e(this[0].form).validate(),this.each(function(){(t=i.element(this)&&t)||(a=a.concat(i.errorList))}),i.errorList=a),t},rules:function(t,i){var a,n,o,r,s,l,d=this[0],c=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=d&&(!d.form&&c&&(d.form=this.closest("form")[0],d.name=this.attr("name")),null!=d.form)){if(t)switch(a=e.data(d.form,"validator").settings,n=a.rules,o=e.validator.staticRules(d),t){case"add":e.extend(o,e.validator.normalizeRule(i)),delete o.messages,n[d.name]=o,
i.messages&&(a.messages[d.name]=e.extend(a.messages[d.name],i.messages));break;case"remove":return i?(l={},e.each(i.split(/\s/),function(e,t){l[t]=o[t],delete o[t]}),l):(delete n[d.name],o)}return r=e.validator.normalizeRules(e.extend({},e.validator.classRules(d),e.validator.attributeRules(d),e.validator.dataRules(d),e.validator.staticRules(d)),d),r.required&&(s=r.required,delete r.required,r=e.extend({required:s},r)),r.remote&&(s=r.remote,delete r.remote,r=e.extend(r,{remote:s})),r}}}),e.extend(e.expr.pseudos||e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var i=e(t).val();return null!==i&&!!e.trim(""+i)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:void 0===i?t:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,i){var a=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(t)||-1!==e.inArray(i.keyCode,a)||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,a){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(a):e(t).addClass(i).removeClass(a)},unhighlight:function(t,i,a){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(a):e(t).removeClass(i).addClass(a)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var i=void 0!==e(this).attr("contenteditable")&&"false"!==e(this).attr("contenteditable");if(!this.form&&i&&(this.form=e(this).closest("form")[0],this.name=e(this).attr("name")),a===this.form){var n=e.data(this.form,"validator"),o="on"+t.type.replace(/^validate/,""),r=n.settings;r[o]&&!e(this).is(r.ignore)&&r[o].call(n,this,t)}}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,a=this.currentForm,n=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){n[i]=t})}),i=this.settings.rules,e.each(i,function(t,a){i[t]=e.validator.normalizeRule(a)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var i,a,n=this.clean(t),o=this.validationTargetFor(n),r=this,s=!0;return void 0===o?delete this.invalid[n.name]:(this.prepareElement(o),this.currentElements=e(o),a=this.groups[o.name],a&&e.each(this.groups,function(e,t){t===a&&e!==o.name&&(n=r.validationTargetFor(r.clean(r.findByName(e))))&&n.name in r.invalid&&(r.currentElements.push(n),s=r.check(n)&&s)}),i=!1!==this.check(o),s=s&&i,this.invalid[o.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!i)),s},showErrors:function(t){if(t){var i=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var a=this.name||e(this).attr("name"),n=void 0!==e(this).attr("contenteditable")&&"false"!==e(this).attr("contenteditable");return!a&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),n&&(this.form=e(this).closest("form")[0],this.name=a),!(this.form!==t.currentForm||a in i||!t.objectLength(e(this).rules())||(i[a]=!0,0))})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i,a,n=e(t),o=t.type,r=void 0!==n.attr("contenteditable")&&"false"!==n.attr("contenteditable");return"radio"===o||"checkbox"===o?this.findByName(t.name).filter(":checked").val():"number"===o&&void 0!==t.validity?t.validity.badInput?"NaN":n.val():(i=r?n.text():n.val(),"file"===o?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(a=i.lastIndexOf("/"),a>=0?i.substr(a+1):(a=i.lastIndexOf("\\"),a>=0?i.substr(a+1):i)):"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var i,a,n,o,r=e(t).rules(),s=e.map(r,function(e,t){return t}).length,l=!1,d=this.elementValue(t);"function"==typeof r.normalizer?o=r.normalizer:"function"==typeof this.settings.normalizer&&(o=this.settings.normalizer),o&&(d=o.call(t,d),delete r.normalizer);for(a in r){n={method:a,parameters:r[a]};try{if("dependency-mismatch"===(i=e.validator.methods[a].call(this,d,t,n.parameters))&&1===s){l=!0;continue}if(l=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,n),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+n.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+n.method+"' method."),e}}if(!l)return this.objectLength(r)&&this.successList.push(t),!0},customDataMessage:function(t,i){return e(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){"string"==typeof i&&(i={method:i});var a=this.findDefined(this.customMessage(t.name,i.method),this.customDataMessage(t,i.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),n=/\$?\{(\d+)\}/g;return"function"==typeof a?a=a.call(this,i.parameters,t):n.test(a)&&(a=e.validator.format(a.replace(n,"{$1}"),i.parameters)),a},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var a,n,o,r,s=this.errorsFor(t),l=this.idOrName(t),d=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),a=s,this.settings.wrapper&&(a=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(a):this.settings.errorPlacement?this.settings.errorPlacement.call(this,a,e(t)):a.insertAfter(t),s.is("label")?s.attr("for",l):0===s.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(o=s.attr("id"),d?d.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(d+=" "+o):d=o,e(t).attr("aria-describedby",d),(n=this.groups[t.name])&&(r=this,e.each(r.groups,function(t,i){i===n&&e("[name='"+r.escapeCssMeta(t)+"']",r.currentForm).attr("aria-describedby",s.attr("id"))})))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var i=this.escapeCssMeta(this.idOrName(t)),a=e(t).attr("aria-describedby"),n="label[for='"+i+"'], label[for='"+i+"'] *";return a&&(n=n+", #"+this.escapeCssMeta(a).replace(/\s+/g,", #")),this.errors().filter(n)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,i){return!!e(t,i.form).length},function:function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.submitButton&&e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,i){return i="string"==typeof i&&i||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:i})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},a=e(t).attr("class");return a&&e.each(a.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(e,t,i,a){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(a=Number(a),isNaN(a)&&(a=void 0)),a||0===a?e[i]=a:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(t){var i,a,n={},o=e(t),r=t.getAttribute("type");for(i in e.validator.methods)"required"===i?(a=t.getAttribute(i),""===a&&(a=!0),a=!!a):a=o.attr(i),this.normalizeAttributeRule(n,r,i,a);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var i,a,n={},o=e(t),r=t.getAttribute("type");for(i in e.validator.methods)a=o.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),""===a&&(a=!0),this.normalizeAttributeRule(n,r,i,a);return n},staticRules:function(t){var i={},a=e.data(t.form,"validator");return a.settings.rules&&(i=e.validator.normalizeRule(a.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(a,n){if(!1===n)return void delete t[a];if(n.param||n.depends){var o=!0;switch(typeof n.depends){case"string":o=!!e(n.depends,i.form).length;break;case"function":o=n.depends.call(i,i)}o?t[a]=void 0===n.param||n.param:(e.data(i.form,"validator").resetElements(e(i)),delete t[a])}}),e.each(t,function(a,n){t[a]=e.isFunction(n)&&"normalizer"!==a?n(i):n}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,a){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==a?a:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,a){if(!this.depend(a,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var n=e(i).val();return n&&n.length>0}return this.checkable(i)?this.getLength(t,i)>0:void 0!==t&&null!==t&&t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(){var e=!1;return function(t,i){return e||(e=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(i)||!/Invalid|NaN/.test(new Date(t).toString())}}(),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,i,a){var n=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||n>=a},maxlength:function(t,i,a){var n=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||n<=a},rangelength:function(t,i,a){var n=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||n>=a[0]&&n<=a[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(t,i,a){var n,o=e(i).attr("type"),r="Step attribute on input type "+o+" is not supported.",s=["text","number","range"],l=new RegExp("\\b"+o+"\\b"),d=o&&!l.test(s.join()),c=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},h=function(e){return Math.round(e*Math.pow(10,n))},f=!0;if(d)throw new Error(r);return n=c(a),(c(t)>n||h(t)%h(a)!=0)&&(f=!1),this.optional(i)||f},equalTo:function(t,i,a){var n=e(a);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(i).valid()}),t===n.val()},remote:function(t,i,a,n){if(this.optional(i))return"dependency-mismatch";n="string"==typeof n&&n||"remote";var o,r,s,l=this.previousValue(i,n);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][n],this.settings.messages[i.name][n]=l.message,a="string"==typeof a&&{url:a}||a,s=e.param(e.extend({data:t},a.data)),l.old===s?l.valid:(l.old=s,o=this,this.startRequest(i),r={},r[i.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:r,context:o.currentForm,success:function(e){var a,r,s,d=!0===e||"true"===e;o.settings.messages[i.name][n]=l.originalMessage,d?(s=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(i),o.formSubmitted=s,o.successList.push(i),o.invalid[i.name]=!1,o.showErrors()):(a={},r=e||o.defaultMessage(i,{method:n,parameters:t}),a[i.name]=l.message=r,o.invalid[i.name]=!0,o.showErrors(a)),l.valid=d,o.stopRequest(i,d)}},a)),"pending")}}});var t,i={};return e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,a){var n=e.port;"abort"===e.mode&&(i[n]&&i[n].abort(),i[n]=a)}):(t=e.ajax,e.ajax=function(a){var n=("mode"in a?a:e.ajaxSettings).mode,o=("port"in a?a:e.ajaxSettings).port;return"abort"===n?(i[o]&&i[o].abort(),i[o]=t.apply(this,arguments),i[o]):t.apply(this,arguments)}),e}),function(e){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate.min"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){return function(){function t(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-]*/g,"")}e.validator.addMethod("maxWords",function(e,i,a){return this.optional(i)||t(e).match(/\b\w+\b/g).length<=a},e.validator.format("Please enter {0} words or less.")),e.validator.addMethod("minWords",function(e,i,a){return this.optional(i)||t(e).match(/\b\w+\b/g).length>=a},e.validator.format("Please enter at least {0} words.")),e.validator.addMethod("rangeWords",function(e,i,a){var n=t(e),o=/\b\w+\b/g;return this.optional(i)||n.match(o).length>=a[0]&&n.match(o).length<=a[1]},e.validator.format("Please enter between {0} and {1} words."))}(),e.validator.addMethod("abaRoutingNumber",function(e){var t=0,i=e.split(""),a=i.length;if(9!==a)return!1;for(var n=0;n<a;n+=3)t+=3*parseInt(i[n],10)+7*parseInt(i[n+1],10)+parseInt(i[n+2],10);return 0!==t&&t%10==0},"Please enter a valid routing number."),e.validator.addMethod("accept",function(t,i,a){var n,o,r,s="string"==typeof a?a.replace(/\s/g,""):"image/*",l=this.optional(i);if(l)return l;if("file"===e(i).attr("type")&&(s=s.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),i.files&&i.files.length))for(r=new RegExp(".?("+s+")$","i"),n=0;n<i.files.length;n++)if(o=i.files[n],!o.type.match(r))return!1;return!0},e.validator.format("Please enter a value with a valid mimetype.")),e.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),e.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))return!1;var i,a,n,o=e.replace(/ /g,""),r=0,s=o.length;for(i=0;i<s;i++)a=s-i,n=o.substring(i,i+1),r+=a*n;return r%11==0},"Please specify a valid bank account number"),e.validator.addMethod("bankorgiroaccountNL",function(t,i){return this.optional(i)||e.validator.methods.bankaccountNL.call(this,t,i)||e.validator.methods.giroaccountNL.call(this,t,i)},"Please specify a valid bank or giro account number"),e.validator.addMethod("bic",function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e.toUpperCase())},"Please specify a valid BIC code"),e.validator.addMethod("cifES",function(e,t){"use strict";if(this.optional(t))return!0;var i,a,n,o,r=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),s=e.substring(0,1),l=e.substring(1,8),d=e.substring(8,9),c=0,h=0,f=0;if(9!==e.length||!r.test(e))return!1;for(i=0;i<l.length;i++)a=parseInt(l[i],10),function(e){return e%2==0}(i)?(a*=2,f+=a<10?a:a-9):h+=a;return c=h+f,n=(10-c.toString().substr(-1)).toString(),n=parseInt(n,10)>9?"0":n,o="JABCDEFGHI".substr(n,1).toString(),s.match(/[ABEH]/)?d===n:s.match(/[KPQS]/)?d===o:d===n||d===o},"Please specify a valid CIF number."),e.validator.addMethod("cnhBR",function(e){if(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==e.length)return!1;var t,i,a,n,o,r=0,s=0;if(t=e.charAt(0),new Array(12).join(t)===e)return!1;for(n=0,o=9,0;n<9;++n,--o)r+=+e.charAt(n)*o;for(i=r%11,i>=10&&(i=0,s=2),r=0,n=0,o=1,0;n<9;++n,++o)r+=+e.charAt(n)*o;return a=r%11,a>=10?a=0:a-=s,String(i).concat(a)===e.substr(-2)},"Please specify a valid CNH number"),e.validator.addMethod("cnpjBR",function(e,t){"use strict";if(this.optional(t))return!0;if(e=e.replace(/[^\d]+/g,""),14!==e.length)return!1;if("00000000000000"===e||"11111111111111"===e||"22222222222222"===e||"33333333333333"===e||"44444444444444"===e||"55555555555555"===e||"66666666666666"===e||"77777777777777"===e||"88888888888888"===e||"99999999999999"===e)return!1;for(var i=e.length-2,a=e.substring(0,i),n=e.substring(i),o=0,r=i-7,s=i;s>=1;s--)o+=a.charAt(i-s)*r--,r<2&&(r=9);var l=o%11<2?0:11-o%11;if(l!==parseInt(n.charAt(0),10))return!1;i+=1,a=e.substring(0,i),o=0,r=i-7;for(var d=i;d>=1;d--)o+=a.charAt(i-d)*r--,r<2&&(r=9);return(l=o%11<2?0:11-o%11)===parseInt(n.charAt(1),10)},"Please specify a CNPJ value number"),e.validator.addMethod("cpfBR",function(e,t){"use strict";if(this.optional(t))return!0;if(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==e.length)return!1;var i,a,n,o,r=0;if(i=parseInt(e.substring(9,10),10),a=parseInt(e.substring(10,11),10),n=function(e,t){var i=10*e%11;return 10!==i&&11!==i||(i=0),i===t},""===e||"00000000000"===e||"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e)return!1;for(o=1;o<=9;o++)r+=parseInt(e.substring(o-1,o),10)*(11-o);if(n(r,i)){for(r=0,o=1;o<=10;o++)r+=parseInt(e.substring(o-1,o),10)*(12-o);return n(r,a)}return!1},"Please specify a valid CPF number"),e.validator.addMethod("creditcard",function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,a,n=0,o=0,r=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(i=e.length-1;i>=0;i--)a=e.charAt(i),o=parseInt(a,10),r&&(o*=2)>9&&(o-=9),n+=o,r=!r;return n%10==0},"Please enter a valid credit card number."),e.validator.addMethod("creditcardtypes",function(e,t,i){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var a=0;return i.mastercard&&(a|=1),i.visa&&(a|=2),i.amex&&(a|=4),i.dinersclub&&(a|=8),i.enroute&&(a|=16),i.discover&&(a|=32),i.jcb&&(a|=64),i.unknown&&(a|=128),i.all&&(a=255),1&a&&(/^(5[12345])/.test(e)||/^(2[234567])/.test(e))?16===e.length:2&a&&/^(4)/.test(e)?16===e.length:4&a&&/^(3[47])/.test(e)?15===e.length:8&a&&/^(3(0[012345]|[68]))/.test(e)?14===e.length:16&a&&/^(2(014|149))/.test(e)?15===e.length:32&a&&/^(6011)/.test(e)?16===e.length:64&a&&/^(3)/.test(e)?16===e.length:64&a&&/^(2131|1800)/.test(e)?15===e.length:!!(128&a)},"Please enter a valid credit card number."),e.validator.addMethod("currency",function(e,t,i){var a,n="string"==typeof i,o=n?i:i[0],r=!!n||i[1];return o=o.replace(/,/g,""),o=r?o+"]":o+"]?",a="^["+o+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",a=new RegExp(a),this.optional(t)||a.test(e)},"Please specify a valid currency"),e.validator.addMethod("dateFA",function(e,t){return this.optional(t)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(e)},e.validator.messages.date),e.validator.addMethod("dateITA",function(e,t){var i,a,n,o,r,s=!1;return/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)?(i=e.split("/"),a=parseInt(i[0],10),n=parseInt(i[1],10),o=parseInt(i[2],10),r=new Date(Date.UTC(o,n-1,a,12,0,0,0)),s=r.getUTCFullYear()===o&&r.getUTCMonth()===n-1&&r.getUTCDate()===a):s=!1,this.optional(t)||s},e.validator.messages.date),e.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},e.validator.messages.date),e.validator.addMethod("extension",function(e,t,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp("\\.("+i+")$","i"))},e.validator.format("Please enter a value with a valid extension.")),e.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number"),e.validator.addMethod("greaterThan",function(t,i,a){var n=e(a);return this.settings.onfocusout&&n.not(".validate-greaterThan-blur").length&&n.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan",function(){e(i).valid()}),t>n.val()},"Please enter a greater value."),e.validator.addMethod("greaterThanEqual",function(t,i,a){var n=e(a);return this.settings.onfocusout&&n.not(".validate-greaterThanEqual-blur").length&&n.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual",function(){e(i).valid()}),t>=n.val()},"Please enter a greater value."),e.validator.addMethod("iban",function(e,t){if(this.optional(t))return!0;var i,a,n,o,r,s,l,d,c,h=e.replace(/ /g,"").toUpperCase(),f="",u=!0,p="",m="";if(h.length<5)return!1;if(i=h.substring(0,2),s={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},void 0!==(r=s[i])&&(l=new RegExp("^[A-Z]{2}\\d{2}"+r+"$",""),!l.test(h)))return!1;for(a=h.substring(4,h.length)+h.substring(0,4),
d=0;d<a.length;d++)n=a.charAt(d),"0"!==n&&(u=!1),u||(f+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(n));for(c=0;c<f.length;c++)o=f.charAt(c),m=""+p+o,p=m%97;return 1===p},"Please specify a valid IBAN"),e.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),e.validator.addMethod("ipv4",function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),e.validator.addMethod("ipv6",function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),e.validator.addMethod("lessThan",function(t,i,a){var n=e(a);return this.settings.onfocusout&&n.not(".validate-lessThan-blur").length&&n.addClass("validate-lessThan-blur").on("blur.validate-lessThan",function(){e(i).valid()}),t<n.val()},"Please enter a lesser value."),e.validator.addMethod("lessThanEqual",function(t,i,a){var n=e(a);return this.settings.onfocusout&&n.not(".validate-lessThanEqual-blur").length&&n.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual",function(){e(i).valid()}),t<=n.val()},"Please enter a lesser value."),e.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),e.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),e.validator.addMethod("maxfiles",function(t,i,a){return!!this.optional(i)||!("file"===e(i).attr("type")&&i.files&&i.files.length>a)},e.validator.format("Please select no more than {0} files.")),e.validator.addMethod("maxsize",function(t,i,a){if(this.optional(i))return!0;if("file"===e(i).attr("type")&&i.files&&i.files.length)for(var n=0;n<i.files.length;n++)if(i.files[n].size>a)return!1;return!0},e.validator.format("File size must not exceed {0} bytes each.")),e.validator.addMethod("maxsizetotal",function(t,i,a){if(this.optional(i))return!0;if("file"===e(i).attr("type")&&i.files&&i.files.length)for(var n=0,o=0;o<i.files.length;o++)if((n+=i.files[o].size)>a)return!1;return!0},e.validator.format("Total size of all files must not exceed {0} bytes.")),e.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number"),e.validator.addMethod("mobileRU",function(e,t){var i=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||i.length>9&&/^((\+7|7|8)+([0-9]){10})$/.test(i)},"Please specify a valid mobile number"),e.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),e.validator.addMethod("netmask",function(e,t){return this.optional(t)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(e)},"Please enter a valid netmask."),e.validator.addMethod("nieES",function(e,t){"use strict";if(this.optional(t))return!0;var i,a=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),n=e.substr(e.length-1).toUpperCase();return e=e.toString().toUpperCase(),!(e.length>10||e.length<9||!a.test(e))&&(e=e.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2"),i=9===e.length?e.substr(0,8):e.substr(0,9),"TRWAGMYFPDXBNJZSQVHLCKET".charAt(parseInt(i,10)%23)===n)},"Please specify a valid NIE number."),e.validator.addMethod("nifES",function(e,t){"use strict";return!!this.optional(t)||(e=e.toUpperCase(),!!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(e)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8):!!/^[KLM]{1}/.test(e)&&e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,1)%23)))},"Please specify a valid NIF number."),e.validator.addMethod("nipPL",function(e){"use strict";if(e=e.replace(/[^0-9]/g,""),10!==e.length)return!1;for(var t=[6,5,7,2,3,4,5,6,7],i=0,a=0;a<9;a++)i+=t[a]*e[a];var n=i%11;return(10===n?0:n)===parseInt(e[9],10)},"Please specify a valid NIP number."),e.validator.addMethod("nisBR",function(e){var t,i,a,n,o,r=0;if(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==e.length)return!1;for(i=parseInt(e.substring(10,11),10),t=parseInt(e.substring(0,10),10),n=2;n<12;n++)o=n,10===n&&(o=2),11===n&&(o=3),r+=t%10*o,t=parseInt(t/10,10);return a=r%11,a=a>1?11-a:0,i===a},"Please specify a valid NIS/PIS number"),e.validator.addMethod("notEqualTo",function(t,i,a){return this.optional(i)||!e.validator.methods.equalTo.call(this,t,i,a)},"Please enter a different value, values must not be the same."),e.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),e.validator.addMethod("pattern",function(e,t,i){return!!this.optional(t)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(e))},"Invalid format."),e.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid phone number."),e.validator.addMethod("phonePL",function(e,t){e=e.replace(/\s+/g,"");var i=/^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/;return this.optional(t)||i.test(e)},"Please specify a valid phone number"),e.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),e.validator.addMethod("phoneUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),e.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),e.validator.addMethod("postalcodeBR",function(e,t){return this.optional(t)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(e)},"Informe um CEP vlido."),e.validator.addMethod("postalCodeCA",function(e,t){return this.optional(t)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postalcodeIT",function(e,t){return this.optional(t)||/^\d{5}$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},"Please specify a valid UK postcode"),e.validator.addMethod("require_from_group",function(t,i,a){var n=e(a[1],i.form),o=n.eq(0),r=o.data("valid_req_grp")?o.data("valid_req_grp"):e.extend({},this),s=n.filter(function(){return r.elementValue(this)}).length>=a[0];return o.data("valid_req_grp",r),e(i).data("being_validated")||(n.data("being_validated",!0),n.each(function(){r.element(this)}),n.data("being_validated",!1)),s},e.validator.format("Please fill at least {0} of these fields.")),e.validator.addMethod("skip_or_fill_minimum",function(t,i,a){var n=e(a[1],i.form),o=n.eq(0),r=o.data("valid_skip")?o.data("valid_skip"):e.extend({},this),s=n.filter(function(){return r.elementValue(this)}).length,l=0===s||s>=a[0];return o.data("valid_skip",r),e(i).data("being_validated")||(n.data("being_validated",!0),n.each(function(){r.element(this)}),n.data("being_validated",!1)),l},e.validator.format("Please either skip these fields or fill at least {0} of them.")),e.validator.addMethod("stateUS",function(e,t,i){var a,n=void 0===i,o=!n&&void 0!==i.caseSensitive&&i.caseSensitive,r=!n&&void 0!==i.includeTerritories&&i.includeTerritories,s=!n&&void 0!==i.includeMilitary&&i.includeMilitary;return a=r||s?r&&s?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":r?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",a=o?new RegExp(a):new RegExp(a,"i"),this.optional(t)||a.test(e)},"Please specify a valid state"),e.validator.addMethod("strippedminlength",function(t,i,a){return e(t).text().length>=a},e.validator.format("Please enter at least {0} characters")),e.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),e.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format"),e.validator.addMethod("url2",function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},e.validator.messages.url),e.validator.addMethod("vinUS",function(e){if(17!==e.length)return!1;var t,i,a,n,o,r,s=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],l=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],d=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],c=0;for(t=0;t<17;t++){if(n=d[t],a=e.slice(t,t+1),8===t&&(r=a),isNaN(a)){for(i=0;i<s.length;i++)if(a.toUpperCase()===s[i]){a=l[i],a*=n,isNaN(r)&&8===i&&(r=s[i]);break}}else a*=n;c+=a}return o=c%11,10===o&&(o="X"),o===r},"The specified vehicle identification number (VIN) is invalid."),e.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(e)},"The specified US ZIP Code is invalid"),e.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),e}),function($){function pafeCalculatedFieldsForm(){$(document).find("[data-pafe-form-builder-calculated-fields]").each(function(){var $fieldWidget=$(this).closest(".elementor-element"),$fieldCurrent=$(this),formID=$fieldCurrent.data("pafe-form-builder-form-id");if(calculation=$fieldCurrent.data("pafe-form-builder-calculated-fields"),-1==calculation.indexOf("field id"))$('[name^="form_fields"][data-pafe-form-builder-form-id="'+formID+'"]').each(function(){if(void 0!=$(this).attr("id")){var e=$(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""),t=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+']"]'),i=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+']"]').attr("type");if(t.length>0){if("radio"==i||"checkbox"==i)var a=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+']"]:checked').val();else var a=t.val().trim();void 0==a?a=0:(a=parseInt(a),isNaN(a)&&(a=0)),window[e]=parseInt(a)}if(-1!==e.indexOf("[]")){e=e.replace("[]","");var n=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+'][]"]');if(n.length>0){fieldTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+'][]"]').attr("type");var o=n.val(),o=[];if("checkbox"==fieldTypeMultiple)$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+'][]"]:checked').each(function(e,t){o.push($(this).val())});else if(null==(o=n.val()))var o=[];fieldValueMultipleTotal=0;for(var r=0;r<o.length;r++)a=parseInt(o[r]),isNaN(a)&&(a=0),fieldValueMultipleTotal+=a;window[e]=fieldValueMultipleTotal}}}});else for(var fieldNameArray=calculation.match(/\"(.*?)\"/g),j=0;j<fieldNameArray.length;j++){var fieldNameSlug=fieldNameArray[j].replace('"',"").replace('"',""),$fieldSelectorExist=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name^="form_fields['+fieldNameSlug+']"]'),$fieldSelector=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldNameSlug+']"]');if($fieldSelectorExist.length>0){var fieldName=$fieldSelectorExist.attr("name").replace("[]","").replace("form_fields[","").replace("]",""),fieldType=$fieldSelectorExist.attr("type");if($fieldSelector.length>0){if("radio"==fieldType||"checkbox"==fieldType)var fieldValue=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+']"]:checked').val();else var fieldValue=$fieldSelector.val().trim();void 0==fieldValue?fieldValue=0:(fieldValue=parseInt(fieldValue),isNaN(fieldValue)&&(fieldValue=0)),window[fieldName]=parseInt(fieldValue)}if(-1!==fieldName.indexOf("[]")){fieldName=fieldName.replace("[]","");var $fieldSelectorMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]');if($fieldSelectorMultiple.length>0){fieldTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]').attr("type");var fieldValueMultiple=$fieldSelectorMultiple.val(),fieldValueMultiple=[];if("checkbox"==fieldTypeMultiple)$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]:checked').each(function(e,t){fieldValueMultiple.push($(this).val())});else if(null==(fieldValueMultiple=$fieldSelectorMultiple.val()))var fieldValueMultiple=[];fieldValueMultipleTotal=0;for(var j=0;j<fieldValueMultiple.length;j++)fieldValue=parseInt(fieldValueMultiple[j]),isNaN(fieldValue)&&(fieldValue=0),fieldValueMultipleTotal+=fieldValue;window[fieldName]=fieldValueMultipleTotal}}}}var calculation=calculation.replace(/\[field id=/g,"").replace(/\"]/g,"").replace(/\"/g,""),totalFieldContent=eval(calculation);$fieldWidget.find(".pafe-calculated-fields-form__value").html(totalFieldContent),$fieldCurrent.val(totalFieldContent)})}function getIndexColumn(e){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i=e.slice(0,1).toUpperCase(),a=e.slice(1,2).toUpperCase();return""==a?t.indexOf(i):26*(t.indexOf(i)+1)+t.indexOf(a)}var WidgetPafeFormBuilderHandlerDate=function(e,t){var i=e.find(".elementor-date-field");if(i.length){var a=function(e){if(!t(e).hasClass("elementor-use-native")){var i={minDate:t(e).attr("min")||null,maxDate:t(e).attr("max")||null,dateFormat:t(e).attr("data-date-format")||null,defaultDate:t(e).attr("data-pafe-form-builder-value")||null,allowInput:!0};e.flatpickr(i)}};t.each(i,function(e,t){a(t)})}},WidgetPafeFormBuilderHandlerTime=function(e,t){var i=e.find(".elementor-time-field");if(i.length){var a=function(e){t(e).hasClass("elementor-use-native")||e.flatpickr({noCalendar:!0,enableTime:!0,allowInput:!0,defaultDate:t(e).attr("data-pafe-form-builder-value")||null})};t.each(i,function(e,t){a(t)})}},WidgetPafeFormBuilderHandlerRangeSlider=function(e,t){var i=e.find("[data-pafe-form-builder-range-slider]");i.length&&t.each(i,function(e,i){for(var a=t(i).data("pafe-form-builder-range-slider"),n={},o=a.split(","),r=0;r<o.length;r++){var s=o[r].trim().split(":");if(void 0!=s[0]&&void 0!=s[1]){var l=s[1].trim().replace('"',"").replace('"',"");n[s[0]]="false"==l||"true"==l?"false"!=l:l}}n.onStart=function(e){pafeCalculatedFieldsForm()},t(i).ionRangeSlider(n)})},WidgetPafeFormBuilderHandlerImageSelect=function(e,t){var i=e.find("[data-pafe-form-builder-image-select]");i.length&&t.each(i,function(e,i){var a=t(i).data("pafe-form-builder-image-select"),n=t(i).find("option");t(i).closest(".elementor-field").addClass("pafe-image-select-field"),n.each(function(e,n){var o=a[e].url;t(this).html();t(this).attr("data-img-src",o),t(i).imagepicker({show_label:!0})})})},WidgetPafeFormBuilderHandlerStripe=function(e,t){var i=e.find("[data-pafe-form-builder-stripe]");i.length&&t.each(i,function(e,i){var a=t("[data-pafe-stripe]").data("pafe-stripe"),n=Stripe(a),o=n.elements(),r={base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},s=o.create("card",{style:r});s.mount(i);t(i).data("pafe-form-builder-form-id");t(document).on("click","[data-pafe-form-builder-submit-form-id]",function(){if(void 0!=t(this).data("pafe-form-builder-stripe-submit")){var e=t(this).data("pafe-form-builder-submit-form-id"),i=t(document).find("[data-pafe-form-builder-form-id="+e+"]"),a=t(this).data("pafe-form-builder-required-text"),o=[],r=0,l=new FormData;i.each(function(){if(void 0==t(this).data("pafe-form-builder-stripe")&&void 0==t(this).data("pafe-form-builder-html"))if(t(this)[0].checkValidity()||"none"==t(this).closest(".elementor-widget").css("display")){t(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html("");var e=t(this).attr("type"),i=t(this).attr("name");if("file"==e)if(t(this).hasClass("error"))r++;else{i=t(this).attr("id").replace("form-field-",""),t.each(t(this)[0].files,function(e,t){l.append(i+"[]",t)});var n={};n.label=t(this).closest(".elementor-field-group").find(".elementor-field-label").html(),n.name=i,n.value="",n.upload=1,void 0!=t(this).data("attach-files")&&(n["attach-files"]=1),o.push(n)}else{if(-1!==i.indexOf("[]")){var s=[];if("checkbox"==e)t(document).find('[name="'+i+'"]:checked').each(function(){s.push(t(this).val())});else if(null==(s=t(this).val()))var s=[];c="";for(var d=0;d<s.length;d++)c+=s[d],d!=s.length-1&&(c+=",")}else if("radio"==e||"checkbox"==e)var c=t(document).find('[name="'+i+'"]:checked').val();else if(void 0!=t(this).data("pafe-form-builder-calculated-fields"))var c=t(this).siblings(".pafe-calculated-fields-form").text();else var c=t(this).val().trim();if(void 0!=c){var n={};n.label=t(this).closest(".elementor-field-group").find(".elementor-field-label").html(),n.name=i.replace("[]","").replace("form_fields[","").replace("]",""),n.value=c,o.push(n)}}}else"none"==t(this).css("display")||void 0!=t(this).data("pafe-form-builder-image-select")?t(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(a):void 0==t(this).data("pafe-form-builder-image-select")&&t(this)[0].reportValidity(),r++}),0==r&&n.createToken(s).then(function(i){if(i.error);else{var a=t(document).find('[data-pafe-form-builder-submit-form-id="'+e+'"]');t(document).find('[data-pafe-form-builder-form-id="'+e+'"]').closest(".elementor-element").css({opacity:.45}),a.closest(".elementor-element").css({opacity:.45}),a.closest(".elementor-element").addClass("elementor-form-waiting");var n=t(document).find('[data-pafe-form-builder-submit-form-id="'+e+'"]').closest(".elementor-element");n.find(".elementor-message").removeClass("visible");var r=0;if(void 0!=a.data("pafe-form-builder-stripe-amount"))r=a.data("pafe-form-builder-stripe-amount");else if(void 0!=a.data("pafe-form-builder-stripe-amount-field")){var s=a.data("pafe-form-builder-stripe-amount-field").replace('[field id="',"").replace('"]',"");r=t(document).find('[data-pafe-form-builder-form-id="'+e+'"][name="form_fields['+s+']"]').val()}var d="";if(void 0!=a.data("pafe-form-builder-stripe-customer-info-field")){var c=a.data("pafe-form-builder-stripe-customer-info-field").replace('[field id="',"").replace('"]',"");d=t(document).find('[data-pafe-form-builder-form-id="'+e+'"][name="form_fields['+c+']"]').val()}t(document).find('input[name="post_id"][data-pafe-form-builder-hidden-form-id="'+e+'"]').eq(0).closest("[data-elementor-id]").data("elementor-id"),t(document).find('input[name="form_id"][data-pafe-form-builder-hidden-form-id="'+e+'"]').val(),i.token.id;if(l.append("action","pafe_ajax_form_builder"),l.append("post_id",t(document).find('input[name="post_id"][data-pafe-form-builder-hidden-form-id="'+e+'"]').eq(0).closest("[data-elementor-id]").data("elementor-id")),l.append("form_id",t(document).find('input[name="form_id"][data-pafe-form-builder-hidden-form-id="'+e+'"]').val()),l.append("fields",JSON.stringify(o)),l.append("referrer",window.location.href),l.append("remote_ip",t(document).find('input[name="remote_ip"][data-pafe-form-builder-hidden-form-id="'+e+'"]').val()),l.append("stripeToken",i.token.id),l.append("amount",r),l.append("description",d),void 0!=a.data("pafe-form-builder-submit-post-edit")&&l.append("edit",a.data("pafe-form-builder-submit-post-edit")),void 0!=a.data("pafe-form-builder-submit-recaptcha")){var h=a.data("pafe-form-builder-submit-recaptcha");grecaptcha.ready(function(){grecaptcha.execute(h,{action:"create_comment"}).then(function(i){l.append("recaptcha",i),t.ajax({url:t("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:l,processData:!1,contentType:!1,success:function(i){t(document).find('[data-pafe-form-builder-form-id="'+e+'"]').closest(".elementor-element").css({opacity:1}),n.css({opacity:1}),n.removeClass("elementor-form-waiting");var i=i.trim();if(-1!==i.indexOf(",")){var r=i.split(",");n.find(".elementor-message").each(function(){if(""!=r[3]){var e=t(this).html().replace("[post_url]",'<a href="'+r[3]+'">'+r[3]+"</a>");t(this).html(e)}}),"succeeded"==r[0]&&n.find(".pafe-form-builder-alert--stripe .elementor-message-success").addClass("visible"),"pending"==r[0]&&n.find(".pafe-form-builder-alert--stripe .elementor-help-inline").addClass("visible"),"failed"==r[0]&&n.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),""!=r[1]?n.find(".pafe-form-builder-alert--mail .elementor-message-success").addClass("visible"):n.find(".pafe-form-builder-alert--mail .elementor-message-danger").addClass("visible");var s={};s.label="payment_status",s.name="payment_status",s.value=r[0],o.push(s);var l={};l.label="payment_id",l.name="payment_id",l.value=r[2],o.push(l);var d=a.closest("[data-pafe-form-google-sheets-connector]");if(void 0!=d.data("pafe-form-google-sheets-connector")){for(var c="",h=d.data("pafe-form-google-sheets-connector-field-list"),f=[],u=0;u<h.length;u++)f.push(getIndexColumn(h[u].pafe_form_google_sheets_connector_field_column));for(var p=0;p<Math.max.apply(null,f)+1;p++){for(var m="",u=0;u<h.length;u++){var g=h[u].pafe_form_google_sheets_connector_field_id;if(p==getIndexColumn(h[u].pafe_form_google_sheets_connector_field_column))for(var v=0;v<o.length;++v)o[v].name==g&&(m=o[v].value)}c+='"'+m+'",'}c=c.slice(0,-1);var _=d.data("pafe-form-google-sheets-connector"),b=d.data("pafe-form-google-sheets-connector-clid"),y=d.data("pafe-form-google-sheets-connector-clis"),w=d.data("pafe-form-google-sheets-connector-rtok"),x="https://sheets.googleapis.com/v4/spreadsheets/"+_+"/values/A1:append?includeValuesInResponse=false&insertDataOption=INSERT_ROWS&responseDateTimeRenderOption=SERIAL_NUMBER&responseValueRenderOption=FORMATTED_VALUE&valueInputOption=USER_ENTERED",C='{"majorDimension":"ROWS", "values":[['+c+"]]}",k=new XMLHttpRequest;k.open("POST","https://www.googleapis.com/oauth2/v4/token?client_id="+b+"&client_secret="+y+"&refresh_token="+w+"&grant_type=refresh_token"),k.setRequestHeader("Content-type","application/x-www-form-urlencoded"),k.onload=function(){var e=JSON.parse(k.responseText),t=e.access_token;if(t){var i=new XMLHttpRequest;i.open("POST",x),i.setRequestHeader("Content-length",C.length),i.setRequestHeader("Content-type","application/json"),i.setRequestHeader("Authorization","OAuth "+t),i.send(C)}},k.send()}}if(0!=t(document).find('input[name="redirect"][data-pafe-form-builder-hidden-form-id="'+e+'"]').length){var D=t(document).find('input[name="redirect"][data-pafe-form-builder-hidden-form-id="'+e+'"]').val().trim();-1!==i.indexOf(",")&&(""!=r[3]&&"[post_url]"==D?window.location.href=r[3]:window.location.href=D,""!=r[4]&&(window.location.href=r[4]))}0!=t(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+e+'"]').length&&t(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+e+'"]').trigger("click"),0!=t(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+e+'"]').length&&t(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+e+'"]').trigger("click"),0!=t(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+e+'"]').length&&t(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+e+'"]').trigger("click")}})})})}else t.ajax({url:t("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:l,processData:!1,contentType:!1,success:function(i){t(document).find('[data-pafe-form-builder-form-id="'+e+'"]').closest(".elementor-element").css({opacity:1}),n.css({opacity:1}),n.removeClass("elementor-form-waiting");var i=i.trim();if(-1!==i.indexOf(",")){var r=i.split(",");n.find(".elementor-message").each(function(){if(""!=r[3]){var e=t(this).html().replace("[post_url]",'<a href="'+r[3]+'">'+r[3]+"</a>");t(this).html(e)}}),"succeeded"==r[0]&&n.find(".pafe-form-builder-alert--stripe .elementor-message-success").addClass("visible"),"pending"==r[0]&&n.find(".pafe-form-builder-alert--stripe .elementor-help-inline").addClass("visible"),"failed"==r[0]&&n.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),""!=r[1]?n.find(".pafe-form-builder-alert--mail .elementor-message-success").addClass("visible"):n.find(".pafe-form-builder-alert--mail .elementor-message-danger").addClass("visible");var s={};s.label="payment_status",s.name="payment_status",s.value=r[0],o.push(s);var l={};l.label="payment_id",l.name="payment_id",l.value=r[2],o.push(l);var d=a.closest("[data-pafe-form-google-sheets-connector]");if(void 0!=d.data("pafe-form-google-sheets-connector")){for(var c="",h=d.data("pafe-form-google-sheets-connector-field-list"),f=[],u=0;u<h.length;u++)f.push(getIndexColumn(h[u].pafe_form_google_sheets_connector_field_column));for(var p=0;p<Math.max.apply(null,f)+1;p++){for(var m="",u=0;u<h.length;u++){var g=h[u].pafe_form_google_sheets_connector_field_id;if(p==getIndexColumn(h[u].pafe_form_google_sheets_connector_field_column))for(var v=0;v<o.length;++v)o[v].name==g&&(m=o[v].value)}c+='"'+m+'",'}c=c.slice(0,-1);var _=d.data("pafe-form-google-sheets-connector"),b=d.data("pafe-form-google-sheets-connector-clid"),y=d.data("pafe-form-google-sheets-connector-clis"),w=d.data("pafe-form-google-sheets-connector-rtok"),x="https://sheets.googleapis.com/v4/spreadsheets/"+_+"/values/A1:append?includeValuesInResponse=false&insertDataOption=INSERT_ROWS&responseDateTimeRenderOption=SERIAL_NUMBER&responseValueRenderOption=FORMATTED_VALUE&valueInputOption=USER_ENTERED",C='{"majorDimension":"ROWS", "values":[['+c+"]]}",k=new XMLHttpRequest;k.open("POST","https://www.googleapis.com/oauth2/v4/token?client_id="+b+"&client_secret="+y+"&refresh_token="+w+"&grant_type=refresh_token"),k.setRequestHeader("Content-type","application/x-www-form-urlencoded"),k.onload=function(){var e=JSON.parse(k.responseText),t=e.access_token;if(t){var i=new XMLHttpRequest;i.open("POST",x),i.setRequestHeader("Content-length",C.length),i.setRequestHeader("Content-type","application/json"),i.setRequestHeader("Authorization","OAuth "+t),i.send(C)}},k.send()}}if(0!=t(document).find('input[name="redirect"][data-pafe-form-builder-hidden-form-id="'+e+'"]').length){var D=t(document).find('input[name="redirect"][data-pafe-form-builder-hidden-form-id="'+e+'"]').val().trim();-1!==i.indexOf(",")&&(""!=r[3]&&"[post_url]"==D?window.location.href=r[3]:window.location.href=D,""!=r[4]&&(window.location.href=r[4]))}0!=t(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+e+'"]').length&&t(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+e+'"]').trigger("click"),0!=t(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+e+'"]').length&&t(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+e+'"]').trigger("click"),0!=t(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+e+'"]').length&&t(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+e+'"]').trigger("click")},error:function(){t(document).find('[data-pafe-form-builder-form-id="'+e+'"]').closest(".elementor-element").css({opacity:1}),n.css({opacity:1}),n.removeClass("elementor-form-waiting"),n.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible")}})}})}})})};$(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerDate),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerTime),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerRangeSlider),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerImageSelect),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerStripe)})}(jQuery),jQuery(document).ready(function(e){function t(e){
var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i=e.slice(0,1).toUpperCase(),a=e.slice(1,2).toUpperCase();return""==a?t.indexOf(i):26*(t.indexOf(i)+1)+t.indexOf(a)}e(document).on("change",'[name="upload_field"]',function(){var t=e(this).closest("form"),i=e(this),a=i.data("accept");void 0==a&&(a="jpg,jpeg,png,gif,pdf,doc,docx,ppt,pptx,odt,avi,ogg,m4a,mov,mp3,mp4,mpg,wav,wmv"),void 0!=a&&""==a.trim()&&(a="jpg,jpeg,png,gif,pdf,doc,docx,ppt,pptx,odt,avi,ogg,m4a,mov,mp3,mp4,mpg,wav,wmv"),t.validate({rules:{upload_field:{extension:a,maxsize:1048576*parseInt(i.data("maxsize"))}},messages:{upload_field:{extension:i.data("types-message"),maxsize:i.data("maxsize-message")}}}),t.submit(function(e){e.preventDefault()}),t.trigger("submit")}),e(document).on("click","[data-pafe-form-builder-submit-form-id]",function(){if(void 0==e(this).data("pafe-form-builder-stripe-submit")){var i=e(this).data("pafe-form-builder-submit-form-id"),a=e(document).find("[data-pafe-form-builder-form-id="+i+"]"),n=e(this).data("pafe-form-builder-required-text"),o=[],r=0;if(formData=new FormData,a.each(function(){if(void 0==e(this).data("pafe-form-builder-stripe")&&void 0==e(this).data("pafe-form-builder-html"))if(e(this)[0].checkValidity()||"none"==e(this).closest(".elementor-widget").css("display")||void 0!=e(this).data("pafe-form-builder-honeypot")){e(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html("");var t=e(this).attr("type"),i=e(this).attr("name");if("file"==t)if(e(this).hasClass("error"))r++;else{i=e(this).attr("id").replace("form-field-",""),e.each(e(this)[0].files,function(e,t){formData.append(i+"[]",t)});var a={};a.label=e(this).closest(".elementor-field-group").find(".elementor-field-label").html(),a.name=i,a.value="",a.upload=1,void 0!=e(this).data("attach-files")&&(a["attach-files"]=1),o.push(a)}else{if(-1!==i.indexOf("[]")){var s=[];if("checkbox"==t)e(document).find('[name="'+i+'"]:checked').each(function(){s.push(e(this).val())});else if(null==(s=e(this).val()))var s=[];d="";for(var l=0;l<s.length;l++)d+=s[l],l!=s.length-1&&(d+=",")}else if("radio"==t||"checkbox"==t)var d=e(document).find('[name="'+i+'"]:checked').val();else if(void 0!=e(this).data("pafe-form-builder-calculated-fields"))var d=e(this).siblings(".pafe-calculated-fields-form").text();else var d=e(this).val().trim();if(void 0!=d){var a={};a.label=e(this).closest(".elementor-field-group").find(".elementor-field-label").html(),a.name=i.replace("[]","").replace("form_fields[","").replace("]",""),a.value=d,o.push(a)}}}else"none"==e(this).css("display")||"none"==e(this).closest("div").css("display")||void 0!=e(this).data("pafe-form-builder-image-select")?e(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(n):void 0==e(this).data("pafe-form-builder-image-select")&&e(this)[0].reportValidity(),r++}),0==r)if(e(document).find('[data-pafe-form-builder-form-id="'+i+'"]').closest(".elementor-element").css({opacity:.45}),e(this).closest(".elementor-element").css({opacity:.45}),e(this).closest(".elementor-element").addClass("elementor-form-waiting"),formData.append("action","pafe_ajax_form_builder"),formData.append("post_id",e(document).find('input[name="post_id"][data-pafe-form-builder-hidden-form-id="'+i+'"]').eq(0).closest("[data-elementor-id]").data("elementor-id")),formData.append("form_id",e(document).find('input[name="form_id"][data-pafe-form-builder-hidden-form-id="'+i+'"]').val()),formData.append("fields",JSON.stringify(o)),formData.append("referrer",window.location.href),formData.append("remote_ip",e(document).find('input[name="remote_ip"][data-pafe-form-builder-hidden-form-id="'+i+'"]').val()),void 0!=e(this).data("pafe-form-builder-submit-post-edit")&&formData.append("edit",e(this).data("pafe-form-builder-submit-post-edit")),void 0!=e(this).data("pafe-form-builder-submit-recaptcha")){var s=e(this).data("pafe-form-builder-submit-recaptcha");grecaptcha.ready(function(){grecaptcha.execute(s,{action:"create_comment"}).then(function(a){formData.append("recaptcha",a);var n=e(document).find('[data-pafe-form-builder-submit-form-id="'+i+'"]').closest(".elementor-element");n.find(".elementor-message").removeClass("visible");var r=e(document).find('[data-pafe-form-builder-submit-form-id="'+i+'"]');e.ajax({url:e("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:formData,processData:!1,contentType:!1,success:function(a){if(n.css({opacity:1}),n.removeClass("elementor-form-waiting"),""!=a.trim()?n.find(".elementor-message-success").addClass("visible"):n.find(".elementor-message-danger").addClass("visible"),-1!==a.indexOf(",")){var s=a.split(",");n.find(".elementor-message").each(function(){if(""!=s[3]){var t=e(this).html().replace("[post_url]",'<a href="'+s[3]+'">'+s[3]+"</a>");e(this).html(t)}})}var l=r.closest("[data-pafe-form-google-sheets-connector]");if(void 0!=l.data("pafe-form-google-sheets-connector")){for(var d="",c=l.data("pafe-form-google-sheets-connector-field-list"),h=[],f=0;f<c.length;f++)h.push(t(c[f].pafe_form_google_sheets_connector_field_column));for(var u=0;u<Math.max.apply(null,h)+1;u++){for(var p="",f=0;f<c.length;f++){var m=c[f].pafe_form_google_sheets_connector_field_id;if(u==t(c[f].pafe_form_google_sheets_connector_field_column))for(var g=0;g<o.length;++g)o[g].name==m&&(p=o[g].value)}d+='"'+p+'",'}d=d.slice(0,-1);var v=l.data("pafe-form-google-sheets-connector"),_=l.data("pafe-form-google-sheets-connector-clid"),b=l.data("pafe-form-google-sheets-connector-clis"),y=l.data("pafe-form-google-sheets-connector-rtok"),w="https://sheets.googleapis.com/v4/spreadsheets/"+v+"/values/A1:append?includeValuesInResponse=false&insertDataOption=INSERT_ROWS&responseDateTimeRenderOption=SERIAL_NUMBER&responseValueRenderOption=FORMATTED_VALUE&valueInputOption=USER_ENTERED",x='{"majorDimension":"ROWS", "values":[['+d+"]]}",C=new XMLHttpRequest;C.open("POST","https://www.googleapis.com/oauth2/v4/token?client_id="+_+"&client_secret="+b+"&refresh_token="+y+"&grant_type=refresh_token"),C.setRequestHeader("Content-type","application/x-www-form-urlencoded"),C.onload=function(){var e=JSON.parse(C.responseText),t=e.access_token;if(t){var i=new XMLHttpRequest;i.open("POST",w),i.setRequestHeader("Content-length",x.length),i.setRequestHeader("Content-type","application/json"),i.setRequestHeader("Authorization","OAuth "+t),i.send(x)}},C.send()}if(0!=e(document).find('input[name="redirect"][data-pafe-form-builder-hidden-form-id="'+i+'"]').length){var k=e(document).find('input[name="redirect"][data-pafe-form-builder-hidden-form-id="'+i+'"]').val().trim();-1!==a.indexOf(",")&&(""!=s[3]&&"[post_url]"==k?window.location.href=s[3]:window.location.href=k,""!=s[4]&&(window.location.href=s[4]))}0!=e(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+i+'"]').length&&e(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+i+'"]').trigger("click"),0!=e(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+i+'"]').length&&e(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+i+'"]').trigger("click"),0!=e(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+i+'"]').length&&e(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+i+'"]').trigger("click")}})})})}else{var l=e(document).find('[data-pafe-form-builder-submit-form-id="'+i+'"]').closest(".elementor-element");l.find(".elementor-message").removeClass("visible");var d=e(document).find('[data-pafe-form-builder-submit-form-id="'+i+'"]');e.ajax({url:e("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:formData,processData:!1,contentType:!1,success:function(a){if(l.css({opacity:1}),l.removeClass("elementor-form-waiting"),""!=a.trim()?l.find(".elementor-message-success").addClass("visible"):l.find(".elementor-message-danger").addClass("visible"),-1!==a.indexOf(",")){var n=a.split(",");l.find(".elementor-message").each(function(){if(""!=n[3]){var t=e(this).html().replace("[post_url]",'<a href="'+n[3]+'">'+n[3]+"</a>");e(this).html(t)}})}var r=d.closest("[data-pafe-form-google-sheets-connector]");if(void 0!=r.data("pafe-form-google-sheets-connector")){for(var s="",c=r.data("pafe-form-google-sheets-connector-field-list"),h=[],f=0;f<c.length;f++)h.push(t(c[f].pafe_form_google_sheets_connector_field_column));for(var u=0;u<Math.max.apply(null,h)+1;u++){for(var p="",f=0;f<c.length;f++){var m=c[f].pafe_form_google_sheets_connector_field_id;if(u==t(c[f].pafe_form_google_sheets_connector_field_column))for(var g=0;g<o.length;++g)o[g].name==m&&(p=o[g].value)}s+='"'+p+'",'}s=s.slice(0,-1);var v=r.data("pafe-form-google-sheets-connector"),_=r.data("pafe-form-google-sheets-connector-clid"),b=r.data("pafe-form-google-sheets-connector-clis"),y=r.data("pafe-form-google-sheets-connector-rtok"),w="https://sheets.googleapis.com/v4/spreadsheets/"+v+"/values/A1:append?includeValuesInResponse=false&insertDataOption=INSERT_ROWS&responseDateTimeRenderOption=SERIAL_NUMBER&responseValueRenderOption=FORMATTED_VALUE&valueInputOption=USER_ENTERED",x='{"majorDimension":"ROWS", "values":[['+s+"]]}",C=new XMLHttpRequest;C.open("POST","https://www.googleapis.com/oauth2/v4/token?client_id="+_+"&client_secret="+b+"&refresh_token="+y+"&grant_type=refresh_token"),C.setRequestHeader("Content-type","application/x-www-form-urlencoded"),C.onload=function(){var e=JSON.parse(C.responseText),t=e.access_token;if(t){var i=new XMLHttpRequest;i.open("POST",w),i.setRequestHeader("Content-length",x.length),i.setRequestHeader("Content-type","application/json"),i.setRequestHeader("Authorization","OAuth "+t),i.send(x)}},C.send()}if(0!=e(document).find('input[name="redirect"][data-pafe-form-builder-hidden-form-id="'+i+'"]').length){var k=e(document).find('input[name="redirect"][data-pafe-form-builder-hidden-form-id="'+i+'"]').val().trim();-1!==a.indexOf(",")&&(""!=n[3]&&"[post_url]"==k?window.location.href=n[3]:window.location.href=k,""!=n[4]&&(window.location.href=n[4]))}0!=e(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+i+'"]').length&&e(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+i+'"]').trigger("click"),0!=e(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+i+'"]').length&&e(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+i+'"]').trigger("click"),0!=e(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+i+'"]').length&&e(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+i+'"]').trigger("click")}})}}})}),jQuery(document).ready(function($){function pafeConditionalLogicFormCheck(e){e.each(function(){var e=$(this),t=$(this).data("pafe-form-builder-conditional-logic-not-field"),i=e.data("pafe-form-builder-conditional-logic-speed"),a=e.data("pafe-form-builder-conditional-logic-easing"),n=e.data("pafe-form-builder-conditional-logic"),o=!0;if(void 0!=t)var r=$(this),s=r.closest(".elementor-location-popup").length,l=$(this),d=l.data("pafe-form-builder-conditional-logic-not-field-form-id");else var r=$(this).closest(".elementor-element"),s=r.closest(".elementor-location-popup").length,l=e.find("[data-pafe-form-builder-form-id]"),d=l.data("pafe-form-builder-form-id");if(-1!==JSON.stringify(n).indexOf("pafe")&&-1==JSON.stringify(n).indexOf("show")&&(o=!1),void 0!=t&&(o=!0),void 0!=t)var c=1;else var c=l.attr("name").replace("[]","").replace("form_fields[","").replace("]","");for(var h=0,f=0,u="",p="",m=0;m<n.length;m++){if(void 0!=t)var g=1;else var g=l.attr("name").replace("form_fields[","").replace("[]","").replace("]","");var v=n[m].pafe_conditional_logic_form_if.trim(),_=n[m].pafe_conditional_logic_form_comparison_operators,b=n[m].pafe_conditional_logic_form_value,y=n[m].pafe_conditional_logic_form_type,w=h;if("number"==y&&(b=parseInt(b)),c==g&&(f++,u=n[m].pafe_conditional_logic_form_and_or_operators,""!=v)){var x=$(document).find('[name="form_fields['+v+']"][data-pafe-form-builder-form-id="'+d+'"]'),C=x.attr("type");if(x.length>0){if("radio"==C||"checkbox"==C)var k=$(document).find('[data-pafe-form-builder-form-id="'+d+'"][name="form_fields['+v+']"]:checked').val();else var k=x.val().trim();void 0!=k&&-1!==k.indexOf(";")&&(k=k.split(";"),k=k[0]),"number"==y&&(void 0==k?k=0:(k=parseInt(k),isNaN(k)&&(k=0))),"not-empty"==_&&(""!=k&&0!=k||(h+=1)),"empty"==_&&(""==k&&0==k||(h+=1)),"="==_&&k!=b&&(h+=1),"!="==_&&k==b&&(h+=1),">"==_&&k<=b&&(h+=1),">="==_&&k<b&&(h+=1),"<"==_&&k>=b&&(h+=1),"<="==_&&k>b&&(h+=1),"checked"==_&&(x.prop("checked")||(h+=1)),"unchecked"==_&&x.prop("checked")&&(h+=1)}var D=$(document).find('[data-pafe-form-builder-form-id="'+d+'"][name="form_fields['+v+'][]"]');if(D.length>0){fieldIfTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+d+'"][name="form_fields['+v+'][]"]').attr("type");var M=D.val(),M=[];if("checkbox"==fieldIfTypeMultiple)$(document).find('[data-pafe-form-builder-form-id="'+d+'"][name="form_fields['+v+'][]"]:checked').each(function(){M[m++]=$(this).val()});else if(null==(M=D.val()))var M=[];if("not-empty"==_&&0==M.length&&(h+=1),"empty"==_&&M.length>0&&(h+=1),"="!=_&&"!="!=_&&">"!=_&&">="!=_&&"<"!=_&&"<="!=_||0==M.length&&(h+=1),"="==_)for(var F=0;F<M.length;F++)M[F]!=b&&(h+=1);if("!="==_)for(var F=0;F<M.length;F++)M[F]==b&&(h+=1);if(">"==_)for(var F=0;F<M.length;F++)M[F]<=b&&(h+=1);if(">="==_)for(var F=0;F<M.length;F++)M[F]<b&&(h+=1);if("<"==_)for(var F=0;F<M.length;F++)M[F]>=b&&(h+=1);if("<="==_)for(var F=0;F<M.length;F++)M[F]>b&&(h+=1)}}var T=l;if(w==h&&void 0!=n[m].pafe_conditional_logic_form_set_value&&-1!==n[m].pafe_conditional_logic_form_action.indexOf("set_value"))if(p=n[m].pafe_conditional_logic_form_set_value,void 0!=n[m].pafe_conditional_logic_form_set_value_for&&""!=n[m].pafe_conditional_logic_form_set_value_for)var T=$(document).find('[data-pafe-form-builder-form-id="'+d+'"][name^="form_fields['+n[m].pafe_conditional_logic_form_set_value_for+']"]');else var T=l}var A=$(this).find("option:first"),E=!1;"radio"!=T.attr("type")&&"checkbox"!=T.attr("type")||(E=!0);var S=$(this).data("pafe-form-builder-default-value");if("or"==u&&(f>h?s>0?("hidden"!=$(this).attr("type")&&r.show(),E&&void 0!=$(this).data("checked")&&!$(this).hasClass("pafe-checked")&&$(this).prop("checked",!0).addClass("pafe-checked"),""!=p&&E&&!$(this).hasClass("pafe-checked-setvalue")&&(p==T.val()&&T.prop("checked",!0).addClass("pafe-checked-setvalue"),"unchecked"==p||"checked"==p?"unchecked"==p?T.prop("checked",!1).addClass("pafe-checked-setvalue"):T.prop("checked",!0).addClass("pafe-checked-setvalue"):p==T.val()&&T.prop("checked",!0).addClass("pafe-checked-setvalue")),""==p||E||T.val(p)):("hidden"!=$(this).attr("type")&&r.slideDown(i,a),E&&void 0!=T.data("checked")&&!T.hasClass("pafe-checked")&&$(this).prop("checked",!0).addClass("pafe-checked"),""!=p&&E&&!$(this).hasClass("pafe-checked-setvalue")&&(p==T.val()&&T.prop("checked",!0).addClass("pafe-checked-setvalue"),"unchecked"==p||"checked"==p?"unchecked"==p?T.prop("checked",!1).addClass("pafe-checked-setvalue"):T.prop("checked",!0).addClass("pafe-checked-setvalue"):p==T.val()&&T.prop("checked",!0).addClass("pafe-checked-setvalue")),""==p||E||T.val(p)):s>0?(o&&r.hide(),void 0==t&&(void 0!=S&&""!=S?$(this).val(S):0!=A.length?$(this).val(A.val()):E?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val(""))):(o&&r.slideUp(i,a),void 0==t&&(void 0!=S&&""!=S?$(this).val(S):0!=A.length?$(this).val(A.val()):E?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")))),"and"==u&&(0==h?s>0?("hidden"!=$(this).attr("type")&&r.show(),E&&void 0!=$(this).data("checked")&&!$(this).hasClass("pafe-checked")&&$(this).prop("checked",!0).addClass("pafe-checked"),""!=p&&E&&!$(this).hasClass("pafe-checked-setvalue")&&p==$(this).val()&&$(this).prop("checked",!0).addClass("pafe-checked-setvalue"),""==p||E||$(this).val(p)):("hidden"!=$(this).attr("type")&&r.slideDown(i,a),E&&void 0!=$(this).data("checked")&&!$(this).hasClass("pafe-checked")&&$(this).prop("checked",!0).addClass("pafe-checked"),""!=p&&E&&!$(this).hasClass("pafe-checked-setvalue")&&p==$(this).val()&&$(this).prop("checked",!0).addClass("pafe-checked-setvalue"),""==p||E||$(this).val(p)):s>0?(o&&r.hide(),void 0==t&&(void 0!=S&&""!=S?$(this).val(S):0!=A.length?$(this).val(A.val()):E?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val(""))):(o&&r.slideUp(i,a),void 0==t&&(void 0!=S&&""!=S?$(this).val(S):0!=A.length?$(this).val(A.val()):E?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")))),pafeCalculatedFieldsForm(""),$(this).hasClass("elementor-button")){for(var d=$(this).data("pafe-form-builder-submit-form-id"),I=0,N=0,P="",m=0;m<n.length;m++){var v=n[m].pafe_conditional_logic_form_if.trim(),_=n[m].pafe_conditional_logic_form_comparison_operators,b=n[m].pafe_conditional_logic_form_value,y=n[m].pafe_conditional_logic_form_type;if("number"==y&&(b=parseInt(b)),N++,P=n[m].pafe_conditional_logic_form_and_or_operators,""!=v){var x=$(document).find('[data-pafe-form-builder-form-id="'+d+'"][name="form_fields['+v+']"]'),C=$(document).find('[data-pafe-form-builder-form-id="'+d+'"][name="form_fields['+v+']"]').attr("type");if(x.length>0){if("radio"==C)var k=$(document).find('[data-pafe-form-builder-form-id="'+d+'"][name="form_fields['+v+']"]:checked').val();else var k=x.val().trim();void 0!=k&&-1!==k.indexOf(";")&&(k=k.split(";"),k=k[0]),"number"==y&&(void 0==k?k=0:(k=parseInt(k),isNaN(k)&&(k=0))),"not-empty"==_&&(""!=k&&0!=k||(I+=1)),"empty"==_&&(""==k&&0==k||(I+=1)),"="==_&&k!=b&&(I+=1),"!="==_&&k==b&&(I+=1),">"==_&&k<=b&&(I+=1),">="==_&&k<b&&(I+=1),"<"==_&&k>=b&&(I+=1),"<="==_&&k>b&&(I+=1),"checked"==_&&(x.prop("checked")||(I+=1)),"unchecked"==_&&x.prop("checked")&&(I+=1)}var D=$(document).find('[data-pafe-form-builder-form-id="'+d+'"][name="form_fields['+v+'][]"]');if(D.length>0){fieldIfTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+d+'"][name="form_fields['+v+'][]"]').attr("type");var M=D.val(),M=[];if("checkbox"==fieldIfTypeMultiple)$(document).find('[data-pafe-form-builder-form-id="'+d+'"][name="form_fields['+v+'][]"]:checked').each(function(){M[m++]=$(this).val()});else if(null==(M=D.val()))var M=[];if("not-empty"==_&&0==M.length&&(I+=1),"empty"==_&&M.length>0&&(I+=1),"="!=_&&"!="!=_&&">"!=_&&">="!=_&&"<"!=_&&"<="!=_||0==M.length&&(I+=1),"="==_)for(var F=0;F<M.length;F++)M[F]!=b&&(I+=1);if("!="==_)for(var F=0;F<M.length;F++)M[F]==b&&(I+=1);if(">"==_)for(var F=0;F<M.length;F++)M[F]<=b&&(I+=1);if(">="==_)for(var F=0;F<M.length;F++)M[F]<b&&(I+=1);if("<"==_)for(var F=0;F<M.length;F++)M[F]>=b&&(I+=1);if("<="==_)for(var F=0;F<M.length;F++)M[F]>b&&(I+=1)}}}"or"==P&&(N>I?s>0?"hidden"!=$(this).attr("type")&&r.show():"hidden"!=$(this).attr("type")&&r.slideDown(i,a):s>0?r.hide():r.slideUp(i,a)),"and"==P&&(0==h?s>0?"hidden"!=$(this).attr("type")&&r.show():"hidden"!=$(this).attr("type")&&r.slideDown(i,a):s>0?r.hide():r.slideUp(i,a))}})}function pafeCalculatedFieldsForm(fieldNameElement){var selector="[data-pafe-form-builder-calculated-fields]";""!=fieldNameElement&&(selector="[data-pafe-form-builder-calculated-fields*="+fieldNameElement+"]"),$(document).find(selector).each(function(){var $fieldWidget=$(this).closest(".elementor-element"),$fieldCurrent=$(this),formID=$fieldCurrent.data("pafe-form-builder-form-id");if(calculation=$fieldCurrent.data("pafe-form-builder-calculated-fields"),-1==calculation.indexOf("field id"))$(document).find('[name^="form_fields"][data-pafe-form-builder-form-id="'+formID+'"]').each(function(){if(void 0!=$(this).attr("id")){var e=$(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""),t=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+']"]'),i=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+']"]').attr("type");if(t.length>0){if("radio"==i||"checkbox"==i)var a=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+']"]:checked').val();else var a=t.val().trim();void 0==a?a=0:(a=parseInt(a),isNaN(a)&&(a=0)),window[e]=parseInt(a)}if(-1!==e.indexOf("[]")){e=e.replace("[]","");var n=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+'][]"]');if(n.length>0){fieldTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+'][]"]').attr("type");var o=[];if("checkbox"==fieldTypeMultiple)$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+'][]"]:checked').each(function(e,t){o.push($(this).val())});else if(null==(o=n.val()))var o=[];fieldValueMultipleTotal=0;for(var r=0;r<o.length;r++)a=parseInt(o[r]),isNaN(a)&&(a=0),fieldValueMultipleTotal+=a;window[e]=fieldValueMultipleTotal}}}});else for(var fieldNameArray=calculation.match(/\"(.*?)\"/g),jx=0;jx<fieldNameArray.length;jx++){var fieldNameSlug=fieldNameArray[jx].replace('"',"").replace('"',""),$fieldSelectorExist=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name^="form_fields['+fieldNameSlug+']"]'),$fieldSelector=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldNameSlug+']"]');if($fieldSelectorExist.length>0){var fieldName=$fieldSelectorExist.attr("name").replace("form_fields[","").replace("]",""),fieldType=$fieldSelectorExist.attr("type");if($fieldSelector.length>0){if("radio"==fieldType||"checkbox"==fieldType)var fieldValue=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+']"]:checked').val();else var fieldValue=$fieldSelector.val().trim();void 0==fieldValue?fieldValue=0:(fieldValue=parseInt(fieldValue),isNaN(fieldValue)&&(fieldValue=0)),window[fieldName]=parseInt(fieldValue)}if(-1!==fieldName.indexOf("[]")){fieldName=fieldName.replace("[]","");var $fieldSelectorMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]');if($fieldSelectorMultiple.length>0){fieldTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]').attr("type");var fieldValueMultiple=[];if("checkbox"==fieldTypeMultiple)$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]:checked').each(function(e,t){fieldValueMultiple.push($(this).val())});else if(null==(fieldValueMultiple=$fieldSelectorMultiple.val()))var fieldValueMultiple=[];fieldValueMultipleTotal=0;for(var j=0;j<fieldValueMultiple.length;j++)fieldValue=parseInt(fieldValueMultiple[j]),isNaN(fieldValue)&&(fieldValue=0),fieldValueMultipleTotal+=fieldValue;window[fieldName]=fieldValueMultipleTotal}}}}var calculation=calculation.replace(/\[field id=/g,"").replace(/\"]/g,"").replace(/\"/g,""),totalFieldContent=eval(calculation);$fieldWidget.find(".pafe-calculated-fields-form__value").html(totalFieldContent),$fieldCurrent.val(totalFieldContent);var fieldNameCalc=$(this).attr("name").replace("[]","").replace("form_fields[","").replace("]","");pafeCalculatedFieldsForm(fieldNameCalc)})}function IDGenerator(){this.length=8,this.timestamp=+new Date;var e=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};this.generate=function(){for(var t=this.timestamp.toString(),i=t.split("").reverse(),a="",n=0;n<this.length;++n){a+=i[e(0,i.length-1)]}return a}}var $conditionals=$(document).find("body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic]");$conditionals.length>0&&pafeConditionalLogicFormCheck($conditionals),$(document).on("keyup change","[data-pafe-form-builder-form-id]",function(){var e='"pafe_conditional_logic_form_if":"'+$(this).attr("name").replace("[]","").replace("form_fields[","").replace("]","")+'"',t=$(document).find("[data-pafe-form-builder-conditional-logic*='"+e+"']");t.length>0&&pafeConditionalLogicFormCheck(t)}),pafeCalculatedFieldsForm(""),$(document).on("keyup change","[data-pafe-form-builder-form-id]",function(){pafeCalculatedFieldsForm($(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""))}),$(document).on("keyup change","[data-pafe-form-builder-image-upload]",function(){var e=$(this).closest("label"),t=$(this).closest(".elementor-element");$.each($(this)[0].files,function(i,a){var n=a.name,o=n.substring(n.lastIndexOf(".")+1).toLowerCase();if("gif"==o||"png"==o||"jpg"==o||"jpeg"==o)if("undefined"!=typeof FileReader){"multiple"!=e.attr("multiple")&&e.hide(0);var r=new IDGenerator,s=r.generate(),l=new FileReader;l.onload=function(t){image=new Image,image.src=t.target.result,e.before('<div class="pafe-form-builder-image-upload-placeholder pafe-form-builder-image-upload-uploading" style="background-image:url('+t.target.result+')" data-pafe-form-builder-image-upload-placeholder="'+s+'"><input type="text" style="display:none;" data-pafe-form-builder-image-upload-item><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--remove" data-pafe-form-builder-image-upload-button-remove><i class="fa fa-times" aria-hidden="true"></i></span><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--uploading" data-pafe-form-builder-image-upload-button-uploading><i class="fa fa-spinner fa-spin"></i></span></div>')},l.readAsDataURL(a);var d=new FormData;d.append("upload",a),$.ajax({url:$("[data-pafe-form-builder-tinymce-upload]").data("pafe-form-builder-tinymce-upload"),type:"POST",data:d,processData:!1,contentType:!1,success:function(e){var i=JSON.parse(e),a=$(document).find('[data-pafe-form-builder-image-upload-placeholder="'+s+'"]');if(1==a.length){a.removeClass("pafe-form-builder-image-upload-uploading").addClass("pafe-form-builder-image-upload-uploaded"),a.find("input").attr("value",i.location);var n="";t.find("[data-pafe-form-builder-image-upload-placeholder]:not(.pafe-form-builder-image-upload-delete) [data-pafe-form-builder-image-upload-item]").each(function(){n+=$(this).val()+","}),n=n.replace(/.$/,""),t.find("[data-pafe-form-builder-form-id]").attr("value",n)}}})}else alert("Your browser does not support")})}),$(document).on("click","[data-pafe-form-builder-image-upload-button-remove]",function(){var e=$(this).closest(".pafe-form-builder-image-upload-placeholder");e.css({display:"none"}),e.addClass("pafe-form-builder-image-upload-delete");var t=$(this).closest(".elementor-element"),i=t.find("[data-pafe-form-builder-image-upload-placeholder]:not(.pafe-form-builder-image-upload-delete) [data-pafe-form-builder-image-upload-item]"),a="",n=t.find("[data-pafe-form-builder-image-upload-label]");0==i.length&&n.show(0),i.each(function(){a+=$(this).val()+","}),a=a.replace(/.$/,""),t.find("[data-pafe-form-builder-form-id]").attr("value",a)}),$('[data-pafe-form-builder-form-id][type="hidden"]').each(function(){$(this).closest(".elementor-widget-pafe-form-builder-field").addClass("elementor-widget-pafe-form-builder-field-hidden")})});