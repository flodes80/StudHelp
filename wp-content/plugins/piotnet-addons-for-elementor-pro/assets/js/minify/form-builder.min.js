function pafeAddressAutocompleteInitMap(){document.querySelectorAll("[data-pafe-form-builder-address-autocomplete]").forEach(function(e,t,i){var a=new google.maps.places.Autocomplete(e),r=e.closest(".elementor-element").querySelectorAll("[data-pafe-form-builder-address-autocomplete-map]");if(r.length>0){var o=new google.maps.Map(r[0],{center:{lat:-33.8688,lng:151.2195},zoom:13}),n=new google.maps.InfoWindow,s=e.closest(".elementor-element").querySelectorAll(".infowindow-content")[0];n.setContent(s);var l=new google.maps.Marker({map:o,anchorPoint:new google.maps.Point(0,-29)});a.addListener("place_changed",function(){n.close(),l.setVisible(!1);var e=a.getPlace();if(!e.geometry)return void window.alert("No details available for input: '"+e.name+"'");e.geometry.viewport?o.fitBounds(e.geometry.viewport):(o.setCenter(e.geometry.location),o.setZoom(17)),l.setPosition(e.geometry.location),l.setVisible(!0);var t="";e.address_components&&(t=[e.address_components[0]&&e.address_components[0].short_name||"",e.address_components[1]&&e.address_components[1].short_name||"",e.address_components[2]&&e.address_components[2].short_name||""].join(" ")),s.children["place-icon"].src=e.icon,s.children["place-name"].textContent=e.name,s.children["place-address"].textContent=t,n.open(o,l)})}})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}jQuery(document).ready(function(e){e(document).on("click","#pafe-form-builder-trigger-success-YOUR-FORM-ID",function(e){}),e(document).on("click","#pafe-form-builder-trigger-failed-YOUR-FORM-ID",function(e){})}),function(e,t){var i,a=e.jQuery||e.Cowboy||(e.Cowboy={});a.throttle=i=function(e,i,r,o){function n(){function a(){l=+new Date,r.apply(d,f)}function n(){s=t}var d=this,c=+new Date-l,f=arguments;o&&!s&&a(),s&&clearTimeout(s),o===t&&c>e?a():!0!==i&&(s=setTimeout(o?n:a,o===t?e-c:e))}var s,l=0;return"boolean"!=typeof i&&(o=r,r=i,i=t),a.guid&&(n.guid=r.guid=r.guid||a.guid++),n},a.debounce=function(e,a,r){return r===t?i(e,a,!1):i(e,r,!1!==a)}}(this),function(e){!jQuery&&"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,document,window,navigator)}):jQuery||"object"!=typeof exports?e(jQuery,document,window,navigator):e(require("jquery"),document,window,navigator)}(function(e,t,i,a,r){"use strict";var o,n,s=0,l=(o=a.userAgent,n=/msie\s\d+/i,0<o.search(n)&&n.exec(o).toString().split(" ")[1]<9&&(e("html").addClass("lt-ie9"),!0));Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,i=[].slice;if("function"!=typeof t)throw new TypeError;var a=i.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=t.prototype;var n=new o,s=t.apply(n,a.concat(i.call(arguments)));return Object(s)===s?s:n}return t.apply(e,a.concat(i.call(arguments)))};return r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i;if(null==this)throw new TypeError('"this" is null or not defined');var a=Object(this),r=a.length>>>0;if(0===r)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),r<=o)return-1;for(i=Math.max(0<=o?o:r-Math.abs(o),0);i<r;){if(i in a&&a[i]===e)return i;i++}return-1});var d=function(a,o,n){this.VERSION="2.3.0",this.input=a,this.plugin_count=n,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,o=o||{},this.$cache={win:e(i),body:e(t.body),input:e(a),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var s,l,d,c=this.$cache.input,f=c.prop("value");for(d in s={skin:"flat",type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" — ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null},"INPUT"!==c[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",c[0]),(l={skin:c.data("skin"),type:c.data("type"),min:c.data("min"),max:c.data("max"),from:c.data("from"),to:c.data("to"),step:c.data("step"),min_interval:c.data("minInterval"),max_interval:c.data("maxInterval"),drag_interval:c.data("dragInterval"),values:c.data("values"),from_fixed:c.data("fromFixed"),from_min:c.data("fromMin"),from_max:c.data("fromMax"),from_shadow:c.data("fromShadow"),to_fixed:c.data("toFixed"),to_min:c.data("toMin"),to_max:c.data("toMax"),to_shadow:c.data("toShadow"),prettify_enabled:c.data("prettifyEnabled"),prettify_separator:c.data("prettifySeparator"),force_edges:c.data("forceEdges"),keyboard:c.data("keyboard"),grid:c.data("grid"),grid_margin:c.data("gridMargin"),grid_num:c.data("gridNum"),grid_snap:c.data("gridSnap"),hide_min_max:c.data("hideMinMax"),hide_from_to:c.data("hideFromTo"),prefix:c.data("prefix"),postfix:c.data("postfix"),max_postfix:c.data("maxPostfix"),decorate_both:c.data("decorateBoth"),values_separator:c.data("valuesSeparator"),input_values_separator:c.data("inputValuesSeparator"),disable:c.data("disable"),block:c.data("block"),extra_classes:c.data("extraClasses")}).values=l.values&&l.values.split(","),l)l.hasOwnProperty(d)&&(l[d]!==r&&""!==l[d]||delete l[d]);f!==r&&""!==f&&((f=f.split(l.input_values_separator||o.input_values_separator||";"))[0]&&f[0]==+f[0]&&(f[0]=+f[0]),f[1]&&f[1]==+f[1]&&(f[1]=+f[1]),o&&o.values&&o.values.length?(s.from=f[0]&&o.values.indexOf(f[0]),s.to=f[1]&&o.values.indexOf(f[1])):(s.from=f[0]&&+f[0],s.to=f[1]&&+f[1])),e.extend(s,o),e.extend(s,l),this.options=s,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};d.prototype={init:function(e){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),e?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var e='<span class="irs irs--'+this.options.skin+" js-irs-"+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(e),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var e=this.options.min,t=this.options.max,i=this.options.from,a=this.options.to;e<i&&a===t?this.$cache.s_from.addClass("type_last"):a<t&&this.$cache.s_to.addClass("type_last")},changeLevel:function(e){switch(e){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),l&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),l&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(e){var t,i;this.target||(t=(i="single"===this.options.type?this.$cache.single:this.$cache.from).offset().left,t+=i.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:t}))},pointerMove:function(e){if(this.dragging){var t=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;this.coords.x_pointer=t-this.coords.x_gap,this.calc()}},pointerUp:function(t){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,l&&e("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(e.contains(this.$cache.cont[0],t.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(t,i){i.preventDefault();var a=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&("both"===t&&this.setTempMinInterval(),t||(t=this.target||"from"),this.current_plugin=this.plugin_count,this.target=t,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=a-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(t),l&&e("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(e,t){t.preventDefault();var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;2!==t.button&&(this.current_plugin=this.plugin_count,this.target=e,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(e,t){if(!(this.current_plugin!==this.plugin_count||t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)){switch(t.which){case 83:case 65:case 40:case 37:t.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:t.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(e){var t=this.coords.p_pointer,i=(this.options.max-this.options.min)/100;i=this.options.step/i,e?t+=i:t-=i,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*t),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");if(this.options.values.length)this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));else{var e=this._prettify(this.options.min),t=this._prettify(this.options.max);this.result.min_pretty=e,this.result.max_pretty=t,this.$cache.min.html(this.decorate(e,this.options.min)),this.$cache.max.html(this.decorate(t,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var e=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=e},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(e){if(this.options&&(this.calc_count++,(10===this.calc_count||e)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var t=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,t=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,t=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(t)),this.target){case"base":var i=(this.options.max-this.options.min)/100,a=(this.result.from-this.options.min)/i,r=(this.result.to-this.options.min)/i;this.coords.p_single_real=this.toFixed(a),this.coords.p_from_real=this.toFixed(a),this.coords.p_to_real=this.toFixed(r),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(t),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(t),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(t),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;t=this.toFixed(t+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(t)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(t)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var o=this.convertToRealPercent(t),n=this.result.from_percent,s=this.result.to_percent-n,l=s/2,d=o-l,c=o+l;d<0&&(c=(d=0)+s),100<c&&(d=(c=100)-s),this.coords.p_from_real=this.calcWithStep(d),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(c),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(e){return e/(100-this.coords.p_handle)*100},convertToFakePercent:function(e){return e/100*(100-this.coords.p_handle)},getHandleX:function(){var e=100-this.coords.p_handle,t=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return t<0?t=0:e<t&&(t=e),t},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(e){return"single"===this.options.type?"single":this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2<=e?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.bar[0].style.left=0,this.$cache.bar[0].style.width=this.coords.p_bar_w+this.coords.p_bar_x+"%",this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%")),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var e,t,i,a,r,o=this.options.values.length,n=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)e=o?this.decorate(n[this.result.from]):(a=this._prettify(this.result.from),this.decorate(a,this.result.from)),this.$cache.single.html(e),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible";else{i=o?(this.options.decorate_both?(e=this.decorate(n[this.result.from]),e+=this.options.values_separator,e+=this.decorate(n[this.result.to])):e=this.decorate(n[this.result.from]+this.options.values_separator+n[this.result.to]),t=this.decorate(n[this.result.from]),this.decorate(n[this.result.to])):(a=this._prettify(this.result.from),r=this._prettify(this.result.to),this.options.decorate_both?(e=this.decorate(a,this.result.from),e+=this.options.values_separator,e+=this.decorate(r,this.result.to)):e=this.decorate(a+this.options.values_separator+r,this.result.to),t=this.decorate(a,this.result.from),this.decorate(r,this.result.to)),this.$cache.single.html(e),this.$cache.from.html(t),this.$cache.to.html(i),this.calcLabels();var s=Math.min(this.labels.p_single_left,this.labels.p_from_left),l=this.labels.p_single_left+this.labels.p_single_fake,d=this.labels.p_to_left+this.labels.p_to_fake,c=Math.max(l,d);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",c=this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",d):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",Math.max(l,d))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),s<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",c>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var e,t,i,a,r=this.options,o=this.$cache,n="number"==typeof r.from_min&&!isNaN(r.from_min),s="number"==typeof r.from_max&&!isNaN(r.from_max),l="number"==typeof r.to_min&&!isNaN(r.to_min),d="number"==typeof r.to_max&&!isNaN(r.to_max);"single"===r.type?r.from_shadow&&(n||s)?(e=this.convertToPercent(n?r.from_min:r.min),t=this.convertToPercent(s?r.from_max:r.max)-e,e=this.toFixed(e-this.coords.p_handle/100*e),t=this.toFixed(t-this.coords.p_handle/100*t),e+=this.coords.p_handle/2,o.shad_single[0].style.display="block",o.shad_single[0].style.left=e+"%",o.shad_single[0].style.width=t+"%"):o.shad_single[0].style.display="none":(r.from_shadow&&(n||s)?(e=this.convertToPercent(n?r.from_min:r.min),t=this.convertToPercent(s?r.from_max:r.max)-e,e=this.toFixed(e-this.coords.p_handle/100*e),
t=this.toFixed(t-this.coords.p_handle/100*t),e+=this.coords.p_handle/2,o.shad_from[0].style.display="block",o.shad_from[0].style.left=e+"%",o.shad_from[0].style.width=t+"%"):o.shad_from[0].style.display="none",r.to_shadow&&(l||d)?(i=this.convertToPercent(l?r.to_min:r.min),a=this.convertToPercent(d?r.to_max:r.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),a=this.toFixed(a-this.coords.p_handle/100*a),i+=this.coords.p_handle/2,o.shad_to[0].style.display="block",o.shad_to[0].style.left=i+"%",o.shad_to[0].style.width=a+"%"):o.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(e,t){var i,a=this.options.max-this.options.min,r=a/100;return a?(i=(t?e:e-this.options.min)/r,this.toFixed(i)):(this.no_diapason=!0,0)},convertToValue:function(e){var t,i,a=this.options.min,r=this.options.max,o=a.toString().split(".")[1],n=r.toString().split(".")[1],s=0,l=0;if(0===e)return this.options.min;if(100===e)return this.options.max;o&&(s=t=o.length),n&&(s=i=n.length),t&&i&&(s=i<=t?t:i),a<0&&(a=+(a+(l=Math.abs(a))).toFixed(s),r=+(r+l).toFixed(s));var d,c=(r-a)/100*e+a,f=this.options.step.toString().split(".")[1];return c=f?+c.toFixed(f.length):(c/=this.options.step,+(c*=this.options.step).toFixed(0)),l&&(c-=l),(d=f?+c.toFixed(f.length):this.toFixed(c))<this.options.min?d=this.options.min:d>this.options.max&&(d=this.options.max),d},calcWithStep:function(e){var t=Math.round(e/this.coords.p_step)*this.coords.p_step;return 100<t&&(t=100),100===e&&(t=100),this.toFixed(t)},checkMinInterval:function(e,t,i){var a,r,o=this.options;return o.min_interval?(a=this.convertToValue(e),r=this.convertToValue(t),"from"===i?r-a<o.min_interval&&(a=r-o.min_interval):a-r<o.min_interval&&(a=r+o.min_interval),this.convertToPercent(a)):e},checkMaxInterval:function(e,t,i){var a,r,o=this.options;return o.max_interval?(a=this.convertToValue(e),r=this.convertToValue(t),"from"===i?r-a>o.max_interval&&(a=r-o.max_interval):a-r>o.max_interval&&(a=r+o.max_interval),this.convertToPercent(a)):e},checkDiapason:function(e,t,i){var a=this.convertToValue(e),r=this.options;return"number"!=typeof t&&(t=r.min),"number"!=typeof i&&(i=r.max),a<t&&(a=t),i<a&&(a=i),this.convertToPercent(a)},toFixed:function(e){return+(e=e.toFixed(20))},_prettify:function(e){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(e):this.prettify(e):e},prettify:function(e){return e.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(e,t){return this.options.force_edges&&(e<0?e=0:100-t<e&&(e=100-t)),this.toFixed(e)},validate:function(){var e,t,i=this.options,a=this.result,r=i.values,o=r.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),o)for(i.p_values=[],i.min=0,i.max=o-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,t=0;t<o;t++)e=+r[t],e=isNaN(e)?r[t]:(r[t]=e,this._prettify(e)),i.p_values.push(e);("number"!=typeof i.from||isNaN(i.from))&&(i.from=i.min),("number"!=typeof i.to||isNaN(i.to))&&(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max),i.to<i.min&&(i.to=i.min),i.to>i.max&&(i.to=i.max),this.update_check.from&&(this.update_check.from!==i.from&&i.from>i.to&&(i.from=i.to),this.update_check.to!==i.to&&i.to<i.from&&(i.to=i.from)),i.from>i.to&&(i.from=i.to),i.to<i.from&&(i.to=i.from)),("number"!=typeof i.step||isNaN(i.step)||!i.step||i.step<0)&&(i.step=1),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),a&&(a.min!==i.min&&(a.min=i.min),a.max!==i.max&&(a.max=i.max),(a.from<a.min||a.from>a.max)&&(a.from=i.from),(a.to<a.min||a.to>a.max)&&(a.to=i.to)),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||i.min_interval<0)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||i.max_interval<0)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(e,t){var i="",a=this.options;return a.prefix&&(i+=a.prefix),i+=e,a.max_postfix&&(a.values.length&&e===a.p_values[a.max]?(i+=a.max_postfix,a.postfix&&(i+=" ")):t===a.max&&(i+=a.max_postfix,a.postfix&&(i+=" "))),a.postfix&&(i+=a.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var e,t,i,a,r,o,n=this.options,s=n.max-n.min,l=n.grid_num,d=0,c=4,f="";for(this.calcGridMargin(),n.grid_snap&&(l=s/n.step),50<l&&(l=50),i=this.toFixed(100/l),4<l&&(c=3),7<l&&(c=2),14<l&&(c=1),28<l&&(c=0),e=0;e<l+1;e++){for(a=c,100<(d=this.toFixed(i*e))&&(d=100),r=((this.coords.big[e]=d)-i*(e-1))/(a+1),t=1;t<=a&&0!==d;t++)f+='<span class="irs-grid-pol small" style="left: '+this.toFixed(d-r*t)+'%"></span>';f+='<span class="irs-grid-pol" style="left: '+d+'%"></span>',o=this.convertToValue(d),f+='<span class="irs-grid-text js-grid-text-'+e+'" style="left: '+d+'%">'+(o=n.values.length?n.p_values[o]:this._prettify(o))+"</span>"}this.coords.big_num=Math.ceil(l+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(f),this.cacheGridLabels()}},cacheGridLabels:function(){var e,t,i=this.coords.big_num;for(t=0;t<i;t++)e=this.$cache.grid.find(".js-grid-text-"+t),this.$cache.grid_labels.push(e);this.calcGridLabels()},calcGridLabels:function(){var e,t,i=[],a=[],r=this.coords.big_num;for(e=0;e<r;e++)this.coords.big_w[e]=this.$cache.grid_labels[e].outerWidth(!1),this.coords.big_p[e]=this.toFixed(this.coords.big_w[e]/this.coords.w_rs*100),this.coords.big_x[e]=this.toFixed(this.coords.big_p[e]/2),i[e]=this.toFixed(this.coords.big[e]-this.coords.big_x[e]),a[e]=this.toFixed(i[e]+this.coords.big_p[e]);for(this.options.force_edges&&(i[0]<-this.coords.grid_gap&&(i[0]=-this.coords.grid_gap,a[0]=this.toFixed(i[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),a[r-1]>100+this.coords.grid_gap&&(a[r-1]=100+this.coords.grid_gap,i[r-1]=this.toFixed(a[r-1]-this.coords.big_p[r-1]),this.coords.big_x[r-1]=this.toFixed(this.coords.big_p[r-1]-this.coords.grid_gap))),this.calcGridCollision(2,i,a),this.calcGridCollision(4,i,a),e=0;e<r;e++)t=this.$cache.grid_labels[e][0],this.coords.big_x[e]!==Number.POSITIVE_INFINITY&&(t.style.marginLeft=-this.coords.big_x[e]+"%")},calcGridCollision:function(e,t,i){var a,r,o,n=this.coords.big_num;for(a=0;a<n&&!(n<=(r=a+e/2));a+=e)o=this.$cache.grid_labels[r][0],i[a]<=t[r]?o.style.visibility="visible":o.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(t){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=e.extend(this.options,t),this.validate(),this.updateResult(t),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),e.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},e.fn.ionRangeSlider=function(t){return this.each(function(){e.data(this,"ionRangeSlider")||e.data(this,"ionRangeSlider",new d(this,t,s++))})},function(){for(var e=0,t=["ms","moz","webkit","o"],a=0;a<t.length&&!i.requestAnimationFrame;++a)i.requestAnimationFrame=i[t[a]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[t[a]+"CancelAnimationFrame"]||i[t[a]+"CancelRequestAnimationFrame"];i.requestAnimationFrame||(i.requestAnimationFrame=function(t,a){var r=(new Date).getTime(),o=Math.max(0,16-(r-e)),n=i.setTimeout(function(){t(r+o)},o);return e=r+o,n}),i.cancelAnimationFrame||(i.cancelAnimationFrame=function(e){clearTimeout(e)})}()});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();(function(){var e,t,i,a,r=[].indexOf;jQuery.fn.extend({imagepicker:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.each(function(){var i;if((i=jQuery(this)).data("picker")&&i.data("picker").destroy(),i.data("picker",new e(this,a(t))),null!=t.initialized)return t.initialized.call(i.data("picker"))})}}),a=function(e){var t;return t={hide_select:!0,show_label:!1,initialized:void 0,changed:void 0,clicked:void 0,selected:void 0,limit:void 0,limit_reached:void 0,font_awesome:!1},jQuery.extend(t,e)},i=function(e,t){var i,a,r,o;if(!e||!t||e.length!==t.length)return!1;for(e=e.slice(0),t=t.slice(0),e.sort(),t.sort(),i=a=0,r=e.length;a<r;i=++a)if(o=e[i],t[i]!==o)return!1;return!0},e=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.sync_picker_with_select=this.sync_picker_with_select.bind(this),this.opts=i,this.select=jQuery(t),this.multiple="multiple"===this.select.attr("multiple"),null!=this.select.data("limit")&&(this.opts.limit=parseInt(this.select.data("limit"))),this.build_and_append_picker()}return _createClass(e,[{key:"destroy",value:function(){var e,t,i;for(e=0,t=(i=this.picker_options).length;e<t;e++)i[e].destroy();return this.picker.remove(),this.select.off("change",this.sync_picker_with_select),this.select.removeData("picker"),this.select.show()}},{key:"build_and_append_picker",value:function(){return this.opts.hide_select&&this.select.hide(),this.select.on("change",this.sync_picker_with_select),null!=this.picker&&this.picker.remove(),this.create_picker(),this.select.after(this.picker),this.sync_picker_with_select()}},{key:"sync_picker_with_select",value:function(){var e,t,i,a,r;for(r=[],e=0,t=(a=this.picker_options).length;e<t;e++)(i=a[e]).is_selected()?r.push(i.mark_as_selected()):r.push(i.unmark_as_selected());return r}},{key:"create_picker",value:function(){return this.picker=jQuery("<ul class='thumbnails image_picker_selector'></ul>"),this.picker_options=[],this.recursively_parse_option_groups(this.select,this.picker),this.picker}},{key:"recursively_parse_option_groups",value:function(e,i){var a,r,o,n,s,l,d,c,f,h;for(r=0,n=(c=e.children("optgroup")).length;r<n;r++)d=c[r],d=jQuery(d),(a=jQuery("<ul></ul>")).append(jQuery("<li class='group_title'>"+d.attr("label")+"</li>")),i.append(jQuery("<li class='group'>").append(a)),this.recursively_parse_option_groups(d,a);for(f=function(){var i,a,r,o;for(o=[],i=0,a=(r=e.children("option")).length;i<a;i++)l=r[i],o.push(new t(l,this,this.opts));return o}.call(this),h=[],o=0,s=f.length;o<s;o++)l=f[o],this.picker_options.push(l),l.has_image()&&h.push(i.append(l.node));return h}},{key:"has_implicit_blanks",value:function(){var e;return function(){var t,i,a,r;for(r=[],t=0,i=(a=this.picker_options).length;t<i;t++)(e=a[t]).is_blank()&&!e.has_image()&&r.push(e);return r}.call(this).length>0}},{key:"selected_values",value:function(){return this.multiple?this.select.val()||[]:[this.select.val()]}},{key:"toggle",value:function(e,t){var a,o,n;if(o=this.selected_values(),n=e.value().toString(),this.multiple?r.call(this.selected_values(),n)>=0?((a=this.selected_values()).splice(jQuery.inArray(n,o),1),this.select.val([]),this.select.val(a)):null!=this.opts.limit&&this.selected_values().length>=this.opts.limit?null!=this.opts.limit_reached&&this.opts.limit_reached.call(this.select):this.select.val(this.selected_values().concat(n)):this.has_implicit_blanks()&&e.is_selected()?this.select.val(""):this.select.val(n),!i(o,this.selected_values())&&(this.select.change(),null!=this.opts.changed))return this.opts.changed.call(this.select,o,this.selected_values(),t)}}]),e}(),t=function(){function e(t,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.clicked=this.clicked.bind(this),this.picker=i,this.opts=a,this.option=jQuery(t),this.create_node()}return _createClass(e,[{key:"destroy",value:function(){return this.node.find(".thumbnail").off("click",this.clicked)}},{key:"has_image",value:function(){return null!=this.option.data("img-src")}},{key:"is_blank",value:function(){return!(null!=this.value()&&""!==this.value())}},{key:"is_selected",value:function(){var e;return e=this.picker.select.val(),this.picker.multiple?jQuery.inArray(this.value(),e)>=0:this.value()===e}},{key:"mark_as_selected",value:function(){return this.node.find(".thumbnail").addClass("selected")}},{key:"unmark_as_selected",value:function(){return this.node.find(".thumbnail").removeClass("selected")}},{key:"value",value:function(){return this.option.val()}},{key:"label",value:function(){return this.option.data("img-label")?this.option.data("img-label"):this.option.text()}},{key:"clicked",value:function(e){if(this.picker.toggle(this,e),null!=this.opts.clicked&&this.opts.clicked.call(this.picker.select,this,e),null!=this.opts.selected&&this.is_selected())return this.opts.selected.call(this.picker.select,this,e)}},{key:"create_node",value:function(){var e,t,i,a;return this.node=jQuery("<li/>"),this.option.data("font_awesome")?(e=jQuery("<i>")).attr("class","fa-fw "+this.option.data("img-src")):(e=jQuery("<img class='image_picker_image'/>")).attr("src",this.option.data("img-src")),a=jQuery("<div class='thumbnail'>"),(i=this.option.data("img-class"))&&(this.node.addClass(i),e.addClass(i),a.addClass(i)),(t=this.option.data("img-alt"))&&e.attr("alt",t),a.on("click",this.clicked),a.append(e),this.opts.show_label&&a.append(jQuery("<p/>").html(this.label())),this.node.append(a),this.node}}]),e}()}).call(void 0),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=e.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.submitButton=t.currentTarget,e(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function a(){var a,r;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(a=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),!(i.settings.submitHandler&&!i.settings.debug)||(r=i.settings.submitHandler.call(i,i.currentForm,t),a&&a.remove(),void 0!==r&&r)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,a()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):a():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i,a;return e(this[0]).is("form")?t=this.validate().form():(a=[],t=!0,i=e(this[0].form).validate(),this.each(function(){(t=i.element(this)&&t)||(a=a.concat(i.errorList))}),i.errorList=a),t},rules:function(t,i){var a,r,o,n,s,l,d=this[0],c=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=d&&(!d.form&&c&&(d.form=this.closest("form")[0],d.name=this.attr("name")),null!=d.form)){if(t)switch(a=e.data(d.form,"validator").settings,r=a.rules,o=e.validator.staticRules(d),t){case"add":e.extend(o,e.validator.normalizeRule(i)),delete o.messages,r[d.name]=o,i.messages&&(a.messages[d.name]=e.extend(a.messages[d.name],i.messages));break;case"remove":return i?(l={},e.each(i.split(/\s/),function(e,t){l[t]=o[t],delete o[t]}),l):(delete r[d.name],o)}return n=e.validator.normalizeRules(e.extend({},e.validator.classRules(d),e.validator.attributeRules(d),e.validator.dataRules(d),e.validator.staticRules(d)),d),n.required&&(s=n.required,delete n.required,n=e.extend({required:s},n)),n.remote&&(s=n.remote,delete n.remote,n=e.extend(n,{remote:s})),n}}}),e.extend(e.expr.pseudos||e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var i=e(t).val();return null!==i&&!!e.trim(""+i)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:void 0===i?t:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,i){var a=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(t)||-1!==e.inArray(i.keyCode,a)||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,a){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(a):e(t).addClass(i).removeClass(a)},unhighlight:function(t,i,a){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(a):e(t).removeClass(i).addClass(a)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var i=void 0!==e(this).attr("contenteditable")&&"false"!==e(this).attr("contenteditable");if(!this.form&&i&&(this.form=e(this).closest("form")[0],this.name=e(this).attr("name")),a===this.form){var r=e.data(this.form,"validator"),o="on"+t.type.replace(/^validate/,""),n=r.settings;n[o]&&!e(this).is(n.ignore)&&n[o].call(r,this,t)}}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,a=this.currentForm,r=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){r[i]=t})}),i=this.settings.rules,e.each(i,function(t,a){i[t]=e.validator.normalizeRule(a)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var i,a,r=this.clean(t),o=this.validationTargetFor(r),n=this,s=!0;return void 0===o?delete this.invalid[r.name]:(this.prepareElement(o),this.currentElements=e(o),a=this.groups[o.name],a&&e.each(this.groups,function(e,t){t===a&&e!==o.name&&(r=n.validationTargetFor(n.clean(n.findByName(e))))&&r.name in n.invalid&&(n.currentElements.push(r),s=n.check(r)&&s)}),i=!1!==this.check(o),s=s&&i,this.invalid[o.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!i)),s},showErrors:function(t){if(t){var i=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var a=this.name||e(this).attr("name"),r=void 0!==e(this).attr("contenteditable")&&"false"!==e(this).attr("contenteditable");return!a&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),r&&(this.form=e(this).closest("form")[0],this.name=a),!(this.form!==t.currentForm||a in i||!t.objectLength(e(this).rules())||(i[a]=!0,0))})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i,a,r=e(t),o=t.type,n=void 0!==r.attr("contenteditable")&&"false"!==r.attr("contenteditable");return"radio"===o||"checkbox"===o?this.findByName(t.name).filter(":checked").val():"number"===o&&void 0!==t.validity?t.validity.badInput?"NaN":r.val():(i=n?r.text():r.val(),"file"===o?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(a=i.lastIndexOf("/"),a>=0?i.substr(a+1):(a=i.lastIndexOf("\\"),a>=0?i.substr(a+1):i)):"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var i,a,r,o,n=e(t).rules(),s=e.map(n,function(e,t){return t}).length,l=!1,d=this.elementValue(t);"function"==typeof n.normalizer?o=n.normalizer:"function"==typeof this.settings.normalizer&&(o=this.settings.normalizer),o&&(d=o.call(t,d),delete n.normalizer);for(a in n){r={method:a,parameters:n[a]};try{if("dependency-mismatch"===(i=e.validator.methods[a].call(this,d,t,r.parameters))&&1===s){l=!0;continue}if(l=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,r),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+r.method+"' method."),e}}if(!l)return this.objectLength(n)&&this.successList.push(t),!0},customDataMessage:function(t,i){return e(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){"string"==typeof i&&(i={method:i});var a=this.findDefined(this.customMessage(t.name,i.method),this.customDataMessage(t,i.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),r=/\$?\{(\d+)\}/g;return"function"==typeof a?a=a.call(this,i.parameters,t):r.test(a)&&(a=e.validator.format(a.replace(r,"{$1}"),i.parameters)),a},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var a,r,o,n,s=this.errorsFor(t),l=this.idOrName(t),d=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),a=s,this.settings.wrapper&&(a=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(a):this.settings.errorPlacement?this.settings.errorPlacement.call(this,a,e(t)):a.insertAfter(t),s.is("label")?s.attr("for",l):0===s.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(o=s.attr("id"),d?d.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(d+=" "+o):d=o,e(t).attr("aria-describedby",d),(r=this.groups[t.name])&&(n=this,e.each(n.groups,function(t,i){i===r&&e("[name='"+n.escapeCssMeta(t)+"']",n.currentForm).attr("aria-describedby",s.attr("id"))})))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var i=this.escapeCssMeta(this.idOrName(t)),a=e(t).attr("aria-describedby"),r="label[for='"+i+"'], label[for='"+i+"'] *";return a&&(r=r+", #"+this.escapeCssMeta(a).replace(/\s+/g,", #")),this.errors().filter(r)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){
return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,i){return!!e(t,i.form).length},function:function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.submitButton&&e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,i){return i="string"==typeof i&&i||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:i})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},a=e(t).attr("class");return a&&e.each(a.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(e,t,i,a){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(a=Number(a),isNaN(a)&&(a=void 0)),a||0===a?e[i]=a:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(t){var i,a,r={},o=e(t),n=t.getAttribute("type");for(i in e.validator.methods)"required"===i?(a=t.getAttribute(i),""===a&&(a=!0),a=!!a):a=o.attr(i),this.normalizeAttributeRule(r,n,i,a);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(t){var i,a,r={},o=e(t),n=t.getAttribute("type");for(i in e.validator.methods)a=o.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),""===a&&(a=!0),this.normalizeAttributeRule(r,n,i,a);return r},staticRules:function(t){var i={},a=e.data(t.form,"validator");return a.settings.rules&&(i=e.validator.normalizeRule(a.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(a,r){if(!1===r)return void delete t[a];if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!e(r.depends,i.form).length;break;case"function":o=r.depends.call(i,i)}o?t[a]=void 0===r.param||r.param:(e.data(i.form,"validator").resetElements(e(i)),delete t[a])}}),e.each(t,function(a,r){t[a]=e.isFunction(r)&&"normalizer"!==a?r(i):r}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,a){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==a?a:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,a){if(!this.depend(a,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=e(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(t,i)>0:void 0!==t&&null!==t&&t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(){var e=!1;return function(t,i){return e||(e=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(i)||!/Invalid|NaN/.test(new Date(t).toString())}}(),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,i,a){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=a},maxlength:function(t,i,a){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r<=a},rangelength:function(t,i,a){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=a[0]&&r<=a[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(t,i,a){var r,o=e(i).attr("type"),n="Step attribute on input type "+o+" is not supported.",s=["text","number","range"],l=new RegExp("\\b"+o+"\\b"),d=o&&!l.test(s.join()),c=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},f=function(e){return Math.round(e*Math.pow(10,r))},h=!0;if(d)throw new Error(n);return r=c(a),(c(t)>r||f(t)%f(a)!=0)&&(h=!1),this.optional(i)||h},equalTo:function(t,i,a){var r=e(a);return this.settings.onfocusout&&r.not(".validate-equalTo-blur").length&&r.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(i).valid()}),t===r.val()},remote:function(t,i,a,r){if(this.optional(i))return"dependency-mismatch";r="string"==typeof r&&r||"remote";var o,n,s,l=this.previousValue(i,r);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][r],this.settings.messages[i.name][r]=l.message,a="string"==typeof a&&{url:a}||a,s=e.param(e.extend({data:t},a.data)),l.old===s?l.valid:(l.old=s,o=this,this.startRequest(i),n={},n[i.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:n,context:o.currentForm,success:function(e){var a,n,s,d=!0===e||"true"===e;o.settings.messages[i.name][r]=l.originalMessage,d?(s=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(i),o.formSubmitted=s,o.successList.push(i),o.invalid[i.name]=!1,o.showErrors()):(a={},n=e||o.defaultMessage(i,{method:r,parameters:t}),a[i.name]=l.message=n,o.invalid[i.name]=!0,o.showErrors(a)),l.valid=d,o.stopRequest(i,d)}},a)),"pending")}}});var t,i={};return e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,a){var r=e.port;"abort"===e.mode&&(i[r]&&i[r].abort(),i[r]=a)}):(t=e.ajax,e.ajax=function(a){var r=("mode"in a?a:e.ajaxSettings).mode,o=("port"in a?a:e.ajaxSettings).port;return"abort"===r?(i[o]&&i[o].abort(),i[o]=t.apply(this,arguments),i[o]):t.apply(this,arguments)}),e}),function(e){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate.min"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){return function(){function t(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g,"")}e.validator.addMethod("maxWords",function(e,i,a){return this.optional(i)||t(e).match(/\b\w+\b/g).length<=a},e.validator.format("Please enter {0} words or less.")),e.validator.addMethod("minWords",function(e,i,a){return this.optional(i)||t(e).match(/\b\w+\b/g).length>=a},e.validator.format("Please enter at least {0} words.")),e.validator.addMethod("rangeWords",function(e,i,a){var r=t(e),o=/\b\w+\b/g;return this.optional(i)||r.match(o).length>=a[0]&&r.match(o).length<=a[1]},e.validator.format("Please enter between {0} and {1} words."))}(),e.validator.addMethod("abaRoutingNumber",function(e){var t=0,i=e.split(""),a=i.length;if(9!==a)return!1;for(var r=0;r<a;r+=3)t+=3*parseInt(i[r],10)+7*parseInt(i[r+1],10)+parseInt(i[r+2],10);return 0!==t&&t%10==0},"Please enter a valid routing number."),e.validator.addMethod("accept",function(t,i,a){var r,o,n,s="string"==typeof a?a.replace(/\s/g,""):"image/*",l=this.optional(i);if(l)return l;if("file"===e(i).attr("type")&&(s=s.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),i.files&&i.files.length))for(n=new RegExp(".?("+s+")$","i"),r=0;r<i.files.length;r++)if(o=i.files[r],!o.type.match(n))return!1;return!0},e.validator.format("Please enter a value with a valid mimetype.")),e.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),e.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))return!1;var i,a,r,o=e.replace(/ /g,""),n=0,s=o.length;for(i=0;i<s;i++)a=s-i,r=o.substring(i,i+1),n+=a*r;return n%11==0},"Please specify a valid bank account number"),e.validator.addMethod("bankorgiroaccountNL",function(t,i){return this.optional(i)||e.validator.methods.bankaccountNL.call(this,t,i)||e.validator.methods.giroaccountNL.call(this,t,i)},"Please specify a valid bank or giro account number"),e.validator.addMethod("bic",function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e.toUpperCase())},"Please specify a valid BIC code"),e.validator.addMethod("cifES",function(e,t){"use strict";if(this.optional(t))return!0;var i,a,r,o,n=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),s=e.substring(0,1),l=e.substring(1,8),d=e.substring(8,9),c=0,f=0,h=0;if(9!==e.length||!n.test(e))return!1;for(i=0;i<l.length;i++)a=parseInt(l[i],10),function(e){return e%2==0}(i)?(a*=2,h+=a<10?a:a-9):f+=a;return c=f+h,r=(10-c.toString().substr(-1)).toString(),r=parseInt(r,10)>9?"0":r,o="JABCDEFGHI".substr(r,1).toString(),s.match(/[ABEH]/)?d===r:s.match(/[KPQS]/)?d===o:d===r||d===o},"Please specify a valid CIF number."),e.validator.addMethod("cnhBR",function(e){if(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==e.length)return!1;var t,i,a,r,o,n=0,s=0;if(t=e.charAt(0),new Array(12).join(t)===e)return!1;for(r=0,o=9,0;r<9;++r,--o)n+=+e.charAt(r)*o;for(i=n%11,i>=10&&(i=0,s=2),n=0,r=0,o=1,0;r<9;++r,++o)n+=+e.charAt(r)*o;return a=n%11,a>=10?a=0:a-=s,String(i).concat(a)===e.substr(-2)},"Please specify a valid CNH number"),e.validator.addMethod("cnpjBR",function(e,t){"use strict";if(this.optional(t))return!0;if(e=e.replace(/[^\d]+/g,""),14!==e.length)return!1;if("00000000000000"===e||"11111111111111"===e||"22222222222222"===e||"33333333333333"===e||"44444444444444"===e||"55555555555555"===e||"66666666666666"===e||"77777777777777"===e||"88888888888888"===e||"99999999999999"===e)return!1;for(var i=e.length-2,a=e.substring(0,i),r=e.substring(i),o=0,n=i-7,s=i;s>=1;s--)o+=a.charAt(i-s)*n--,n<2&&(n=9);var l=o%11<2?0:11-o%11;if(l!==parseInt(r.charAt(0),10))return!1;i+=1,a=e.substring(0,i),o=0,n=i-7;for(var d=i;d>=1;d--)o+=a.charAt(i-d)*n--,n<2&&(n=9);return(l=o%11<2?0:11-o%11)===parseInt(r.charAt(1),10)},"Please specify a CNPJ value number"),e.validator.addMethod("cpfBR",function(e,t){"use strict";if(this.optional(t))return!0;if(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==e.length)return!1;var i,a,r,o,n=0;if(i=parseInt(e.substring(9,10),10),a=parseInt(e.substring(10,11),10),r=function(e,t){var i=10*e%11;return 10!==i&&11!==i||(i=0),i===t},""===e||"00000000000"===e||"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e)return!1;for(o=1;o<=9;o++)n+=parseInt(e.substring(o-1,o),10)*(11-o);if(r(n,i)){for(n=0,o=1;o<=10;o++)n+=parseInt(e.substring(o-1,o),10)*(12-o);return r(n,a)}return!1},"Please specify a valid CPF number"),e.validator.addMethod("creditcard",function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,a,r=0,o=0,n=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(i=e.length-1;i>=0;i--)a=e.charAt(i),o=parseInt(a,10),n&&(o*=2)>9&&(o-=9),r+=o,n=!n;return r%10==0},"Please enter a valid credit card number."),e.validator.addMethod("creditcardtypes",function(e,t,i){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var a=0;return i.mastercard&&(a|=1),i.visa&&(a|=2),i.amex&&(a|=4),i.dinersclub&&(a|=8),i.enroute&&(a|=16),i.discover&&(a|=32),i.jcb&&(a|=64),i.unknown&&(a|=128),i.all&&(a=255),1&a&&(/^(5[12345])/.test(e)||/^(2[234567])/.test(e))?16===e.length:2&a&&/^(4)/.test(e)?16===e.length:4&a&&/^(3[47])/.test(e)?15===e.length:8&a&&/^(3(0[012345]|[68]))/.test(e)?14===e.length:16&a&&/^(2(014|149))/.test(e)?15===e.length:32&a&&/^(6011)/.test(e)?16===e.length:64&a&&/^(3)/.test(e)?16===e.length:64&a&&/^(2131|1800)/.test(e)?15===e.length:!!(128&a)},"Please enter a valid credit card number."),e.validator.addMethod("currency",function(e,t,i){var a,r="string"==typeof i,o=r?i:i[0],n=!!r||i[1];return o=o.replace(/,/g,""),o=n?o+"]":o+"]?",a="^["+o+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",a=new RegExp(a),this.optional(t)||a.test(e)},"Please specify a valid currency"),e.validator.addMethod("dateFA",function(e,t){return this.optional(t)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(e)},e.validator.messages.date),e.validator.addMethod("dateITA",function(e,t){var i,a,r,o,n,s=!1;return/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)?(i=e.split("/"),a=parseInt(i[0],10),r=parseInt(i[1],10),o=parseInt(i[2],10),n=new Date(Date.UTC(o,r-1,a,12,0,0,0)),s=n.getUTCFullYear()===o&&n.getUTCMonth()===r-1&&n.getUTCDate()===a):s=!1,this.optional(t)||s},e.validator.messages.date),e.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},e.validator.messages.date),e.validator.addMethod("extension",function(e,t,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp("\\.("+i+")$","i"))},e.validator.format("Please enter a value with a valid extension.")),e.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number"),e.validator.addMethod("greaterThan",function(t,i,a){var r=e(a);return this.settings.onfocusout&&r.not(".validate-greaterThan-blur").length&&r.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan",function(){e(i).valid()}),t>r.val()},"Please enter a greater value."),e.validator.addMethod("greaterThanEqual",function(t,i,a){var r=e(a);return this.settings.onfocusout&&r.not(".validate-greaterThanEqual-blur").length&&r.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual",function(){e(i).valid()}),t>=r.val()},"Please enter a greater value."),e.validator.addMethod("iban",function(e,t){if(this.optional(t))return!0;var i,a,r,o,n,s,l,d,c,f=e.replace(/ /g,"").toUpperCase(),h="",p=!0,u="",m="";if(f.length<5)return!1;if(i=f.substring(0,2),s={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},void 0!==(n=s[i])&&(l=new RegExp("^[A-Z]{2}\\d{2}"+n+"$",""),!l.test(f)))return!1;for(a=f.substring(4,f.length)+f.substring(0,4),d=0;d<a.length;d++)r=a.charAt(d),"0"!==r&&(p=!1),p||(h+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(r));for(c=0;c<h.length;c++)o=h.charAt(c),m=""+u+o,u=m%97;return 1===u},"Please specify a valid IBAN"),e.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),e.validator.addMethod("ipv4",function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),e.validator.addMethod("ipv6",function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),e.validator.addMethod("lessThan",function(t,i,a){var r=e(a);return this.settings.onfocusout&&r.not(".validate-lessThan-blur").length&&r.addClass("validate-lessThan-blur").on("blur.validate-lessThan",function(){e(i).valid()}),t<r.val()},"Please enter a lesser value."),e.validator.addMethod("lessThanEqual",function(t,i,a){var r=e(a);return this.settings.onfocusout&&r.not(".validate-lessThanEqual-blur").length&&r.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual",function(){e(i).valid()}),t<=r.val()},"Please enter a lesser value."),e.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),e.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),e.validator.addMethod("maxfiles",function(t,i,a){return!!this.optional(i)||!("file"===e(i).attr("type")&&i.files&&i.files.length>a)},e.validator.format("Please select no more than {0} files.")),e.validator.addMethod("maxsize",function(t,i,a){if(this.optional(i))return!0;if("file"===e(i).attr("type")&&i.files&&i.files.length)for(var r=0;r<i.files.length;r++)if(i.files[r].size>a)return!1;return!0},e.validator.format("File size must not exceed {0} bytes each.")),e.validator.addMethod("maxsizetotal",function(t,i,a){if(this.optional(i))return!0;if("file"===e(i).attr("type")&&i.files&&i.files.length)for(var r=0,o=0;o<i.files.length;o++)if((r+=i.files[o].size)>a)return!1;return!0},e.validator.format("Total size of all files must not exceed {0} bytes.")),e.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number"),e.validator.addMethod("mobileRU",function(e,t){var i=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||i.length>9&&/^((\+7|7|8)+([0-9]){10})$/.test(i)},"Please specify a valid mobile number"),e.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),e.validator.addMethod("netmask",function(e,t){return this.optional(t)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(e)},"Please enter a valid netmask."),e.validator.addMethod("nieES",function(e,t){"use strict";if(this.optional(t))return!0;var i,a=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),r=e.substr(e.length-1).toUpperCase();return e=e.toString().toUpperCase(),!(e.length>10||e.length<9||!a.test(e))&&(e=e.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2"),i=9===e.length?e.substr(0,8):e.substr(0,9),"TRWAGMYFPDXBNJZSQVHLCKET".charAt(parseInt(i,10)%23)===r)},"Please specify a valid NIE number."),e.validator.addMethod("nifES",function(e,t){"use strict";return!!this.optional(t)||(e=e.toUpperCase(),!!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(e)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8):!!/^[KLM]{1}/.test(e)&&e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,1)%23)))},"Please specify a valid NIF number."),e.validator.addMethod("nipPL",function(e){"use strict";if(e=e.replace(/[^0-9]/g,""),10!==e.length)return!1;for(var t=[6,5,7,2,3,4,5,6,7],i=0,a=0;a<9;a++)i+=t[a]*e[a];var r=i%11;return(10===r?0:r)===parseInt(e[9],10)},"Please specify a valid NIP number."),e.validator.addMethod("nisBR",function(e){var t,i,a,r,o,n=0;if(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==e.length)return!1;for(i=parseInt(e.substring(10,11),10),t=parseInt(e.substring(0,10),10),r=2;r<12;r++)o=r,10===r&&(o=2),11===r&&(o=3),n+=t%10*o,t=parseInt(t/10,10);return a=n%11,a=a>1?11-a:0,i===a},"Please specify a valid NIS/PIS number"),e.validator.addMethod("notEqualTo",function(t,i,a){return this.optional(i)||!e.validator.methods.equalTo.call(this,t,i,a)},"Please enter a different value, values must not be the same."),e.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),e.validator.addMethod("pattern",function(e,t,i){return!!this.optional(t)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(e))},"Invalid format."),e.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid phone number."),e.validator.addMethod("phonePL",function(e,t){e=e.replace(/\s+/g,"");var i=/^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/;return this.optional(t)||i.test(e)},"Please specify a valid phone number"),e.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),e.validator.addMethod("phoneUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),e.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),e.validator.addMethod("postalcodeBR",function(e,t){return this.optional(t)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(e)},"Informe um CEP válido."),e.validator.addMethod("postalCodeCA",function(e,t){return this.optional(t)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postalcodeIT",function(e,t){return this.optional(t)||/^\d{5}$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},"Please specify a valid UK postcode"),e.validator.addMethod("require_from_group",function(t,i,a){var r=e(a[1],i.form),o=r.eq(0),n=o.data("valid_req_grp")?o.data("valid_req_grp"):e.extend({},this),s=r.filter(function(){return n.elementValue(this)}).length>=a[0];return o.data("valid_req_grp",n),e(i).data("being_validated")||(r.data("being_validated",!0),r.each(function(){n.element(this)}),r.data("being_validated",!1)),s},e.validator.format("Please fill at least {0} of these fields.")),e.validator.addMethod("skip_or_fill_minimum",function(t,i,a){var r=e(a[1],i.form),o=r.eq(0),n=o.data("valid_skip")?o.data("valid_skip"):e.extend({},this),s=r.filter(function(){return n.elementValue(this)}).length,l=0===s||s>=a[0];return o.data("valid_skip",n),e(i).data("being_validated")||(r.data("being_validated",!0),r.each(function(){n.element(this)}),r.data("being_validated",!1)),l},e.validator.format("Please either skip these fields or fill at least {0} of them.")),e.validator.addMethod("stateUS",function(e,t,i){var a,r=void 0===i,o=!r&&void 0!==i.caseSensitive&&i.caseSensitive,n=!r&&void 0!==i.includeTerritories&&i.includeTerritories,s=!r&&void 0!==i.includeMilitary&&i.includeMilitary;return a=n||s?n&&s?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":n?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",a=o?new RegExp(a):new RegExp(a,"i"),this.optional(t)||a.test(e)},"Please specify a valid state"),e.validator.addMethod("strippedminlength",function(t,i,a){return e(t).text().length>=a},e.validator.format("Please enter at least {0} characters")),e.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),e.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format"),e.validator.addMethod("url2",function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},e.validator.messages.url),e.validator.addMethod("vinUS",function(e){if(17!==e.length)return!1;var t,i,a,r,o,n,s=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],l=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],d=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],c=0;for(t=0;t<17;t++){if(r=d[t],a=e.slice(t,t+1),8===t&&(n=a),isNaN(a)){for(i=0;i<s.length;i++)if(a.toUpperCase()===s[i]){a=l[i],a*=r,isNaN(n)&&8===i&&(n=s[i]);break}}else a*=r;c+=a}return o=c%11,10===o&&(o="X"),o===n},"The specified vehicle identification number (VIN) is invalid."),e.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(e)},"The specified US ZIP Code is invalid"),e.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),e}),function(){var e={},t=function(t){for(var i=e[t],r=i.deps,o=i.defn,n=r.length,s=new Array(n),l=0;l<n;++l)s[l]=a(r[l]);var d=o.apply(null,s);if(void 0===d)throw"module ["+t+"] returned undefined";i.instance=d},i=function(t,i,a){if("string"!=typeof t)throw"module id must be a string";if(void 0===i)throw"no dependencies for "+t;if(void 0===a)throw"no definition function for "+t;e[t]={deps:i,defn:a,instance:void 0}},a=function(i){var a=e[i]
;if(void 0===a)throw"module ["+i+"] was undefined";return void 0===a.instance&&t(i),a.instance};({}).bolt={module:{api:{define:i,require:function(e,t){for(var i=e.length,r=new Array(i),o=0;o<i;++o)r[o]=a(e[o]);t.apply(null,r)},demand:a}}};var r=i,o=function(e,t){r(e,[],function(){return t})};o("1",document),o("2",window),r("0",["1","2"],function(e,t){return function(i){var a,r,o,n,s,l=[];s=i||t,n=s.jQuery;var d=function(){return s.tinymce};n.fn.tinymce=function(i){var a,f,h,p=this,u="";if(!p.length)return p;if(!i)return d()?d().get(p[0].id):null;p.css("visibility","hidden");var m=function(){var e=[],t=0;o||(c(),o=!0),p.each(function(a,r){var o,n=r.id,s=i.oninit;n||(r.id=n=d().DOM.uniqueId()),d().get(n)||(o=d().createEditor(n,i),e.push(o),o.on("init",function(){var i,a=s;p.css("visibility",""),s&&++t==e.length&&("string"==typeof a&&(i=-1===a.indexOf(".")?null:d().resolve(a.replace(/\.\w+$/,"")),a=d().resolve(a)),a.apply(i||d(),e))}))}),n.each(e,function(e,t){t.render()})};if(s.tinymce||r||!(a=i.script_url))1===r?l.push(m):m();else{r=1,f=a.substring(0,a.lastIndexOf("/")),-1!=a.indexOf(".min")&&(u=".min"),s.tinymce=s.tinyMCEPreInit||{base:f,suffix:u},-1!=a.indexOf("gzip")&&(h=i.language||"en",a=a+(/\?/.test(a)?"&":"?")+"js=true&core=true&suffix="+escape(u)+"&themes="+escape(i.theme||"modern")+"&plugins="+escape(i.plugins||"")+"&languages="+(h||""),s.tinyMCE_GZ||(s.tinyMCE_GZ={start:function(){var e=function(e){d().ScriptLoader.markDone(d().baseURI.toAbsolute(e))};e("langs/"+h+".js"),e("themes/"+i.theme+"/theme"+u+".js"),e("themes/"+i.theme+"/langs/"+h+".js"),n.each(i.plugins.split(","),function(t,i){i&&(e("plugins/"+i+"/plugin"+u+".js"),e("plugins/"+i+"/langs/"+h+".js"))})},end:function(){}}));var g=e.createElement("script");g.type="text/javascript",g.onload=g.onreadystatechange=function(e){e=e||t.event,2===r||"load"!=e.type&&!/complete|loaded/.test(g.readyState)||(d().dom.Event.domLoaded=1,r=2,i.script_loaded&&i.script_loaded(),m(),n.each(l,function(e,t){t()}))},g.src=a,e.body.appendChild(g)}return p},n.extend(n.expr[":"],{tinymce:function(e){var t;return!!(e.id&&"tinymce"in s&&(t=d().get(e.id))&&t.editorManager===d())}});var c=function(){var e=function(e){"remove"===e&&this.each(function(e,t){var a=i(t);a&&a.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(e,t){var i=d().get(t.id.replace(/_parent$/,""));i&&i.remove()})},t=function(t){var i,a=this;if(null!=t)e.call(a),a.each(function(e,i){var a;(a=d().get(i.id))&&a.setContent(t)});else if(a.length>0&&(i=d().get(a[0].id)))return i.getContent()},i=function(e){var t=null;return e&&e.id&&s.tinymce&&(t=d().get(e.id)),t},r=function(e){return!!(e&&e.length&&s.tinymce&&e.is(":tinymce"))},o={};n.each(["text","html","val"],function(e,s){var l=o[s]=n.fn[s],d="text"===s;n.fn[s]=function(e){var o=this;if(!r(o))return l.apply(o,arguments);if(e!==a)return t.call(o.filter(":tinymce"),e),l.apply(o.not(":tinymce"),arguments),o;var s="",c=arguments;return(d?o:o.eq(0)).each(function(e,t){var a=i(t);s+=a?d?a.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):a.getContent({save:!0}):l.apply(n(t),c)}),s}}),n.each(["append","prepend"],function(e,t){var s=o[t]=n.fn[t],l="prepend"===t;n.fn[t]=function(e){var t=this;return r(t)?e!==a?("string"==typeof e&&t.filter(":tinymce").each(function(t,a){var r=i(a);r&&r.setContent(l?e+r.getContent():r.getContent()+e)}),s.apply(t.not(":tinymce"),arguments),t):void 0:s.apply(t,arguments)}}),n.each(["remove","replaceWith","replaceAll","empty"],function(t,i){var a=o[i]=n.fn[i];n.fn[i]=function(){return e.call(this,i),a.apply(this,arguments)}}),o.attr=n.fn.attr,n.fn.attr=function(e,s){var l=this,d=arguments;if(!e||"value"!==e||!r(l))return o.attr.apply(l,d);if(s!==a)return t.call(l.filter(":tinymce"),s),o.attr.apply(l.not(":tinymce"),d),l;var c=l[0],f=i(c);return f?f.getContent({save:!0}):o.attr.apply(n(c),d)}}}}),a("0")()}(),function(e){function t(e,t,i){"mousedown"==e?(t.timeout=setTimeout(function(){t.actualInterval=setInterval(function(){i()},100)},200),i()):(t.timeout&&clearTimeout(t.timeout),t.actualInterval&&clearInterval(t.actualInterval))}e.fn.niceNumber=function(i){var a=e.extend({autoSize:!0,autoSizeBuffer:1,buttonDecrement:"-",buttonIncrement:"+",buttonPosition:"around"},i);return this.each(function(){var i=this,r=e(i),o=null,n=null;void 0!==r.attr("max")&&!1!==r.attr("max")&&(o=parseFloat(r.attr("max"))),void 0!==r.attr("min")&&!1!==r.attr("min")&&(n=parseFloat(r.attr("min"))),n&&!i.value&&r.val(n);var s=e("<div/>",{class:"nice-number"}).insertAfter(i),l={},d=e("<button/>").attr("type","button").html(a.buttonDecrement).on("mousedown mouseup mouseleave",function(e){t(e.type,l,function(){(null==n||n<parseFloat(i.value))&&i.value--}),"mouseup"!=e.type&&"mouseleave"!=e.type||r.trigger("input"),r.change()}),c=e("<button/>").attr("type","button").html(a.buttonIncrement).on("mousedown mouseup mouseleave",function(e){t(e.type,l,function(){(null==o||o>parseFloat(i.value))&&i.value++}),"mouseup"!=e.type&&"mouseleave"!=e.type||r.trigger("input"),r.change()});switch(a.buttonPosition){case"left":d.appendTo(s),c.appendTo(s),r.appendTo(s);break;case"right":r.appendTo(s),d.appendTo(s),c.appendTo(s);break;case"around":default:d.appendTo(s),r.appendTo(s),c.appendTo(s)}a.autoSize&&(r.width(r.val().length+a.autoSizeBuffer+"ch"),r.on("keyup input",function(){r.animate({width:r.val().length+a.autoSizeBuffer+"ch"},200)}))})}}(jQuery),function($){function FormatNumberBy3(e,t,i){return e=e.toLocaleString("en-US"),e=e.replace(/\./g,"|"),e=e.replace(/\,/g,i),e=e.replace(/\|/g,t)}function round(e,t,i,a,r){return""==r?FormatNumberBy3(Number(Math.round(e+"e"+t)+"e-"+t),i,a):FormatNumberBy3(Number(Math.round(e+"e"+t)+"e-"+t).toFixed(t),i,a)}function roundValue(e,t,i){return""==i?Number(Math.round(e+"e"+t)+"e-"+t):Number(Math.round(e+"e"+t)+"e-"+t).toFixed(t)}function pafeCalculatedFieldsForm(){$(document).find("[data-pafe-form-builder-calculated-fields]").each(function(){var $fieldWidget=$(this).closest(".elementor-element"),$fieldCurrent=$(this),formID=$fieldCurrent.data("pafe-form-builder-form-id");if(calculation=$fieldCurrent.data("pafe-form-builder-calculated-fields"),roundingDecimals=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals"),decimalsSymbol=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals-decimals-symbol"),decimalsShow=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals-show"),seperatorsSymbol=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals-seperators-symbol"),$repeater=$(this).closest("[data-pafe-form-builder-repeater-form-id]"),-1==calculation.indexOf("field id"))$('[name^="form_fields"][data-pafe-form-builder-form-id="'+formID+'"]').each(function(){var e=$(this).closest("[data-pafe-form-builder-repeater-form-id]");if(void 0!=$(this).attr("id")){var t=$(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""),i=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+t+']"]'),a=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+t+']"]').attr("type");if(i.length>0){if("radio"==a||"checkbox"==a)var r=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+t+']"]:checked').val();else var r=i.val().trim();void 0==r?r=0:(r=parseFloat(r),isNaN(r)&&(r=0)),e.length,window[t]=parseFloat(r)}if(-1!==t.indexOf("[]")){t=t.replace("[]","");var o=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+t+'][]"]');if(o.length>0){fieldTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+t+'][]"]').attr("type");var n=o.val(),n=[];if("checkbox"==fieldTypeMultiple)$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+t+'][]"]:checked').each(function(e,t){n.push($(this).val())});else if(null==(n=o.val()))var n=[];fieldValueMultipleTotal=0;for(var s=0;s<n.length;s++)r=parseFloat(n[s]),isNaN(r)&&(r=0),fieldValueMultipleTotal+=r;window[t]=fieldValueMultipleTotal}}}});else{var fieldNameArray=calculation.match(/\"(.*?)\"/g);if(null!=fieldNameArray)for(var j=0;j<fieldNameArray.length;j++){var fieldNameSlug=fieldNameArray[j].replace('"',"").replace('"',""),$fieldSelectorExist=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name^="form_fields['+fieldNameSlug+']"]'),$fieldSelector=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldNameSlug+']"]');if($fieldSelectorExist.length>0){var fieldName=$fieldSelectorExist.attr("name").replace("[]","").replace("form_fields[","").replace("]",""),fieldType=$fieldSelectorExist.attr("type");if($fieldSelector.length>0){if("radio"==fieldType||"checkbox"==fieldType)var fieldValue=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+']"]:checked').val();else var fieldValue=$fieldSelector.val().trim();void 0==fieldValue?fieldValue=0:(fieldValue=parseFloat(fieldValue),isNaN(fieldValue)&&(fieldValue=0)),window[fieldName]=parseFloat(fieldValue)}if(-1!==fieldName.indexOf("[]")){fieldName=fieldName.replace("[]","");var $fieldSelectorMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]');if($fieldSelectorMultiple.length>0){fieldTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]').attr("type");var fieldValueMultiple=$fieldSelectorMultiple.val(),fieldValueMultiple=[];if("checkbox"==fieldTypeMultiple)$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]:checked').each(function(e,t){fieldValueMultiple.push($(this).val())});else if(null==(fieldValueMultiple=$fieldSelectorMultiple.val()))var fieldValueMultiple=[];fieldValueMultipleTotal=0;for(var j=0;j<fieldValueMultiple.length;j++)fieldValue=parseFloat(fieldValueMultiple[j]),isNaN(fieldValue)&&(fieldValue=0),fieldValueMultipleTotal+=fieldValue;window[fieldName]=fieldValueMultipleTotal}}}}}var calculation=calculation.replace(/\[field id=/g,"").replace(/\"]/g,"").replace(/\"/g,""),totalFieldContent=eval(calculation);$fieldWidget.find(".pafe-calculated-fields-form__value").html(round(totalFieldContent,roundingDecimals,decimalsSymbol,seperatorsSymbol,decimalsShow).replace("NaN",0)),$fieldCurrent.val(roundValue(totalFieldContent,roundingDecimals,decimalsShow))})}function handleServerResponse(e,t,i,a,r,o,n,s,l){e.error?submitStripeForm("failed",s,i,n,l,e):e.requires_action?e.subscriptions?o.handleCardPayment(e.payment_intent_client_secret).then(function(t){t.error||submitStripeForm("succeeded",s,i,n,l,e)}):o.handleCardAction(e.payment_intent_client_secret).then(function(d){d.error?submitStripeForm("failed",s,i,n,l,e):(n.delete("payment_method_id"),n.append("payment_intent_id",d.paymentIntent.id),$.ajax({url:$("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:n,processData:!1,contentType:!1,success:function(e){console.log(e),handleServerResponse(JSON.parse(e),t,i,a,r,o,n)}}))}):submitStripeForm("succeeded",s,i,n,l,e)}function submitStripeForm(e,t,i,a,r,o){var n=$(document).find('[data-pafe-form-builder-submit-form-id="'+i+'"]').closest(".elementor-element");"failed"==e?($(document).find('[data-pafe-form-builder-form-id="'+i+'"]').closest(".elementor-element").css({opacity:1}),n.css({opacity:1}),n.removeClass("elementor-form-waiting"),n.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),$(document).find('[data-pafe-form-builder-submit-form-id="'+i+'"]').closest(".elementor-element").css({opacity:1}),n.find("[data-pafe-form-builder-trigger-failed]").trigger("click")):(a.delete("stripeToken"),a.delete("action"),a.append("action","pafe_ajax_form_builder"),a.append("payment_intent_id",o.payment_intent_id),$.ajax({url:$("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:a,processData:!1,contentType:!1,success:function(t){$(document).find('[data-pafe-form-builder-form-id="'+i+'"]').closest(".elementor-element").css({opacity:1}),n.css({opacity:1}),n.removeClass("elementor-form-waiting");var t=t.trim();if(-1!==t.indexOf(",")){var a=t.split(",");if(n.find(".elementor-message").each(function(){if(""!=a[3]){var e=$(this).html().replace("[post_url]",'<a href="'+a[3]+'">'+a[3]+"</a>");$(this).html(e)}}),"succeeded"==e||"active"==e?(n.find(".pafe-form-builder-alert--stripe .elementor-message-success").addClass("visible"),n.find("[data-pafe-form-builder-trigger-success]").trigger("click")):(n.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),$(document).find('[data-pafe-form-builder-form-id="'+i+'"]').closest(".elementor-element").css({opacity:1}),$(document).find('[data-pafe-form-builder-submit-form-id="'+i+'"]').closest(".elementor-element").css({opacity:1}),n.find("[data-pafe-form-builder-trigger-failed]").trigger("click")),""!=a[1]?n.find(".pafe-form-builder-alert--mail .elementor-message-success").addClass("visible"):(n.find(".pafe-form-builder-alert--mail .elementor-message-danger").addClass("visible"),$(document).find('[data-pafe-form-builder-form-id="'+i+'"]').closest(".elementor-element").css({opacity:1}),$(document).find('[data-pafe-form-builder-submit-form-id="'+i+'"]').closest(".elementor-element").css({opacity:1}),""!=a[5]&&n.find(".pafe-form-builder-alert--mail .elementor-message-danger").html(a[5].replace(/###/g,","))),0!=n.find('input[name="redirect"]').length){var r=n.find('input[name="redirect"]').val().trim();-1!==t.indexOf(",")&&"1"!=a[6]&&(""!=a[3]&&"[post_url]"==r?window.location.href=a[3]:""!=a[4]&&(window.location.href=a[4]))}0!=$(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+i+'"]').length&&$(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+i+'"]').trigger("click"),0!=$(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+i+'"]').length&&$(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+i+'"]').trigger("click"),0!=$(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+i+'"]').length&&$(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+i+'"]').trigger("click")}}}))}function getIndexColumn(e){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i=e.slice(0,1).toUpperCase(),a=e.slice(1,2).toUpperCase();return""==a?t.indexOf(i):26*(t.indexOf(i)+1)+t.indexOf(a)}var WidgetPafeFormBuilderHandlerDate=function(e,t){var i=e.find(".elementor-date-field");if(i.length){var a=function(e){if(!t(e).hasClass("elementor-use-native")){var i={minDate:t(e).attr("min")||null,maxDate:t(e).attr("max")||null,dateFormat:t(e).attr("data-date-format")||null,defaultDate:t(e).attr("data-pafe-form-builder-value")||null,allowInput:!0,animate:!1};void 0!=t(e).data("pafe-form-builder-date-range")&&(i.mode="range"),"english"!=t(e).data("pafe-form-builder-date-language")&&(i.locale=t(e).attr("data-pafe-form-builder-date-language")),e.flatpickr(i)}};t.each(i,function(e,t){a(t)})}},WidgetPafeFormBuilderHandlerTime=function(e,t){var i=e.find(".elementor-time-field");if(i.length){var a=function(e){if(!t(e).hasClass("elementor-use-native")){var i=!1;void 0!=t(e).attr("data-pafe-form-builder-time-24hr")&&(i=!0),e.flatpickr({noCalendar:!0,enableTime:!0,allowInput:!0,time_24hr:i,defaultDate:t(e).attr("data-pafe-form-builder-value")||null})}};t.each(i,function(e,t){a(t)})}},WidgetPafeFormBuilderHandlerRangeSlider=function(e,t){var i=e.find("[data-pafe-form-builder-range-slider]");i.length&&t.each(i,function(e,i){for(var a=t(i).data("pafe-form-builder-range-slider"),r={},o=a.split(","),n=0;n<o.length;n++){var s=o[n].trim().split(":");if(void 0!=s[0]&&void 0!=s[1]){var l=s[1].trim().replace('"',"").replace('"',"");r[s[0]]="false"==l||"true"==l?"false"!=l:l}}r.onStart=function(e){pafeCalculatedFieldsForm()},t(i).ionRangeSlider(r)})},WidgetPafeFormBuilderHandlerImageSelect=function(e,t){var i=e.find("[data-pafe-form-builder-image-select]");i.length&&t.each(i,function(e,i){var a=t(i).data("pafe-form-builder-image-select"),r=t(i).find("option"),o={show_label:!0};void 0!=t(i).attr("data-pafe-form-builder-image-select-limit-multiple")&&(o.limit=t(i).attr("data-pafe-form-builder-image-select-limit-multiple")),t(i).closest(".elementor-field").addClass("pafe-image-select-field"),r.eq(0).attr("value").trim(),r.each(function(e,n){if(""==r.eq(0).attr("value").trim()&&0!=e){var s=e-1,l=a[s].url;t(this).html();t(this).attr("data-img-src",l),t(i).imagepicker(o)}if(""!=r.eq(0).attr("value").trim()){var l=a[e].url;t(this).html();t(this).attr("data-img-src",l),t(i).imagepicker(o)}t(i).closest(".pafe-image-select-field").find(".thumbnail.selected").closest("li").addClass("disabled")})})},WidgetPafeFormBuilderHandlerStripe=function(e,t){var i=e.find("[data-pafe-form-builder-stripe]");i.length&&t.each(i,function(e,i){var a=t("[data-pafe-stripe]").data("pafe-stripe"),r=Stripe(a),o=r.elements(),n={base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},s=o.create("card",{style:n});s.mount(i);t(i).data("pafe-form-builder-form-id");t(document).on("click","[data-pafe-form-builder-submit-form-id]",function(){if(void 0!=t(this).data("pafe-form-builder-stripe-submit")){var e=t(this).data("pafe-form-builder-submit-form-id"),i=t(document).find("[data-pafe-form-builder-form-id="+e+"]"),a=t(this).data("pafe-form-builder-required-text"),o=[],n=0,l=new FormData,d=t(this),c=d.closest(".elementor-element");i.each(function(){if(void 0==t(this).data("pafe-form-builder-stripe")&&void 0==t(this).data("pafe-form-builder-html"))if(t(this)[0].checkValidity()||"none"==t(this).closest(".elementor-widget").css("display")||"none"==t(this).closest("[data-pafe-form-builder-conditional-logic]").css("display")||0!=t(this).closest("[data-pafe-signature]").length){if(t(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(""),t(this).closest("[data-pafe-signature]").length>0){var i=t(this).closest("[data-pafe-signature]"),r=i.find("[data-pafe-signature-export]");r.trigger("click"),""==t(this).val()&&"required"==t(this).attr("required")&&(t(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(a),n++)}var s=t(this).attr("type"),d=t(this).attr("name"),c=t(this).closest("[data-pafe-form-builder-repeater-form-id]"),f="",h="",p="",u=-1,m=0;if(c.length>0){$repeaterParents=t(this).parents("[data-pafe-form-builder-repeater-form-id]"),h=c.data("pafe-form-builder-repeater-id"),$repeaterParents.each(function(){var i=t(this).data("pafe-form-builder-repeater-id"),a=t(document).find('[data-pafe-form-builder-repeater-form-id="'+e+'"][data-pafe-form-builder-repeater-id="'+i+'"]');repeaterParentIndex=t(this).index()-a.index(),f+=i+"|index"+repeaterParentIndex+"|"+d.replace("[]","").replace("form_fields[","").replace("]","")+","}),p=c.data("pafe-form-builder-repeater-label");var g=t(document).find('[data-pafe-form-builder-repeater-id="'+c.data("pafe-form-builder-repeater-id")+'"]');m=c.siblings('[data-pafe-form-builder-repeater-id="'+c.data("pafe-form-builder-repeater-id")+'"]').length+1,u=c.index()-g.index()}if("file"==s)if(t(this).hasClass("error"))n++;else{d=t(this).attr("id").replace("form-field-",""),t.each(t(this)[0].files,function(e,t){l.append(d+"[]",t)});var v={};v.label=t(this).closest(".elementor-field-group").find(".elementor-field-label").html(),v.name=d,v.value="",v.upload=1,v.repeater_id=f,v.repeater_id_one=h,v.repeater_label=p,v.repeater_index=u,v.repeater_length=m,void 0!=t(this).data("attach-files")&&(v["attach-files"]=1),o.push(v)}else{if(-1!==d.indexOf("[]")){var _=[];if("checkbox"==s)t(document).find('[name="'+d+'"]:checked').each(function(){_.push(t(this).val())});else if(null==(_=t(this).val()))var _=[];w="";for(var b="",y=0;y<_.length;y++){if(void 0!=t(this).data("pafe-form-builder-send-data-by-label")){var $=_[y];if("checkbox"==s){var x=t(this).closest(".elementor-element").find('[value="'+$+'"]');x.length>0&&(b+=x.data("pafe-form-builder-send-data-by-label")+",")}else{var x=t(this).find('[value="'+$+'"]');x.length>0&&(b+=x.html()+",")}}w+=_[y]+","}w=w.replace(/,(\s+)?$/,"")}else if("radio"==s||"checkbox"==s){if(void 0!=t(this).data("pafe-form-builder-send-data-by-label"))var b=t(this).closest(".elementor-element").find('[name="'+d+'"]:checked').data("pafe-form-builder-send-data-by-label");var w=t(this).closest(".elementor-element").find('[name="'+d+'"]:checked').val()}else if(void 0!=t(this).data("pafe-form-builder-calculated-fields"))var w=t(this).siblings(".pafe-calculated-fields-form").text();else{if(void 0!=t(this).data("pafe-form-builder-send-data-by-label")){var $=t(this).val().trim(),x=t(this).find('[value="'+$+'"]');x.length>0&&(b=x.html())}var w=t(this).val().trim()}if(void 0!=w){var v={};v.label=t(this).closest(".elementor-field-group").find(".elementor-field-label").html(),v.name=d.replace("[]","").replace("form_fields[","").replace("]",""),v.value=w,""!=b&&(v.value_label=b),t(this).closest(".elementor-field-type-calculated_fields").length>0&&(v.calculation_results=t(this).val().trim()),t(this).closest(".elementor-widget").hasClass("pafe-form-builder-conditional-logic-hidden")||(v.repeater_id=f,v.repeater_id_one=h,v.repeater_index=u,v.repeater_label=p,v.repeater_length=m,o.push(v))}}}else"none"==t(this).css("display")||void 0!=t(this).data("pafe-form-builder-image-select")?t(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(a):void 0==t(this).data("pafe-form-builder-image-select")&&t(this)[0].reportValidity(),n++}),0==n&&r.createToken(s).then(function(i){if(i.error);else{t(document).find('[data-pafe-form-builder-form-id="'+e+'"]').closest(".elementor-element").css({opacity:.45}),d.closest(".elementor-element").css({opacity:.45}),d.closest(".elementor-element").addClass("elementor-form-waiting"),c.find(".elementor-message").removeClass("visible");var a=0;if(void 0!=d.data("pafe-form-builder-stripe-amount"))a=d.data("pafe-form-builder-stripe-amount");else if(void 0!=d.data("pafe-form-builder-stripe-amount-field")){var n=d.data("pafe-form-builder-stripe-amount-field").replace('[field id="',"").replace('"]',"");a=t(document).find('[data-pafe-form-builder-form-id="'+e+'"][name="form_fields['+n+']"]').val()}var f="";if(void 0!=d.data("pafe-form-builder-stripe-customer-info-field")){var h=d.data("pafe-form-builder-stripe-customer-info-field").replace('[field id="',"").replace('"]',"");f=t(document).find('[data-pafe-form-builder-form-id="'+e+'"][name="form_fields['+h+']"]').val()}t(document).find('input[name="post_id"][data-pafe-form-builder-hidden-form-id="'+e+'"]').eq(0).closest("[data-elementor-id]").data("elementor-id"),t(document).find('input[name="form_id"][data-pafe-form-builder-hidden-form-id="'+e+'"]').val(),i.token.id;if(l.append("action","pafe_ajax_stripe_intents"),l.append("post_id",c.find('input[name="post_id"]').closest("[data-elementor-id]").data("elementor-id")),l.append("form_id",c.find('input[name="form_id"]').val()),l.append("fields",JSON.stringify(o)),l.append("referrer",window.location.href),l.append("remote_ip",t(document).find('input[name="remote_ip"][data-pafe-form-builder-hidden-form-id="'+e+'"]').val()),l.append("stripeToken",i.token.id),l.append("amount",a),l.append("description",f),void 0!=t(this).data("pafe-form-builder-woocommerce-product-id")&&l.append("product_id",t(this).data("pafe-form-builder-woocommerce-product-id")),void 0!=d.data("pafe-form-builder-submit-post-edit")&&l.append("edit",d.data("pafe-form-builder-submit-post-edit")),void 0!=d.data("pafe-form-builder-submit-recaptcha")){var p=d.data("pafe-form-builder-submit-recaptcha");grecaptcha.ready(function(){grecaptcha.execute(p,{action:"create_comment"}).then(function(i){l.append("recaptcha",i),r.createPaymentMethod("card",s,{}).then(function(i){i.error||(l.append("payment_method_id",i.paymentMethod.id),t.ajax({url:t("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:l,processData:!1,contentType:!1,success:function(i){var n=t(document).find('input[name="post_id"][data-pafe-form-builder-hidden-form-id="'+e+'"]').eq(0).closest("[data-elementor-id]").data("elementor-id"),s=JSON.stringify(o),d=JSON.parse(i);handleServerResponse(d,n,e,s,a,r,l,c,t(this))},error:function(){t(document).find('[data-pafe-form-builder-form-id="'+e+'"]').closest(".elementor-element").css({opacity:1}),c.css({opacity:1}),c.removeClass("elementor-form-waiting"),c.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),c.find("[data-pafe-form-builder-trigger-failed]").trigger("click")}}))})})})}else r.createPaymentMethod("card",s,{}).then(function(i){i.error||(l.append("payment_method_id",i.paymentMethod.id),t.ajax({url:t("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:l,processData:!1,contentType:!1,success:function(i){var n=t(document).find('input[name="post_id"][data-pafe-form-builder-hidden-form-id="'+e+'"]').eq(0).closest("[data-elementor-id]").data("elementor-id"),s=JSON.stringify(o),d=JSON.parse(i);handleServerResponse(d,n,e,s,a,r,l,c,t(this))},error:function(){t(document).find('[data-pafe-form-builder-form-id="'+e+'"]').closest(".elementor-element").css({opacity:1}),c.css({opacity:1}),c.removeClass("elementor-form-waiting"),c.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),c.find("[data-pafe-form-builder-trigger-failed]").trigger("click")}}))})}})}})})},WidgetPafeNumberSpinerHandler=function(e,t){var i=e.find('[data-pafe-form-builder-spiner] input[type="number"]');i.length&&t.each(i,function(e,i){t(i).niceNumber({autoSize:!1})})};$(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerDate),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerTime),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerImageSelect),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerStripe),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeNumberSpinerHandler)})}(jQuery),jQuery(document).ready(function(e){e(document).on("change",'[name="upload_field"]',function(){var t=e(this).closest("form"),i=e(this),a=i.data("accept");void 0==a&&(a="jpg,jpeg,png,gif,pdf,doc,docx,ppt,pptx,odt,avi,ogg,m4a,mov,mp3,mp4,mpg,wav,wmv"),void 0!=a&&""==a.trim()&&(a="jpg,jpeg,png,gif,pdf,doc,docx,ppt,pptx,odt,avi,ogg,m4a,mov,mp3,mp4,mpg,wav,wmv"),t.validate({rules:{upload_field:{extension:a,maxsize:1048576*parseInt(i.data("maxsize"))}},messages:{upload_field:{extension:i.data("types-message"),maxsize:i.data("maxsize-message")}}}),t.submit(function(e){e.preventDefault()}),t.trigger("submit")}),e(document).on("click","[data-pafe-form-builder-submit-form-id]",function(){if(void 0==e(this).data("pafe-form-builder-stripe-submit")){var t=e(this).data("pafe-form-builder-submit-form-id"),i=e(document).find("[data-pafe-form-builder-form-id="+t+"]"),a=e(this).data("pafe-form-builder-required-text"),r=[],o=0;formData=new FormData;var n=e(this),s=n.closest(".elementor-element");if(i.each(function(){if(void 0==e(this).data("pafe-form-builder-stripe")&&void 0==e(this).data("pafe-form-builder-html")){var i=e(this).closest(".elementor-field-type-checkbox.elementor-field-required"),n=0;if(i.length>0&&(n=i.find("input[type=checkbox]:checked").length),!e(this)[0].checkValidity()&&"none"!=e(this).closest(".elementor-widget").css("display")&&"none"!=e(this).closest("[data-pafe-form-builder-conditional-logic]").css("display")&&void 0==e(this).data("pafe-form-builder-honeypot")&&0==e(this).closest("[data-pafe-signature]").length||0==n&&i.length>0)"none"==e(this).css("display")||"none"==e(this).closest("div").css("display")||void 0!=e(this).data("pafe-form-builder-image-select")||i.length>0?e(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(a):void 0==e(this).data("pafe-form-builder-image-select")&&e(this)[0].reportValidity(),o++;else{if(e(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(""),e(this).closest("[data-pafe-signature]").length>0){e(this).closest("[data-pafe-signature]").find("[data-pafe-signature-export]").trigger("click"),""==e(this).val()&&(e(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(a),o++)}var s=e(this).attr("type"),l=e(this).attr("name"),d=e(this).closest("[data-pafe-form-builder-repeater-form-id]"),c="",f="",h="",p=-1,u=0;if(d.length>0){$repeaterParents=e(this).parents("[data-pafe-form-builder-repeater-form-id]"),f=d.data("pafe-form-builder-repeater-id"),$repeaterParents.each(function(){var i=e(this).data("pafe-form-builder-repeater-id"),a=e(document).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]');repeaterParentIndex=e(this).index()-a.index(),c+=i+"|index"+repeaterParentIndex+"|"+l.replace("[]","").replace("form_fields[","").replace("]","")+","}),h=d.data("pafe-form-builder-repeater-label");var m=e(document).find('[data-pafe-form-builder-repeater-id="'+d.data("pafe-form-builder-repeater-id")+'"]');u=d.siblings('[data-pafe-form-builder-repeater-id="'+d.data("pafe-form-builder-repeater-id")+'"]').length+1,p=d.index()-m.index()}if("file"==s)if(e(this).hasClass("error"))o++;else{l=e(this).attr("id").replace("form-field-",""),e.each(e(this)[0].files,function(e,t){formData.append(l+"[]",t)});var g={};g.label=e(this).closest(".elementor-field-group").find(".elementor-field-label").html(),g.name=l,g.value="",g.upload=1,g.repeater_id=f,g.repeater_id_one=f,g.repeater_label=h,g.repeater_index=p,g.repeater_length=u,void 0!=e(this).data("attach-files")&&(g["attach-files"]=1),r.push(g)}else{if(-1!==l.indexOf("[]")){var v=[];if("checkbox"==s)e(this).closest(".elementor-element").find('[name="'+l+'"]:checked').each(function(){v.push(e(this).val())});else if(null==(v=e(this).val()))var v=[];x="";for(var _="",b=0;b<v.length;b++){if(void 0!=e(this).data("pafe-form-builder-send-data-by-label")){var y=v[b];if("checkbox"==s){var $=e(this).closest(".elementor-element").find('[value="'+y+'"]');$.length>0&&(_+=$.data("pafe-form-builder-send-data-by-label")+",")}else{var $=e(this).find('[value="'+y+'"]');$.length>0&&(_+=$.html()+",")}}x+=v[b]+","}x=x.replace(/,(\s+)?$/,"")}else if("radio"==s||"checkbox"==s){if(void 0!=e(this).data("pafe-form-builder-send-data-by-label"))var _=e(this).closest(".elementor-element").find('[name="'+l+'"]:checked').data("pafe-form-builder-send-data-by-label");var x=e(this).closest(".elementor-element").find('[name="'+l+'"]:checked').val()}else if(void 0!=e(this).data("pafe-form-builder-calculated-fields"))var x=e(this).siblings(".pafe-calculated-fields-form").text();else{if(void 0!=e(this).data("pafe-form-builder-send-data-by-label")){var y=e(this).val().trim(),$=e(this).find('[value="'+y+'"]');$.length>0&&(_=$.html())}var x=e(this).val().trim()}if(void 0!=x){var g={};g.label=e(this).closest(".elementor-field-group").find(".elementor-field-label").html(),g.name=l.replace("[]","").replace("form_fields[","").replace("]",""),g.value=x,""!=_&&(g.value_label=_),e(this).closest(".elementor-field-type-calculated_fields").length>0&&(g.calculation_results=e(this).val().trim()),e(this).closest(".elementor-widget").hasClass("pafe-form-builder-conditional-logic-hidden")||(g.repeater_id=c,g.repeater_id_one=f,g.repeater_label=h,g.repeater_index=p,g.repeater_length=u,r.push(g))}}}}}),
0==o)if(e(document).find('[data-pafe-form-builder-form-id="'+t+'"]').closest(".elementor-element").css({opacity:.45}),e(this).closest(".elementor-element").css({opacity:.45}),e(this).closest(".elementor-element").addClass("elementor-form-waiting"),formData.append("action","pafe_ajax_form_builder"),formData.append("post_id",s.find('input[name="post_id"]').closest("[data-elementor-id]").data("elementor-id")),formData.append("form_id",s.find('input[name="form_id"]').val()),formData.append("fields",JSON.stringify(r)),formData.append("referrer",window.location.href),formData.append("remote_ip",e(document).find('input[name="remote_ip"][data-pafe-form-builder-hidden-form-id="'+t+'"]').val()),void 0!=e(this).data("pafe-form-builder-submit-post-edit")&&formData.append("edit",e(this).data("pafe-form-builder-submit-post-edit")),void 0!=e(this).data("pafe-form-builder-woocommerce-product-id")&&formData.append("product_id",e(this).data("pafe-form-builder-woocommerce-product-id")),void 0!=e(this).data("pafe-form-builder-submit-recaptcha")){var l=e(this).data("pafe-form-builder-submit-recaptcha");grecaptcha.ready(function(){grecaptcha.execute(l,{action:"create_comment"}).then(function(i){formData.append("recaptcha",i),s.find(".elementor-message").removeClass("visible"),e.ajax({url:e("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:formData,processData:!1,contentType:!1,success:function(i){if(s.css({opacity:1}),s.removeClass("elementor-form-waiting"),e(document).find('[data-pafe-form-builder-form-id="'+t+'"]').closest(".elementor-element").css({opacity:1}),""!=i.trim()?(s.find(".elementor-message-success").addClass("visible"),s.find("[data-pafe-form-builder-trigger-success]").trigger("click")):(s.find(".elementor-message-danger").addClass("visible"),s.find("[data-pafe-form-builder-trigger-failed]").trigger("click")),-1!==i.indexOf(",")){var a=i.split(",");s.find(".elementor-message").each(function(){if(""!=a[3]){var t=e(this).html().replace("[post_url]",'<a href="'+a[3]+'">'+a[3]+"</a>");e(this).html(t)}})}if(0!=s.find('input[name="redirect"]').length){var r=s.find('input[name="redirect"]').val().trim();-1!==i.indexOf(",")&&"1"!=a[6]&&(""!=a[3]&&"[post_url]"==r?window.location.href=a[3]:""!=a[4]&&(window.location.href=a[4]))}0!=e(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+t+'"]').length&&e(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+t+'"]').trigger("click"),0!=e(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+t+'"]').length&&e(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+t+'"]').trigger("click"),0!=e(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+t+'"]').length&&e(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+t+'"]').trigger("click")}})})})}else s.find(".elementor-message").removeClass("visible"),e.ajax({url:e("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:formData,processData:!1,contentType:!1,success:function(i){if(s.css({opacity:1}),s.removeClass("elementor-form-waiting"),e(document).find('[data-pafe-form-builder-form-id="'+t+'"]').closest(".elementor-element").css({opacity:1}),-1!==i.indexOf(",")){var a=i.split(",");s.find(".elementor-message").each(function(){if(""!=a[3]){var t=e(this).html().replace("[post_url]",'<a href="'+a[3]+'">'+a[3]+"</a>");e(this).html(t)}}),"succeeded"!=a[0]&&"active"!=a[0]||s.find(".pafe-form-builder-alert--stripe .elementor-message-success").addClass("visible"),"pending"==a[0]&&s.find(".pafe-form-builder-alert--stripe .elementor-help-inline").addClass("visible"),"failed"!=a[0]&&"incomplete"!=a[0]||(s.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),e(document).find('[data-pafe-form-builder-form-id="'+t+'"]').closest(".elementor-element").css({opacity:1}),e(this).closest(".elementor-element").css({opacity:1})),""!=a[1]?(s.find(".pafe-form-builder-alert--mail .elementor-message-success").addClass("visible"),s.find("[data-pafe-form-builder-trigger-success]").trigger("click")):(s.find(".pafe-form-builder-alert--mail .elementor-message-danger").addClass("visible"),e(document).find('[data-pafe-form-builder-form-id="'+t+'"]').closest(".elementor-element").css({opacity:1}),e(this).closest(".elementor-element").css({opacity:1}),s.find("[data-pafe-form-builder-trigger-failed]").trigger("click"),""!=a[5]&&s.find(".pafe-form-builder-alert--mail .elementor-message-danger").html(a[5].replace(/###/g,",")))}if(0!=s.find('input[name="redirect"]').length){var r=s.find('input[name="redirect"]').val().trim();-1!==i.indexOf(",")&&"1"!=a[6]&&(""!=a[3]&&"[post_url]"==r?window.location.href=a[3]:""!=a[4]&&(window.location.href=a[4]))}0!=e(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+t+'"]').length&&e(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+t+'"]').trigger("click"),0!=e(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+t+'"]').length&&e(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+t+'"]').trigger("click"),0!=e(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+t+'"]').length&&e(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+t+'"]').trigger("click")}})}})}),jQuery(document).ready(function($){function pafeConditionalLogicFormCheck(e){e.each(function(){var e=$(this),t=$(this).data("pafe-form-builder-conditional-logic-not-field"),i=e.data("pafe-form-builder-conditional-logic-speed"),a=e.data("pafe-form-builder-conditional-logic-easing"),r=e.data("pafe-form-builder-conditional-logic"),o=!0,n=$(this).closest("[data-pafe-form-builder-repeater-id]");if(void 0!=r){if(void 0!=t)var s=$(this),l=s.closest(".elementor-location-popup").length,d=$(this),c=d.data("pafe-form-builder-conditional-logic-not-field-form-id");else var s=$(this).closest(".elementor-element"),l=s.closest(".elementor-location-popup").length,d=e.find("[data-pafe-form-builder-form-id]"),c=d.data("pafe-form-builder-form-id");if($(this).closest(".pafe-multi-step-form__content-item-button").length>0&&(s=$(this).closest(".pafe-multi-step-form__content-item-button")),-1!==JSON.stringify(r).indexOf("pafe")&&-1==JSON.stringify(r).indexOf("show")&&(o=!1),void 0!=t&&(o=!0),!$(this).hasClass("elementor-button")){if(void 0!=t)var f=1;else var f=d.attr("name").replace("[]","").replace("form_fields[","").replace("]","");for(var h=0,p=0,u="",m="",g=0;g<r.length;g++){if(void 0!=t)var v=1;else var v=d.attr("name").replace("form_fields[","").replace("[]","").replace("]","");var _=r[g].pafe_conditional_logic_form_if.trim().replace('[field id="',"").replace('"]',""),b=r[g].pafe_conditional_logic_form_comparison_operators,y=r[g].pafe_conditional_logic_form_value,x=r[g].pafe_conditional_logic_form_type,w=h;if("number"==x&&(y=parseInt(y)),f==v&&(p++,u=r[g].pafe_conditional_logic_form_and_or_operators,""!=_)){if(n.length>0){var k=n.find('[name="form_fields['+_+']"][data-pafe-form-builder-form-id="'+c+'"]');if(0==k.length)var k=$(document).find('[name="form_fields['+_+']"][data-pafe-form-builder-form-id="'+c+'"]')}else var k=$(document).find('[name="form_fields['+_+']"][data-pafe-form-builder-form-id="'+c+'"]');var C=k.attr("type");if(k.length>0){if("radio"==C||"checkbox"==C)if(n.length>0)var F=n.find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+']"]:checked').val();else var F=$(document).find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+']"]:checked').val();else var F=k.val().trim();void 0!=F&&-1!==F.indexOf(";")&&(F=F.split(";"),F=F[0]),"number"==x&&(void 0==F?F=0:(F=parseInt(F),isNaN(F)&&(F=0))),"not-empty"==b&&(""!=F&&0!=F||(h+=1)),"empty"==b&&(""==F&&0==F||(h+=1)),"="==b&&F!=y&&(h+=1),"!="==b&&F==y&&(h+=1),">"==b&&F<=y&&(h+=1),">="==b&&F<y&&(h+=1),"<"==b&&F>=y&&(h+=1),"<="==b&&F>y&&(h+=1),"checked"==b&&(k.prop("checked")||(h+=1)),"unchecked"==b&&k.prop("checked")&&(h+=1),"contains"==b&&-1===F.indexOf(y)&&(h+=1)}if(n.length>0){var S=n.find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+'][]"]');if(0==S.length)var S=$(document).find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+'][]"]')}else var S=$(document).find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+'][]"]');if(S.length>0){if(n.length>0)var A=n.find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+'][]"]').attr("type");else var A=$(document).find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+'][]"]').attr("type");var T=S.val(),T=[];if("checkbox"==A)n.length>0?n.find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+'][]"]:checked').each(function(){T.push($(this).val())}):$(document).find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+'][]"]:checked').each(function(){T.push($(this).val())});else if(null==(T=S.val()))var T=[];if("not-empty"==b&&0==T.length&&(h+=1),"empty"==b&&T.length>0&&(h+=1),"="!=b&&"!="!=b&&">"!=b&&">="!=b&&"<"!=b&&"<="!=b||0==T.length&&(h+=1),"="==b)for(var D=0;D<T.length;D++)T[D]!=y&&(h+=1);if("!="==b)for(var D=0;D<T.length;D++)T[D]==y&&(h+=1);if(">"==b)for(var D=0;D<T.length;D++)T[D]<=y&&(h+=1);if(">="==b)for(var D=0;D<T.length;D++)T[D]<y&&(h+=1);if("<"==b)for(var D=0;D<T.length;D++)T[D]>=y&&(h+=1);if("<="==b)for(var D=0;D<T.length;D++)T[D]>y&&(h+=1);"contains"==b&&-1===T.join().indexOf(y)&&(h+=1)}}var I=d;if(w==h&&void 0!=r[g]&&void 0!=r[g].pafe_conditional_logic_form_set_value&&-1!==r[g].pafe_conditional_logic_form_action.indexOf("set_value"))if(m=r[g].pafe_conditional_logic_form_set_value,void 0!=r[g].pafe_conditional_logic_form_set_value_for&&""!=r[g].pafe_conditional_logic_form_set_value_for)if(n.length>0)var I=n.find('[data-pafe-form-builder-form-id="'+c+'"][name^="form_fields['+r[g].pafe_conditional_logic_form_set_value_for+']"]');else var I=$(document).find('[data-pafe-form-builder-form-id="'+c+'"][name^="form_fields['+r[g].pafe_conditional_logic_form_set_value_for+']"]');else var I=d}var M=d.find("option:first"),P=!1;"radio"!=I.attr("type")&&"checkbox"!=I.attr("type")||(P=!0);var N=d.data("pafe-form-builder-default-value");if("or"==u)if(p>h)l>0?("hidden"!=d.attr("type")&&s.show(),I.each(function(){""!=m&&P&&(m==$(this).val()&&$(this).prop("checked",!0),"unchecked"==m||"checked"==m?"unchecked"==m?$(this).prop("checked",!1):$(this).prop("checked",!0):m==$(this).val()&&$(this).prop("checked",!0)),""==m||P||$(this).val(m)})):("hidden"!=d.attr("type")&&s.slideDown(i,a).removeClass("pafe-form-builder-conditional-logic-hidden"),I.each(function(){""!=m&&P&&(m==$(this).val()&&$(this).prop("checked",!0),"unchecked"==m||"checked"==m?"unchecked"==m?$(this).prop("checked",!1):$(this).prop("checked",!0):m==$(this).val()&&$(this).prop("checked",!0)),""==m||P||$(this).val(m)}));else if(l>0){if(o&&(s.hide(),void 0!=t)){var O=e.data("pafe-form-builder-repeater-id");void 0!=O&&e.siblings('[data-pafe-form-builder-repeater-id="'+O+'"]').remove();var E=s.find("[data-pafe-form-builder-form-id]");E.each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");void 0!=i&&""!=i||Number.isInteger(i)?t?($(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),i==$(this).val()&&$(this).prop("checked",!0)):$(this).val(i):0!=e.length?$(this).val(e.val()):t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")})}void 0==t&&(void 0!=N&&""!=N||Number.isInteger(N)?P?(d.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),N==d.val()&&d.prop("checked",!0)):d.val(N):0!=M.length?d.val(M.val()):P?d.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):d.val(""))}else{if(o&&(s.slideUp(i,a).addClass("pafe-form-builder-conditional-logic-hidden"),void 0!=t)){var O=e.data("pafe-form-builder-repeater-id");void 0!=O&&e.siblings('[data-pafe-form-builder-repeater-id="'+O+'"]').remove();var E=s.find("[data-pafe-form-builder-form-id]");E.each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");void 0!=i&&""!=i||Number.isInteger(i)?t?($(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),i==$(this).val()&&$(this).prop("checked",!0)):$(this).val(i):0!=e.length?$(this).val(e.val()):t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")})}void 0==t&&(void 0!=N&&""!=N||Number.isInteger(N)?P?(d.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),N==d.val()&&d.prop("checked",!0)):d.val(N):0!=M.length?d.val(M.val()):P?d.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):d.val(""))}if("and"==u)if(0==h)l>0?("hidden"!=d.attr("type")&&s.show(),I.each(function(){""!=m&&P&&(m==$(this).val()&&$(this).prop("checked",!0),"unchecked"==m||"checked"==m?"unchecked"==m?$(this).prop("checked",!1):$(this).prop("checked",!0):m==$(this).val()&&$(this).prop("checked",!0)),""==m||P||$(this).val(m)})):("hidden"!=d.attr("type")&&s.slideDown(i,a).removeClass("pafe-form-builder-conditional-logic-hidden"),I.each(function(){""!=m&&P&&(m==$(this).val()&&$(this).prop("checked",!0),"unchecked"==m||"checked"==m?"unchecked"==m?$(this).prop("checked",!1):$(this).prop("checked",!0):m==$(this).val()&&$(this).prop("checked",!0)),""==m||P||$(this).val(m)}));else if(l>0){if(o&&(s.hide(),void 0!=t)){var O=e.data("pafe-form-builder-repeater-id");void 0!=O&&e.siblings('[data-pafe-form-builder-repeater-id="'+O+'"]').remove();var E=s.find("[data-pafe-form-builder-form-id]");E.each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");void 0!=i&&""!=i||Number.isInteger(i)?t?($(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),i==$(this).val()&&$(this).prop("checked",!0)):$(this).val(i):0!=e.length?$(this).val(e.val()):t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")})}void 0==t&&(void 0!=N&&""!=N||Number.isInteger(N)?P?(d.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),N==d.val()&&d.prop("checked",!0)):d.val(N):0!=M.length?d.val(M.val()):P?d.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):d.val(""))}else{if(o&&(s.slideUp(i,a).addClass("pafe-form-builder-conditional-logic-hidden"),void 0!=t)){var O=e.data("pafe-form-builder-repeater-id");void 0!=O&&e.siblings('[data-pafe-form-builder-repeater-id="'+O+'"]').remove();var E=s.find("[data-pafe-form-builder-form-id]");E.each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");void 0!=i&&""!=i||Number.isInteger(i)?t?($(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),i==$(this).val()&&$(this).prop("checked",!0)):$(this).val(i):0!=e.length?$(this).val(e.val()):t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")})}void 0==t&&(void 0!=N&&""!=N||Number.isInteger(N)?P?(d.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),N==d.val()&&d.prop("checked",!0)):d.val(N):0!=M.length?d.val(M.val()):P?d.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):d.val(""))}pafeCalculatedFieldsForm("")}if($(this).hasClass("elementor-button")){for(var c=$(this).data("pafe-form-builder-submit-form-id"),L=0,j=0,R="",g=0;g<r.length;g++){var _=r[g].pafe_conditional_logic_form_if.trim().replace('[field id="',"").replace('"]',""),b=r[g].pafe_conditional_logic_form_comparison_operators,y=r[g].pafe_conditional_logic_form_value,x=r[g].pafe_conditional_logic_form_type;if("number"==x&&(y=parseInt(y)),j++,R=r[g].pafe_conditional_logic_form_and_or_operators,""!=_){var k=$(document).find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+']"]'),C=$(document).find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+']"]').attr("type");if(k.length>0){if("radio"==C)var F=$(document).find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+']"]:checked').val();else var F=k.val().trim();void 0!=F&&-1!==F.indexOf(";")&&(F=F.split(";"),F=F[0]),"number"==x&&(void 0==F?F=0:(F=parseInt(F),isNaN(F)&&(F=0))),"not-empty"==b&&(""!=F&&0!=F||(L+=1)),"empty"==b&&(""==F&&0==F||(L+=1)),"="==b&&F!=y&&(L+=1),"!="==b&&F==y&&(L+=1),">"==b&&F<=y&&(L+=1),">="==b&&F<y&&(L+=1),"<"==b&&F>=y&&(L+=1),"<="==b&&F>y&&(L+=1),"checked"==b&&(k.prop("checked")||(L+=1)),"unchecked"==b&&k.prop("checked")&&(L+=1),"contains"==b&&-1===F.indexOf("set_value")&&(h+=1)}var S=$(document).find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+'][]"]');if(S.length>0){A=$(document).find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+'][]"]').attr("type");var T=S.val(),T=[];if("checkbox"==A)$(document).find('[data-pafe-form-builder-form-id="'+c+'"][name="form_fields['+_+'][]"]:checked').each(function(){T[g++]=$(this).val()});else if(null==(T=S.val()))var T=[];if("not-empty"==b&&0==T.length&&(L+=1),"empty"==b&&T.length>0&&(L+=1),"="!=b&&"!="!=b&&">"!=b&&">="!=b&&"<"!=b&&"<="!=b||0==T.length&&(L+=1),"="==b)for(var D=0;D<T.length;D++)T[D]!=y&&(L+=1);if("!="==b)for(var D=0;D<T.length;D++)T[D]==y&&(L+=1);if(">"==b)for(var D=0;D<T.length;D++)T[D]<=y&&(L+=1);if(">="==b)for(var D=0;D<T.length;D++)T[D]<y&&(L+=1);if("<"==b)for(var D=0;D<T.length;D++)T[D]>=y&&(L+=1);if("<="==b)for(var D=0;D<T.length;D++)T[D]>y&&(L+=1);"contains"==b&&-1===T.join().indexOf(y)&&(h+=1)}}}"or"==R&&(j>L?l>0?"hidden"!=$(this).attr("type")&&s.show():"hidden"!=$(this).attr("type")&&s.slideDown(i,a).removeClass("pafe-form-builder-conditional-logic-hidden"):l>0?s.hide():s.slideUp(i,a).addClass("pafe-form-builder-conditional-logic-hidden")),"and"==R&&(0==h?l>0?"hidden"!=$(this).attr("type")&&s.show():"hidden"!=$(this).attr("type")&&s.slideDown(i,a).removeClass("pafe-form-builder-conditional-logic-hidden"):l>0?s.hide():s.slideUp(i,a).addClass("pafe-form-builder-conditional-logic-hidden"))}}})}function FormatNumberBy3(e,t,i){return e=e.toLocaleString("en-US"),e=e.replace(/\./g,"|"),e=e.replace(/\,/g,i),e=e.replace(/\|/g,t)}function round(e,t,i,a,r){return""==r?FormatNumberBy3(Number(Math.round(e+"e"+t)+"e-"+t),i,a):FormatNumberBy3(Number(Math.round(e+"e"+t)+"e-"+t).toFixed(t),i,a)}function roundValue(e,t,i){return""==i?Number(Math.round(e+"e"+t)+"e-"+t):Number(Math.round(e+"e"+t)+"e-"+t).toFixed(t)}function pafeCalculatedFieldsForm(fieldNameElement){var selector="[data-pafe-form-builder-calculated-fields]";""!=fieldNameElement&&(fieldNameElement='[field id="'+fieldNameElement+'"]',selector="[data-pafe-form-builder-calculated-fields*='"+fieldNameElement+"']"),$(document).find(selector).each(function(){var $fieldWidget=$(this).closest(".elementor-element"),$fieldCurrent=$(this),formID=$fieldCurrent.data("pafe-form-builder-form-id");if(calculation=$fieldCurrent.data("pafe-form-builder-calculated-fields"),roundingDecimals=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals"),decimalsSymbol=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals-decimals-symbol"),decimalsShow=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals-show"),seperatorsSymbol=$fieldCurrent.data("pafe-form-builder-calculated-fields-rounding-decimals-seperators-symbol"),$repeater=$(this).closest("[data-pafe-form-builder-repeater-form-id]"),-1==calculation.indexOf("field id"))$(document).find('[name^="form_fields"][data-pafe-form-builder-form-id="'+formID+'"]').each(function(){if(void 0!=$(this).attr("id")){var e=$(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""),t=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+']"]'),i=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+']"]').attr("type"),a=$(this).closest("[data-pafe-form-builder-repeater-form-id]");if(t.length>0){if("radio"==i||"checkbox"==i)if(a.length>0)var r=a.find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+']"]:checked').val();else var r=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+']"]:checked').val();else var r=t.val().trim();if(void 0==r?r=0:(r=parseFloat(r),isNaN(r)&&(r=0)),a.length>0){var o=$(document).find('[data-pafe-form-builder-repeater-form-id="'+$repeater.data("pafe-form-builder-repeater-form-id")+'"]'),n=$repeater.index()-o.index();window["pafe_"+e+"_piotnetpafe"+n+"x"]=parseFloat(r)}else window[e]=parseFloat(r)}if(-1!==e.indexOf("[]")){if(e=e.replace("[]",""),a.length>0)var s=a.find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+'][]"]');else var s=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+'][]"]');if(s.length>0){fieldTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+'][]"]').attr("type");var l=[];if("checkbox"==fieldTypeMultiple)a.length>0?a.find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+'][]"]:checked').each(function(e,t){l.push($(this).val())}):$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+e+'][]"]:checked').each(function(e,t){l.push($(this).val())});else if(null==(l=s.val()))var l=[];fieldValueMultipleTotal=0;for(var d=0;d<l.length;d++)r=parseFloat(l[d]),isNaN(r)&&(r=0),fieldValueMultipleTotal+=r;if(a.length>0){var o=$(document).find('[data-pafe-form-builder-repeater-form-id="'+$repeater.data("pafe-form-builder-repeater-form-id")+'"]'),n=$repeater.index()-o.index();window["pafe_"+e+"_piotnetpafe"+n+"x"]=fieldValueMultipleTotal}else window[e]=fieldValueMultipleTotal}}}});else{var fieldNameArray=calculation.match(/\"(.*?)\"/g);if(null!=fieldNameArray)for(var jx=0;jx<fieldNameArray.length;jx++){var fieldNameSlug=fieldNameArray[jx].replace('"',"").replace('"',""),$fieldSelectorExist=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name^="form_fields['+fieldNameSlug+']"]'),$fieldSelector=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldNameSlug+']"]');if($fieldSelectorExist.length>0){var fieldName=$fieldSelectorExist.attr("name").replace("form_fields[","").replace("]",""),fieldType=$fieldSelectorExist.attr("type");if($fieldSelector.length>=1&&0==$fieldSelector.closest("[data-pafe-form-builder-repeater-id]").length){if("radio"==fieldType||"checkbox"==fieldType)var fieldValue=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+']"]:checked').val();else var fieldValue=$fieldSelector.val().trim();void 0==fieldValue?fieldValue=0:(fieldValue=parseFloat(fieldValue),isNaN(fieldValue)&&(fieldValue=0)),window[fieldName]=parseFloat(fieldValue),$fieldSelector.closest("[data-pafe-form-builder-conditional-logic]").length>0&&"none"==$fieldSelector.closest(".elementor-element").css("display")&&(window[fieldName]=0)}if(($fieldSelector.length>1||1==$fieldSelector.length&&$fieldSelector.closest("[data-pafe-form-builder-repeater-id]").length>0)&&($repeater_field=$fieldSelector.closest("[data-pafe-form-builder-repeater-id]"),$repeater_field.length>0&&$fieldSelector.each(function(){if("radio"==fieldType||"checkbox"==fieldType)var e=$repeater_field.find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+']"]:checked').val();else var e=$(this).val().trim();void 0==e?e=0:(e=parseFloat(e),isNaN(e)&&(e=0));var t=$(document).find('[data-pafe-form-builder-repeater-form-id="'+$repeater.data("pafe-form-builder-repeater-form-id")+'"]'),i=$(this).closest("[data-pafe-form-builder-repeater-id]").index()-t.index();$(this).closest("[data-pafe-form-builder-conditional-logic]").length>0&&"none"==$(this).closest(".elementor-element").css("display")&&(e=0),window["pafe_"+fieldName+"_piotnetpafe"+i+"x"]=parseFloat(e)})),-1!==fieldName.indexOf("[]")){fieldName=fieldName.replace("[]","");var $fieldSelectorMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]'),fieldTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]').attr("type");if($repeater_field=$fieldSelector.closest("[data-pafe-form-builder-repeater-id]"),1==$fieldSelectorMultiple.length||$fieldSelectorMultiple.length>1&&0==$repeater_field.length){var fieldValueMultiple=[];if("checkbox"==fieldTypeMultiple)$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]:checked').each(function(e,t){fieldValueMultiple.push($(this).val())});else if(null==(fieldValueMultiple=$fieldSelectorMultiple.val()))var fieldValueMultiple=[];fieldValueMultipleTotal=0;for(var j=0;j<fieldValueMultiple.length;j++)fieldValue=parseFloat(fieldValueMultiple[j]),isNaN(fieldValue)&&(fieldValue=0),fieldValueMultipleTotal+=fieldValue;$fieldSelectorMultiple.closest("[data-pafe-form-builder-conditional-logic]").length>0&&"none"==$fieldSelectorMultiple.closest(".elementor-element").css("display")&&(fieldValueMultipleTotal=0),window[fieldName]=fieldValueMultipleTotal}$repeater_field.length>0&&($fieldSelectorMultiple.length>1||1==$fieldSelectorMultiple.length&&$fieldSelector.closest("[data-pafe-form-builder-repeater-id]"))&&$fieldSelectorMultiple.each(function(){fieldTypeMultiple=$(document).find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]').attr("type");var e=[];if("checkbox"==fieldTypeMultiple)$repeater_field.find('[data-pafe-form-builder-form-id="'+formID+'"][name="form_fields['+fieldName+'][]"]:checked').each(function(t,i){e.push($(this).val())});else if(null==(e=$fieldSelectorMultiple.val()))var e=[];fieldValueMultipleTotal=0;for(var t=0;t<e.length;t++)fieldValue=parseFloat(e[t]),isNaN(fieldValue)&&(fieldValue=0),fieldValueMultipleTotal+=fieldValue;var i=$(document).find('[data-pafe-form-builder-repeater-form-id="'+$repeater.data("pafe-form-builder-repeater-form-id")+'"]'),a=$(this).closest("[data-pafe-form-builder-repeater-id]").index()-i.index();$(this).closest("[data-pafe-form-builder-conditional-logic]").length>0&&"none"==$(this).closest(".elementor-element").css("display")&&(fieldValueMultipleTotal=0),window["pafe_"+fieldName+"_piotnetpafe"+a+"x"]=fieldValueMultipleTotal})}}}}var $repeaterAll=$(document).find('[data-pafe-form-builder-repeater-form-id="'+$repeater.data("pafe-form-builder-repeater-form-id")+'"]'),repeaterIndex=$(this).closest("[data-pafe-form-builder-repeater-id]").index()-$repeaterAll.index();if($repeater.length>0&&$repeaterAll.length>0){var keyValues=[],global=window;for(var prop in global)0==prop.indexOf("piotnet_")&&(window[prop]=0);for(var prop in global)if(0==prop.indexOf("pafe_")){var propArray=prop.split("_piotnetpafe"),propNew=propArray[0].replace("pafe_","piotnet_");window[propNew]+=window[prop]}for(var prop in global)if(0==prop.indexOf("piotnet_")){var propNew=prop.replace("piotnet_","");window[propNew]=window[prop]}}var fieldNameArray=calculation.match(/\"(.*?)\"/g);if(null!=fieldNameArray)for(var jx=0;jx<fieldNameArray.length;jx++){var fieldName=fieldNameArray[jx].replace('"',"").replace('"',"");if($fieldCalc=$(document).find('[data-pafe-form-builder-repeater-id] [data-pafe-form-builder-calculated-fields][name="form_fields['+fieldName+']"]'),$fieldCalc.length>0){fieldCalcTotal=0,$fieldCalc.each(function(){fieldCalcTotal+=parseFloat($(this).val())});var find=fieldName,re=new RegExp(find,"g"),calculation=calculation.replace(re,fieldCalcTotal)}}if($repeater.length>0&&$repeaterAll.length>0)for(var prop in global)if(0==prop.indexOf("pafe_")&&-1!==prop.indexOf("_piotnetpafe"+repeaterIndex+"x"))var propArray=prop.split("_piotnetpafe"),fieldNameArraySplit=propArray[0].split("pafe_"),find=fieldNameArraySplit[1],re=new RegExp(find,"g"),calculation=calculation.replace(re,prop);if(null!=fieldNameArray)for(var jx=0;jx<fieldNameArray.length;jx++){var fieldName=fieldNameArray[jx].replace('"',"").replace('"',"");void 0==window[fieldName]&&(window[fieldName]=0)}var calculation=calculation.replace(/\[field id=/g,"").replace(/\"]/g,"").replace(/\"/g,""),totalFieldContent=eval(calculation);$fieldWidget.find(".pafe-calculated-fields-form__value").html(round(totalFieldContent,roundingDecimals,decimalsSymbol,seperatorsSymbol,decimalsShow).replace("NaN",0)),$fieldCurrent.val(roundValue(totalFieldContent,roundingDecimals,decimalsShow));var fieldNameCalc=$(this).attr("name").replace("[]","").replace("form_fields[","").replace("]","");pafeCalculatedFieldsForm(fieldNameCalc)})}function IDGenerator(){this.length=8,this.timestamp=+new Date;var e=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};this.generate=function(){for(var t=this.timestamp.toString(),i=t.split("").reverse(),a="",r=0;r<this.length;++r){a+=i[e(0,i.length-1)]}return a}}function setFieldValue(e,t){var i=e.find("option:first"),a=!1;"radio"!=e.attr("type")&&"checkbox"!=e.attr("type")||(a=!0);var r=e.closest(".elementor-element").find("[data-pafe-form-builder-image-upload]");e.data("pafe-form-builder-default-value");e.each(function(){if(""!=t&&a&&(t==$(this).val()&&$(this).prop("checked",!0),"unchecked"==t||"checked"==t?"unchecked"==t?$(this).prop("checked",!1):$(this).prop("checked",!0):t==$(this).val()&&$(this).prop("checked",!0)),""==t||a||0!=i.length||$(this).val(t),0!=i.length){var e=$(this).find("option"),o=$(this);e.each(function(){$(this).attr("value")!=t&&$(this).html()!=t||(o.val($(this).attr("value")),void 0!=o.data("picker")&&o.data("picker").sync_picker_with_select())})}if(0!=r.length&&""!=t){var n=t.split(","),s=$(this).closest(".elementor-element").find("[data-pafe-form-builder-image-upload-label]");void 0==s.attr("multiple")&&s.addClass("pafe-form-builder-image-upload-label-hidden");for(var l in n)s.before('<div class="pafe-form-builder-image-upload-placeholder pafe-form-builder-image-upload-uploaded" style="background-image:url('+n[l]+')" data-pafe-form-builder-image-upload-placeholder=""><input type="text" style="display:none;" data-pafe-form-builder-image-upload-item value="'+n[l]+'"><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--remove" data-pafe-form-builder-image-upload-button-remove><i class="fa fa-times" aria-hidden="true"></i></span><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--uploading" data-pafe-form-builder-image-upload-button-uploading><i class="fa fa-spinner fa-spin"></i></span></div>')}$(this).change()})}function reInitFieldRepeater(e){var t=e.find("[data-pafe-form-builder-image-upload]");t.length>0&&t.each(function(){$imageUploadedFieldWidget=$(this).closest(".elementor-element"),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-placeholder]").remove(),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-label]").show(0),$imageUploadedFieldWidget.find("[data-pafe-form-builder-form-id]").val("")});var i=e.find("[data-pafe-form-builder-image-select]");i.length>0&&i.each(function(){$(this).closest(".elementor-field").find(".image_picker_selector").remove();var e=$(this).data("pafe-form-builder-image-select"),t=$(this).find("option");$(this).closest(".elementor-field").addClass("pafe-image-select-field");var i=$(this);t.each(function(a,r){
if(""==t.eq(0).attr("value").trim()&&0!=a){var o=a-1,n=e[o].url;$(this).html();$(this).attr("data-img-src",n),i.imagepicker({show_label:!0})}if(""!=t.eq(0).attr("value").trim()){var n=e[a].url;$(this).html();$(this).attr("data-img-src",n),i.imagepicker({show_label:!0})}})});var a=e.find("[data-pafe-form-builder-spiner] .nice-number");a.length>0&&a.each(function(){var e=$(this).closest("[data-pafe-form-builder-spiner]"),t=$(this).find(".elementor-field"),i=t.prop("outerHTML");$(this).after(i),$(this).remove(),e.find(".elementor-field").niceNumber({autoSize:!1})});var r=e.find("[data-pafe-form-builder-repeater-id]");r.length>0&&r.each(function(){var e=$(this).data("pafe-form-builder-repeater-id");$(this).siblings('[data-pafe-form-builder-repeater-id="'+e+'"]').remove()}),e.find("[data-pafe-form-builder-form-id]").each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");void 0!=i&&""!=i||Number.isInteger(i)?$(this).val(i).change():0!=e.length?$(this).val(e.val()).change():t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")});var o=e.find(".elementor-date-field");if(o.length>0){var n=function(e){if(!e.hasClass("elementor-use-native")){var t={minDate:e.attr("min")||null,maxDate:e.attr("max")||null,dateFormat:e.attr("data-date-format")||null,defaultDate:e.attr("data-pafe-form-builder-value")||null,allowInput:!0};e.flatpickr(t)}};o.each(function(){n($(this))})}var s=e.find(".elementor-time-field");if(s.length>0){var l=function(e){e.hasClass("elementor-use-native")||e.flatpickr({noCalendar:!0,enableTime:!0,allowInput:!0,defaultDate:e.attr("data-pafe-form-builder-value")||null})};s.each(function(){l($(this))})}}function pafePreviewSubmission(){var e=$(document).find("[data-pafe-form-builder-preview-submission]");e.length>0&&e.each(function(){var e=$(this).attr("data-pafe-form-builder-preview-submission"),t=$(document).find("[data-pafe-form-builder-form-id="+e+"]"),i=[],a=new FormData,r=$(this);r.closest(".elementor-element");t.each(function(){if(void 0==$(this).data("pafe-form-builder-stripe")&&void 0==$(this).data("pafe-form-builder-html")){var t=$(this).closest(".elementor-field-type-checkbox.elementor-field-required");t.length>0&&t.find("input[type=checkbox]:checked").length,$(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html("");var a=$(this).attr("type"),r=$(this).attr("name"),o=$(this).closest("[data-pafe-form-builder-repeater-form-id]"),n="",s="",l="",d=-1,c=0;if(o.length>0){$repeaterParents=$(this).parents("[data-pafe-form-builder-repeater-form-id]"),s=o.data("pafe-form-builder-repeater-id"),$repeaterParents.each(function(){var t=$(this).data("pafe-form-builder-repeater-id"),i=$(document).find('[data-pafe-form-builder-repeater-form-id="'+e+'"][data-pafe-form-builder-repeater-id="'+t+'"]');repeaterParentIndex=$(this).index()-i.index(),n+=t+"|index"+repeaterParentIndex+"|"+r.replace("[]","").replace("form_fields[","").replace("]","")+","}),l=o.data("pafe-form-builder-repeater-label");var f=$(document).find('[data-pafe-form-builder-repeater-id="'+o.data("pafe-form-builder-repeater-id")+'"]');c=o.siblings('[data-pafe-form-builder-repeater-id="'+o.data("pafe-form-builder-repeater-id")+'"]').length+1,d=o.index()-f.index()}if(-1!==r.indexOf("[]")){var h=[];if("checkbox"==a)$(this).closest(".elementor-element").find('[name="'+r+'"]:checked').each(function(){h.push($(this).val())});else if(null==(h=$(this).val()))var h=[];v="";for(var p="",u=0;u<h.length;u++){if(void 0!=$(this).data("pafe-form-builder-send-data-by-label")){var m=h[u];if("checkbox"==a){var g=$(this).closest(".elementor-element").find('[value="'+m+'"]');g.length>0&&(p+=g.data("pafe-form-builder-send-data-by-label")+",")}else{var g=$(this).find('[value="'+m+'"]');g.length>0&&(p+=g.html()+",")}}v+=h[u]+","}v=v.replace(/,(\s+)?$/,"")}else if("radio"==a||"checkbox"==a){if(void 0!=$(this).data("pafe-form-builder-send-data-by-label"))var p=$(this).closest(".elementor-element").find('[name="'+r+'"]:checked').data("pafe-form-builder-send-data-by-label");var v=$(this).closest(".elementor-element").find('[name="'+r+'"]:checked').val()}else if(void 0!=$(this).data("pafe-form-builder-calculated-fields"))var v=$(this).siblings(".pafe-calculated-fields-form").text();else{if(void 0!=$(this).data("pafe-form-builder-send-data-by-label")){var m=$(this).val().trim(),g=$(this).find('[value="'+m+'"]');g.length>0&&(p=g.html())}var v=$(this).val().trim()}if(void 0!=v){var _={};_.label=$(this).closest(".elementor-field-group").find(".elementor-field-label").html(),_.name=r.replace("[]","").replace("form_fields[","").replace("]",""),_.value=v,""!=p&&(_.value_label=p),$(this).closest(".elementor-field-type-calculated_fields").length>0&&(_.calculation_results=$(this).val().trim()),$(this).closest(".elementor-widget").hasClass("pafe-form-builder-conditional-logic-hidden")||(_.repeater_id=n,_.repeater_id_one=s,_.repeater_label=l,_.repeater_index=d,_.repeater_length=c,i.push(_))}}}),a.append("action","pafe_ajax_form_builder_preview_submission"),a.append("fields",JSON.stringify(i)),void 0!=r.attr("data-pafe-form-builder-preview-submission-remove-empty-fields")&&a.append("remove_empty_fields",""),$.ajax({url:$("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:a,processData:!1,contentType:!1,success:function(e){r.html(e)}})})}var $conditionals=$(document).find("body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic]");$conditionals.length>0&&pafeConditionalLogicFormCheck($conditionals),$(document).on("keyup change","[data-pafe-form-builder-form-id]",$.debounce(50,function(){pafeConditionalLogicFormCheck($(document).find("body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic]"))})),pafeCalculatedFieldsForm(""),$(document).on("keyup change","[data-pafe-form-builder-form-id]",$.debounce(30,function(){pafeCalculatedFieldsForm($(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""))})),$(document).on("keyup change","[data-pafe-form-builder-image-upload]",function(){var e=$(this).closest("label"),t=$(this).closest(".elementor-element");$.each($(this)[0].files,function(i,a){var r=a.name,o=r.substring(r.lastIndexOf(".")+1).toLowerCase();if("gif"==o||"png"==o||"jpg"==o||"jpeg"==o)if("undefined"!=typeof FileReader){"multiple"!=e.attr("multiple")&&e.hide(0);var n=new IDGenerator,s=n.generate(),l=new FileReader;l.onload=function(t){image=new Image,image.src=t.target.result,e.before('<div class="pafe-form-builder-image-upload-placeholder pafe-form-builder-image-upload-uploading" style="background-image:url('+t.target.result+')" data-pafe-form-builder-image-upload-placeholder="'+s+'"><input type="text" style="display:none;" data-pafe-form-builder-image-upload-item><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--remove" data-pafe-form-builder-image-upload-button-remove><i class="fa fa-times" aria-hidden="true"></i></span><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--uploading" data-pafe-form-builder-image-upload-button-uploading><i class="fa fa-spinner fa-spin"></i></span></div>')},l.readAsDataURL(a);var d=new FormData;d.append("upload",a),$.ajax({url:$("[data-pafe-form-builder-tinymce-upload]").data("pafe-form-builder-tinymce-upload"),type:"POST",data:d,processData:!1,contentType:!1,success:function(e){var i=JSON.parse(e),a=$(document).find('[data-pafe-form-builder-image-upload-placeholder="'+s+'"]');if(1==a.length){a.removeClass("pafe-form-builder-image-upload-uploading").addClass("pafe-form-builder-image-upload-uploaded"),a.find("input").attr("value",i.location);var r="";t.find("[data-pafe-form-builder-image-upload-placeholder]:not(.pafe-form-builder-image-upload-delete) [data-pafe-form-builder-image-upload-item]").each(function(){r+=$(this).val()+","}),r=r.replace(/.$/,""),t.find("[data-pafe-form-builder-form-id]").attr("value",r)}}})}else alert("Your browser does not support")})}),$(document).on("click","[data-pafe-form-builder-image-upload-button-remove]",function(){var e=$(this).closest(".pafe-form-builder-image-upload-placeholder");e.css({display:"none"}),e.addClass("pafe-form-builder-image-upload-delete");var t=$(this).closest(".elementor-element"),i=t.find("[data-pafe-form-builder-image-upload-placeholder]:not(.pafe-form-builder-image-upload-delete) [data-pafe-form-builder-image-upload-item]"),a="",r=t.find("[data-pafe-form-builder-image-upload-label]");0==i.length&&r.show(0),i.each(function(){a+=$(this).val()+","}),a=a.replace(/.$/,""),t.find("[data-pafe-form-builder-form-id]").attr("value",a)}),$('[data-pafe-form-builder-form-id][type="hidden"]').each(function(){$(this).closest(".elementor-widget-pafe-form-builder-field").addClass("elementor-widget-pafe-form-builder-field-hidden")}),$(document).on("click","[data-pafe-form-builder-repeater-form-id-trigger]",function(e){e.preventDefault();var t=$(this).data("pafe-form-builder-repeater-form-id-trigger"),i=$(this).data("pafe-form-builder-repeater-id-trigger"),a=$(this).data("pafe-form-builder-repeater-trigger-action"),r=$(document).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]');if("add"==a){if(r.length>0){$(this).closest("[data-pafe-form-builder-repeater-form-id]").length>0&&(r=$(this).closest("[data-pafe-form-builder-repeater-form-id]").find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]')),r.eq(r.length-1).after(r.eq(0).prop("outerHTML"));var o=r.eq(r.length-1).next(),n=o.find('input[type="radio"]');n.each(function(e,t){var i=$(this).attr("id");$(this).attr("id",i+r.length+e),$(this).siblings("label").attr("for",i+r.length+e)});var s=o.find('input[type="checkbox"]');s.each(function(e,t){var i=$(this).attr("id");$(this).attr("id",i+r.length+e),$(this).siblings("label").attr("for",i+r.length+e)});var l=o.find("[data-pafe-form-builder-conditional-logic]");l.length>0&&pafeConditionalLogicFormCheck(l),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic][data-pafe-form-builder-form-id="'+t+'"]').change();var d=o.find("[data-pafe-form-builder-image-upload]");d.length>0&&d.each(function(){$imageUploadedFieldWidget=$(this).closest(".elementor-element"),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-placeholder]").remove(),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-label]").show(0),$imageUploadedFieldWidget.find("[data-pafe-form-builder-form-id]").val("")});var c=o.find("[data-pafe-form-builder-image-select]");c.length>0&&c.each(function(){$(this).closest(".elementor-field").find(".image_picker_selector").remove();var e=$(this).data("pafe-form-builder-image-select"),t=$(this).find("option");$(this).closest(".elementor-field").addClass("pafe-image-select-field");var i=$(this);t.each(function(a,r){if(""==t.eq(0).attr("value").trim()&&0!=a){var o=a-1,n=e[o].url;$(this).html();$(this).attr("data-img-src",n),i.imagepicker({show_label:!0})}if(""!=t.eq(0).attr("value").trim()){var n=e[a].url;$(this).html();$(this).attr("data-img-src",n),i.imagepicker({show_label:!0})}})});var f=o.find("[data-pafe-form-builder-spiner] .nice-number");f.length>0&&f.each(function(){var e=$(this).closest("[data-pafe-form-builder-spiner]"),t=$(this).find(".elementor-field"),i=t.prop("outerHTML");$(this).after(i),$(this).remove(),e.find(".elementor-field").niceNumber({autoSize:!1})});var h=o.find("[data-pafe-form-builder-repeater-id]");h.length>0&&h.each(function(){var e=$(this).data("pafe-form-builder-repeater-id");$(this).siblings('[data-pafe-form-builder-repeater-id="'+e+'"]').remove()});var p=o.find("[data-pafe-form-builder-form-id]");p.each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");void 0!=i&&""!=i||Number.isInteger(i)?t?(i=$(this).attr("data-value"),$(this).val(i).change()):$(this).val(i).change():0!=e.length?$(this).val(e.val()).change():t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")});var u=o.find(".elementor-date-field");if(u.length>0){var m=function(e){if(!e.hasClass("elementor-use-native")){var t={minDate:e.attr("min")||null,maxDate:e.attr("max")||null,dateFormat:e.attr("data-date-format")||null,defaultDate:e.attr("data-pafe-form-builder-value")||null,allowInput:!0};e.flatpickr(t)}};u.each(function(){m($(this))})}var g=o.find(".elementor-time-field");if(g.length>0){var v=function(e){e.hasClass("elementor-use-native")||e.flatpickr({noCalendar:!0,enableTime:!0,allowInput:!0,defaultDate:e.attr("data-pafe-form-builder-value")||null})};g.each(function(){v($(this))})}}}else if(r.length>1){var _=$(this).closest('[data-pafe-form-builder-repeater-form-id="'+t+'"]');_.siblings('[data-pafe-form-builder-repeater-form-id="'+t+'"]').length>0&&$(this).closest('[data-pafe-form-builder-repeater-form-id="'+t+'"]').remove();var l=$(document).find("body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic]");l.length>0&&pafeConditionalLogicFormCheck(l),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic][data-pafe-form-builder-form-id="'+t+'"]').change(),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-form-id="'+t+'"]').change()}}),$("[data-pafe-form-builder-repeater-id]").each(function(){var e=$(this).data("pafe-form-builder-repeater-form-id"),t=$(this).data("pafe-form-builder-repeater-id"),i="pafe-end-repeater"+t;$(this).after('<div class="elementor-element elementor-element-7d558e4 elementor-widget elementor-widget-pafe-form-builder-field elementor-widget-pafe-form-builder-field-hidden" data-element_type="widget" data-widget_type="pafe-form-builder-field.default" style="opacity: 0.45;"><div class="elementor-widget-container"><div class="elementor-form-fields-wrapper elementor-labels-above"><div class="elementor-field-type-hidden elementor-field-group elementor-column elementor-field-group-'+i+' elementor-col-100"><div data-pafe-form-builder-required=""></div><input size="1" class="elementor-field elementor-size- " type="hidden" name="form_fields['+i+']" id="form-field-'+i+'" autocomplete="on" data-pafe-form-builder-default-value="" value="" data-pafe-form-builder-value="" data-pafe-form-builder-form-id="'+e+'"></div></div></div></div>')}),$("[data-pafe-form-builder-delete-post]").click(function(e){e.preventDefault();var t={action:"pafe_delete_post",id:$(this).data("pafe-form-builder-delete-post"),force_delete:$(this).data("pafe-form-builder-delete-post-force")},i=$(this).data("pafe-form-builder-delete-post-redirect");$.post($("[data-pafe-ajax-url]").data("pafe-ajax-url"),t,function(e){""!=e.trim()&&(window.location.href=i)})}),$(window).on("load",function(){$("[data-pafe-form-builder-repeater-value]").each(function(){var e=JSON.parse($(this).html().trim()),t=$(this).data("pafe-form-builder-repeater-value-form-id"),i=$(this).data("pafe-form-builder-repeater-value-id"),a=$(document).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]');if(a.length>0){$(this).closest("[data-pafe-form-builder-repeater-form-id]").length>0&&(a=$(this).closest("[data-pafe-form-builder-repeater-form-id]").find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]'));for(var r=0;r<e.length-1;r++)a.eq(0).after(a.eq(0).prop("outerHTML"));a=$(document).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]'),a.each(function(e,t){0!=e&&reInitFieldRepeater($(this))}),a=$(document).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]');for(var o in e){var n=e[o];for(var s in n)if("object"!=typeof n[s]){var l=a.eq(o).find('[name^="form_fields['+s+']"]');setFieldValue(l,n[s])}else{for(var d=a.eq(o).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+s+'"]'),r=0;r<n[s].length-1;r++)d.eq(0).after(d.eq(0).prop("outerHTML"));d=a.eq(o).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+s+'"]'),d.each(function(e,t){0!=e&&reInitFieldRepeater($(this))});var c=n[s];for(var f in c)for(var h in c[f])if("object"!=typeof c[f][h]){var l=d.eq(f).find('[name^="form_fields['+h+']"]');setFieldValue(l,c[f][h])}}}var p=a.find("[data-pafe-form-builder-conditional-logic]");p.length>0&&pafeConditionalLogicFormCheck(p),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic][data-pafe-form-builder-form-id="'+t+'"]').change()}})}),$(document).on("keyup change","[data-pafe-form-builder-form-id]",$.debounce(50,function(){pafePreviewSubmission()}))}),jQuery(document).ready(function(e){function t(t){var i=t.closest(".pafe-multi-step-form__content-item");i.find("[data-pafe-form-builder-form-id]").data("pafe-form-builder-form-id");i.removeClass("active"),i.next().addClass("active");var a=i.next().index();t.closest(".pafe-multi-step-form").find(".pafe-multi-step-form__progressbar-item").eq(a).addClass("active");var r=t.closest("[data-pafe-multi-step-form-scroll-to-top]");if(r.length>0){var o=e("[data-pafe-break-point-md]").data("pafe-break-point-md"),n=e("[data-pafe-break-point-lg]").data("pafe-break-point-lg"),s=window.innerWidth;s>=n&&e("html, body").animate({scrollTop:r.offset().top-r.data("pafe-multi-step-form-scroll-to-top-offset-desktop")},300),s>=o&&s<n&&e("html, body").animate({scrollTop:r.offset().top-r.data("pafe-multi-step-form-scroll-to-top-offset-tablet")},300),s<o&&e("html, body").animate({scrollTop:r.offset().top-r.data("pafe-multi-step-form-scroll-to-top-offset-mobile")},300)}}e(document).on("click",'[data-pafe-form-builder-nav="next"]',function(){var t=e(this).data("pafe-form-builder-nav-form-id"),i=e(this).closest(".pafe-multi-step-form__content-item"),a=i.find("[data-pafe-form-builder-form-id="+t+"]"),r=e(this).data("pafe-form-builder-required-text"),o=0;if(a.each(function(){if(void 0==e(this).data("pafe-form-builder-stripe")&&void 0==e(this).data("pafe-form-builder-html")){var t=e(this).closest(".elementor-field-type-checkbox.elementor-field-required"),i=0;if(t.length>0&&(i=t.find("input[type=checkbox]:checked").length),!e(this)[0].checkValidity()&&"none"!=e(this).closest(".elementor-widget").css("display")&&"none"!=e(this).closest("[data-pafe-form-builder-conditional-logic]").css("display")&&void 0==e(this).data("pafe-form-builder-honeypot")&&0==e(this).closest("[data-pafe-signature]").length||0==i&&t.length>0)"none"==e(this).css("display")||"none"==e(this).closest("div").css("display")||void 0!=e(this).data("pafe-form-builder-image-select")||t.length>0?e(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(r):void 0==e(this).data("pafe-form-builder-image-select")&&e(this)[0].reportValidity(),o++;else if(e(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(""),e(this).closest("[data-pafe-signature]").length>0){var a=e(this).closest("[data-pafe-signature]"),n=a.find("[data-pafe-signature-export]");n.trigger("click"),""==e(this).val()&&(e(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(r),o++)}}}),0==o){i.removeClass("active"),i.next().addClass("active");var n=i.next().index();e(this).closest(".pafe-multi-step-form").find(".pafe-multi-step-form__progressbar-item").eq(n).addClass("active");var s=e(this).closest("[data-pafe-multi-step-form-scroll-to-top]");if(s.length>0){var l=e("[data-pafe-break-point-md]").data("pafe-break-point-md"),d=e("[data-pafe-break-point-lg]").data("pafe-break-point-lg"),c=window.innerWidth;c>=d&&e("html, body").animate({scrollTop:s.offset().top-s.data("pafe-multi-step-form-scroll-to-top-offset-desktop")},300),c>=l&&c<d&&e("html, body").animate({scrollTop:s.offset().top-s.data("pafe-multi-step-form-scroll-to-top-offset-tablet")},300),c<l&&e("html, body").animate({scrollTop:s.offset().top-s.data("pafe-multi-step-form-scroll-to-top-offset-mobile")},300)}}}),e(document).on("change","[data-pafe-form-builder-multi-step-form-autonext]",function(){t(e(this))}),e(document).on("click",".image_picker_selector>li>div",function(){e(this).closest(".elementor-field").find("[data-pafe-form-builder-multi-step-form-autonext]").length>0&&t(e(this))}),e(document).on("click",'[data-pafe-form-builder-nav="prev"]',function(){var t=(e(this).data("pafe-form-builder-nav-form-id"),e(this).closest(".pafe-multi-step-form__content-item"));t.removeClass("active"),t.prev().addClass("active");var i=t.index();e(this).closest(".pafe-multi-step-form").find(".pafe-multi-step-form__progressbar-item").eq(i).removeClass("active");var a=e(this).closest("[data-pafe-multi-step-form-scroll-to-top]");if(a.length>0){var r=e("[data-pafe-break-point-md]").data("pafe-break-point-md"),o=e("[data-pafe-break-point-lg]").data("pafe-break-point-lg"),n=window.innerWidth;n>=o&&e("html, body").animate({scrollTop:a.offset().top-a.data("pafe-multi-step-form-scroll-to-top-offset-desktop")},300),n>=r&&n<o&&e("html, body").animate({scrollTop:a.offset().top-a.data("pafe-multi-step-form-scroll-to-top-offset-tablet")},300),n<r&&e("html, body").animate({scrollTop:a.offset().top-a.data("pafe-multi-step-form-scroll-to-top-offset-mobile")},300)}})}),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=r(String(e||"").toLowerCase()))||!e.length)return[];var t,i,a,n,l=[],d=e.split(/ +/);for(t=0,i=d.length;t<i;t++){if(a=o(d[t]),this.settings.diacritics)for(n in s)s.hasOwnProperty(n)&&(a=a.replace(new RegExp(n,"g"),s[n]));l.push({string:d[t],regex:new RegExp(a,"i")})}return l},e.prototype.iterator=function(e,t){var i;i=n(e)?Array.prototype.forEach||function(e){for(var t=0,i=this.length;t<i;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},i.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var i,r,o,n,s;i=this,e=i.prepareSearch(e,t),o=e.tokens,r=e.options.fields,n=o.length,s=e.options.nesting;var l=function(e,t){var i,a;return e?(e=String(e||""),-1===(a=e.search(t.regex))?0:(i=t.string.length/e.length,0===a&&(i+=.5),i)):0},d=function(){var e=r.length;return e?1===e?function(e,t){return l(a(t,r[0],s),e)}:function(t,i){for(var o=0,n=0;o<e;o++)n+=l(a(i,r[o],s),t);return n/e}:function(){return 0}}();return n?1===n?function(e){return d(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,i=0,a=0;i<n;i++){if((t=d(o[i],e))<=0)return 0;a+=t}return a/n}:function(e){for(var t=0,i=0;t<n;t++)i+=d(o[t],e);return i/n}:function(){return 0}},e.prototype.getSortFunction=function(e,i){var r,o,n,s,l,d,c,f,h,p,u;if(n=this,e=n.prepareSearch(e,i),u=!e.query&&i.sort_empty||i.sort,h=function(e,t){return"$score"===e?t.score:a(n.items[t.id],e,i.nesting)},l=[],u)for(r=0,o=u.length;r<o;r++)(e.query||"$score"!==u[r].field)&&l.push(u[r]);if(e.query){for(p=!0,r=0,o=l.length;r<o;r++)if("$score"===l[r].field){p=!1;break}p&&l.unshift({field:"$score",direction:"desc"})}else for(r=0,o=l.length;r<o;r++)if("$score"===l[r].field){l.splice(r,1);break}for(f=[],r=0,o=l.length;r<o;r++)f.push("desc"===l[r].direction?-1:1);return d=l.length,d?1===d?(s=l[0].field,c=f[0],function(e,i){return c*t(h(s,e),h(s,i))}):function(e,i){var a,r,o;for(a=0;a<d;a++)if(o=l[a].field,r=f[a]*t(h(o,e),h(o,i)))return r;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=i({},t);var a=t.fields,r=t.sort,o=t.sort_empty;return a&&!n(a)&&(t.fields=[a]),r&&!n(r)&&(t.sort=[r]),o&&!n(o)&&(t.sort_empty=[o]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var i,a,r,o,n=this;return a=this.prepareSearch(e,t),t=a.options,e=a.query,o=t.score||n.getScoreFunction(a),e.length?n.iterator(n.items,function(e,r){i=o(e),(!1===t.filter||i>0)&&a.items.push({score:i,id:r})}):n.iterator(n.items,function(e,t){a.items.push({score:1,id:t})}),r=n.getSortFunction(a,t),r&&a.items.sort(r),a.total=a.items.length,"number"==typeof t.limit&&(a.items=a.items.slice(0,t.limit)),a};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=l(String(e||"")),t=l(String(t||"")),e>t?1:t>e?-1:0)},i=function(e,t){var i,a,r,o;for(i=1,a=arguments.length;i<a;i++)if(o=arguments[i])for(r in o)o.hasOwnProperty(r)&&(e[r]=o[r]);return e},a=function(e,t,i){if(e&&t){if(!i)return e[t];for(var a=t.split(".");a.length&&(e=e[a.shift()]););return e}},r=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},o=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},n=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},l=function(){var e,t,i,a,r="",o={};for(i in s)if(s.hasOwnProperty(i))for(a=s[i].substring(2,s[i].length-1),r+=a,e=0,t=a.length;e<t;e++)o[a.charAt(e)]=i;var n=new RegExp("["+r+"]","g");return function(e){return e.replace(n,function(e){return o[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var i,a,r,o=this,n=[];if(o.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(i=0,a=e.length;i<a;i++)"string"==typeof e[i]?n.push(e[i]):(o.plugins.settings[e[i].name]=e[i].options,n.push(e[i].name));else if(e)for(r in e)e.hasOwnProperty(r)&&(o.plugins.settings[r]=e[r],n.push(r));for(;n.length;)o.require(n.shift())},e.prototype.loadPlugin=function(t){var i=this,a=i.plugins,r=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');a.requested[t]=!0,a.loaded[t]=r.fn.apply(i,[i.plugins.settings[t]||{}]),a.names.push(t)},e.prototype.require=function(e){var t=this,i=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(i.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return i.loaded[e]},e.define=function(t,i){e.plugins[t]={name:t,fn:i}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,i){"use strict";var a=function(e,t){if("string"!=typeof t||t.length){var i="string"==typeof t?new RegExp(t,"i"):t,a=function(e){var t=0;if(3===e.nodeType){var r=e.data.search(i);if(r>=0&&e.data.length>0){var o=e.data.match(i),n=document.createElement("span");n.className="highlight";var s=e.splitText(r),l=(s.splitText(o[0].length),s.cloneNode(!0));n.appendChild(l),s.parentNode.replaceChild(n,s),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&("highlight"!==e.className||"SPAN"!==e.tagName))for(var d=0;d<e.childNodes.length;++d)d+=a(e.childNodes[d]);return t};return e.each(function(){a(this)})}};e.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()};var r=function(){};r.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(e){for(var t=["on","off","trigger"],i=0;i<t.length;i++)e.prototype[t[i]]=r.prototype[t[i]]};var o=/Mac/.test(navigator.userAgent),n=o?91:17,s=o?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,d=function(e){return void 0!==e},c=function(e){return void 0===e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},f=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},h={};h.before=function(e,t,i){var a=e[t];e[t]=function(){return i.apply(e,arguments),a.apply(e,arguments)}},h.after=function(e,t,i){var a=e[t];e[t]=function(){var t=a.apply(e,arguments);return i.apply(e,arguments),t}};var p=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},u=function(e,t){var i;return function(){var a=this,r=arguments;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(a,r)},t)}},m=function(e,t,i){var a,r=e.trigger,o={};e.trigger=function(){var i=arguments[0];if(-1===t.indexOf(i))return r.apply(e,arguments);o[i]=arguments},i.apply(e,[]),e.trigger=r;for(a in o)o.hasOwnProperty(a)&&r.apply(e,o[a])},g=function(e,t,i,a){e.on(t,i,function(t){for(var i=t.target;i&&i.parentNode!==e[0];)i=i.parentNode;return t.currentTarget=i,a.apply(this,[t])})},v=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var i=document.selection.createRange(),a=document.selection.createRange().text.length;i.moveStart("character",-e.value.length),t.start=i.text.length-a,t.length=a}return t},_=function(e,t,i){var a,r,o={};if(i)for(a=0,r=i.length;a<r;a++)o[i[a]]=e.css(i[a]);else o=e.css();t.css(o)},b=function(t,i){return t?(x.$testInput||(x.$testInput=e("<span />").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).appendTo("body")),x.$testInput.text(t),_(i,x.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),x.$testInput.width()):0},y=function(e){var t=null,i=function(i,a){var r,o,n,s,l,d,c,f;i=i||window.event||{},a=a||{},i.metaKey||i.altKey||(a.force||!1!==e.data("grow"))&&(r=e.val(),i.type&&"keydown"===i.type.toLowerCase()&&(o=i.keyCode,n=o>=48&&o<=57||o>=65&&o<=90||o>=96&&o<=111||o>=186&&o<=222||32===o,46===o||8===o?(f=v(e[0]),f.length?r=r.substring(0,f.start)+r.substring(f.start+f.length):8===o&&f.start?r=r.substring(0,f.start-1)+r.substring(f.start+1):46===o&&void 0!==f.start&&(r=r.substring(0,f.start)+r.substring(f.start+1))):n&&(d=i.shiftKey,c=String.fromCharCode(i.keyCode),c=d?c.toUpperCase():c.toLowerCase(),r+=c)),s=e.attr("placeholder"),!r&&s&&(r=s),(l=b(r,e)+4)!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",i),i()},$=function(e){var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},x=function(i,a){var r,o,n,s,l=this;s=i[0],s.selectize=l;var d=window.getComputedStyle&&window.getComputedStyle(s,null)
;if(n=d?d.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction,n=n||i.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:a,$input:i,tabIndex:i.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(n),eventNS:".selectize"+ ++x.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:i.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===a.loadThrottle?l.onSearchChange:u(l.onSearchChange,a.loadThrottle)}),l.sifter=new t(this.options,{diacritics:a.diacritics}),l.settings.options){for(r=0,o=l.settings.options.length;r<o;r++)l.registerOption(l.settings.options[r]);delete l.settings.options}if(l.settings.optgroups){for(r=0,o=l.settings.optgroups.length;r<o;r++)l.registerOptionGroup(l.settings.optgroups[r]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return r.mixin(x),void 0!==i?i.mixin(x):function(e,t){t||(t={}),console.error("Selectize: Dependency MicroPlugin is missing"),t.explanation&&(console.group&&console.group(),console.error(t.explanation),console.group&&console.groupEnd())}(0,{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),e.extend(x.prototype,{setup:function(){var t,i,a,r,d,c,f,h,p,u,m=this,v=m.settings,_=m.eventNS,b=e(window),$=e(document),x=m.$input;if(f=m.settings.mode,h=x.attr("class")||"",t=e("<div>").addClass(v.wrapperClass).addClass(h).addClass(f),i=e("<div>").addClass(v.inputClass).addClass("items").appendTo(t),a=e('<input type="text" autocomplete="off" />').appendTo(i).attr("tabindex",x.is(":disabled")?"-1":m.tabIndex),c=e(v.dropdownParent||t),r=e("<div>").addClass(v.dropdownClass).addClass(f).hide().appendTo(c),d=e("<div>").addClass(v.dropdownContentClass).appendTo(r),(u=x.attr("id"))&&(a.attr("id",u+"-selectized"),e("label[for='"+u+"']").attr("for",u+"-selectized")),m.settings.copyClassesToDropdown&&r.addClass(h),t.css({width:x[0].style.width}),m.plugins.names.length&&(p="plugin-"+m.plugins.names.join(" plugin-"),t.addClass(p),r.addClass(p)),(null===v.maxItems||v.maxItems>1)&&1===m.tagType&&x.attr("multiple","multiple"),m.settings.placeholder&&a.attr("placeholder",v.placeholder),!m.settings.splitOn&&m.settings.delimiter){var w=m.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");m.settings.splitOn=new RegExp("\\s*"+w+"+\\s*")}x.attr("autocorrect")&&a.attr("autocorrect",x.attr("autocorrect")),x.attr("autocapitalize")&&a.attr("autocapitalize",x.attr("autocapitalize")),a[0].type=x[0].type,m.$wrapper=t,m.$control=i,m.$control_input=a,m.$dropdown=r,m.$dropdown_content=d,r.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",function(e){e.stopImmediatePropagation()}),r.on("mouseenter","[data-selectable]",function(){return m.onOptionHover.apply(m,arguments)}),r.on("mousedown click","[data-selectable]",function(){return m.onOptionSelect.apply(m,arguments)}),g(i,"mousedown","*:not(input)",function(){return m.onItemSelect.apply(m,arguments)}),y(a),i.on({mousedown:function(){return m.onMouseDown.apply(m,arguments)},click:function(){return m.onClick.apply(m,arguments)}}),a.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return m.onKeyDown.apply(m,arguments)},keyup:function(){return m.onKeyUp.apply(m,arguments)},keypress:function(){return m.onKeyPress.apply(m,arguments)},resize:function(){m.positionDropdown.apply(m,[])},blur:function(){return m.onBlur.apply(m,arguments)},focus:function(){return m.ignoreBlur=!1,m.onFocus.apply(m,arguments)},paste:function(){return m.onPaste.apply(m,arguments)}}),$.on("keydown"+_,function(e){m.isCmdDown=e[o?"metaKey":"ctrlKey"],m.isCtrlDown=e[o?"altKey":"ctrlKey"],m.isShiftDown=e.shiftKey}),$.on("keyup"+_,function(e){e.keyCode===s&&(m.isCtrlDown=!1),16===e.keyCode&&(m.isShiftDown=!1),e.keyCode===n&&(m.isCmdDown=!1)}),$.on("mousedown"+_,function(e){if(m.isFocused){if(e.target===m.$dropdown[0]||e.target.parentNode===m.$dropdown[0])return!1;m.$control.has(e.target).length||e.target===m.$control[0]||m.blur(e.target)}}),b.on(["scroll"+_,"resize"+_].join(" "),function(){m.isOpen&&m.positionDropdown.apply(m,arguments)}),b.on("mousemove"+_,function(){m.ignoreHover=!1}),this.revertSettings={$children:x.children().detach(),tabindex:x.attr("tabindex")},x.attr("tabindex",-1).hide().after(m.$wrapper),e.isArray(v.items)&&(m.setValue(v.items),delete v.items),l&&x.on("invalid"+_,function(e){e.preventDefault(),m.isInvalid=!0,m.refreshState()}),m.updateOriginalInput(),m.refreshItems(),m.refreshState(),m.updatePlaceholder(),m.isSetup=!0,x.is(":disabled")&&m.disable(),m.on("change",this.onChange),x.data("selectize",m),x.addClass("selectized"),m.trigger("initialize"),!0===v.preload&&m.onSearchChange("")},setupTemplates:function(){var t=this,i=t.settings.labelField,a=t.settings.optgroupLabelField,r={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[a])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[i])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[i])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},r,t.settings.render)},setupCallbacks:function(){var e,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in i)i.hasOwnProperty(e)&&(t=this.settings[i[e]])&&this.on(e,t)},onClick:function(e){var t=this;t.isFocused&&t.isOpen||(t.focus(),e.preventDefault())},onMouseDown:function(t){var i=this,a=t.isDefaultPrevented();if(e(t.target),i.isFocused){if(t.target!==i.$control_input[0])return"single"===i.settings.mode?i.isOpen?i.close():i.open():a||i.setActiveItem(null),!1}else a||window.setTimeout(function(){i.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var i=this;if(i.isFull()||i.isInputHidden||i.isLocked)return void t.preventDefault();i.settings.splitOn&&setTimeout(function(){var t=i.$control_input.val();if(t.match(i.settings.splitOn))for(var a=e.trim(t).split(i.settings.splitOn),r=0,o=a.length;r<o;r++)i.createItem(a[r])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target,this.$control_input[0],this);if(t.isLocked)return void(9!==e.keyCode&&e.preventDefault());switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var a=t.getAdjacentOption(t.$activeOption,-1);a.length&&t.setActiveOption(a,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case 8:case 46:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(o?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var i=t.$control_input.val()||"";t.lastValue!==i&&(t.lastValue=i,t.onSearchChange(i),t.refreshOptions(),t.trigger("type",i))},onSearchChange:function(e){var t=this,i=t.settings.load;i&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(a){i.apply(t,[e,a])})))},onFocus:function(e){var t=this,i=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),i||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(e);var a=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),t&&t.focus&&t.focus(),i.isBlurring=!1,i.ignoreFocus=!1,i.trigger("blur")};i.isBlurring=!0,i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,a):a()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var i,a,r=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),a=e(t.currentTarget),a.hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):void 0!==(i=a.attr("data-value"))&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(i),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&r.setActiveOption(r.getOption(i)))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,i=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||i.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){m(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,i){var a,r,o,n,s,l,d,c,f=this;if("single"!==f.settings.mode){if(t=e(t),!t.length)return e(f.$activeItems).removeClass("active"),f.$activeItems=[],void(f.isFocused&&f.showInput());if("mousedown"===(a=i&&i.type.toLowerCase())&&f.isShiftDown&&f.$activeItems.length){for(c=f.$control.children(".active:last"),n=Array.prototype.indexOf.apply(f.$control[0].childNodes,[c[0]]),s=Array.prototype.indexOf.apply(f.$control[0].childNodes,[t[0]]),n>s&&(d=n,n=s,s=d),r=n;r<=s;r++)l=f.$control[0].childNodes[r],-1===f.$activeItems.indexOf(l)&&(e(l).addClass("active"),f.$activeItems.push(l));i.preventDefault()}else"mousedown"===a&&f.isCtrlDown||"keydown"===a&&this.isShiftDown?t.hasClass("active")?(o=f.$activeItems.indexOf(t[0]),f.$activeItems.splice(o,1),t.removeClass("active")):f.$activeItems.push(t.addClass("active")[0]):(e(f.$activeItems).removeClass("active"),f.$activeItems=[t.addClass("active")[0]]);f.hideInput(),this.isFocused||f.focus()}},setActiveOption:function(t,i,a){var r,o,n,s,l,c=this;c.$activeOption&&c.$activeOption.removeClass("active"),c.$activeOption=null,t=e(t),t.length&&(c.$activeOption=t.addClass("active"),!i&&d(i)||(r=c.$dropdown_content.height(),o=c.$activeOption.outerHeight(!0),i=c.$dropdown_content.scrollTop()||0,n=c.$activeOption.offset().top-c.$dropdown_content.offset().top+i,s=n,l=n-r+o,n+o>r+i?c.$dropdown_content.stop().animate({scrollTop:l},a?c.settings.scrollDuration:0):n<i&&c.$dropdown_content.stop().animate({scrollTop:s},a?c.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}},search:function(t){var i,a,r,o=this,n=o.settings,s=this.getSearchOptions();if(n.score&&"function"!=typeof(r=o.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==o.lastQuery?(o.lastQuery=t,a=o.sifter.search(t,e.extend(s,{score:r})),o.currentResults=a):a=e.extend(!0,{},o.currentResults),n.hideSelected)for(i=a.items.length-1;i>=0;i--)-1!==o.items.indexOf(c(a.items[i].id))&&a.items.splice(i,1);return a},refreshOptions:function(t){var i,r,o,n,s,l,d,f,h,p,u,m,g,v,_,b;void 0===t&&(t=!0);var y=this,x=e.trim(y.$control_input.val()),w=y.search(x),k=y.$dropdown_content,C=y.$activeOption&&c(y.$activeOption.attr("data-value"));for(n=w.items.length,"number"==typeof y.settings.maxOptions&&(n=Math.min(n,y.settings.maxOptions)),s={},l=[],i=0;i<n;i++)for(d=y.options[w.items[i].id],f=y.render("option",d),h=d[y.settings.optgroupField]||"",p=e.isArray(h)?h:[h],r=0,o=p&&p.length;r<o;r++)h=p[r],y.optgroups.hasOwnProperty(h)||(h=""),s.hasOwnProperty(h)||(s[h]=document.createDocumentFragment(),l.push(h)),s[h].appendChild(f);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){return(y.optgroups[e].$order||0)-(y.optgroups[t].$order||0)}),u=document.createDocumentFragment(),i=0,n=l.length;i<n;i++)h=l[i],y.optgroups.hasOwnProperty(h)&&s[h].childNodes.length?(m=document.createDocumentFragment(),m.appendChild(y.render("optgroup_header",y.optgroups[h])),m.appendChild(s[h]),u.appendChild(y.render("optgroup",e.extend({},y.optgroups[h],{html:$(m),dom:m})))):u.appendChild(s[h]);if(k.html(u),y.settings.highlight&&(k.removeHighlight(),w.query.length&&w.tokens.length))for(i=0,n=w.tokens.length;i<n;i++)a(k,w.tokens[i].regex);if(!y.settings.hideSelected)for(i=0,n=y.items.length;i<n;i++)y.getOption(y.items[i]).addClass("selected");g=y.canCreate(x),g&&(k.prepend(y.render("option_create",{input:x})),b=e(k[0].childNodes[0])),y.hasOptions=w.items.length>0||g,y.hasOptions?(w.items.length>0?(_=C&&y.getOption(C),_&&_.length?v=_:"single"===y.settings.mode&&y.items.length&&(v=y.getOption(y.items[0])),v&&v.length||(v=b&&!y.settings.addPrecedence?y.getAdjacentOption(b,1):k.find("[data-selectable]:first"))):v=b,y.setActiveOption(v),t&&!y.isOpen&&y.open()):(y.setActiveOption(null),t&&y.isOpen&&y.close())},addOption:function(t){var i,a,r,o=this;if(e.isArray(t))for(i=0,a=t.length;i<a;i++)o.addOption(t[i]);else(r=o.registerOption(t))&&(o.userOptions[r]=!0,o.lastQuery=null,o.trigger("option_add",r,t))},registerOption:function(e){var t=c(e[this.settings.valueField]);return void 0!==t&&null!==t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=c(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,i){var a,r,o,n,s,l,d,f=this;if(t=c(t),o=c(i[f.settings.valueField]),null!==t&&f.options.hasOwnProperty(t)){if("string"!=typeof o)throw new Error("Value must be set in option data");d=f.options[t].$order,o!==t&&(delete f.options[t],-1!==(n=f.items.indexOf(t))&&f.items.splice(n,1,o)),i.$order=i.$order||d,f.options[o]=i,s=f.renderCache.item,l=f.renderCache.option,s&&(delete s[t],delete s[o]),l&&(delete l[t],delete l[o]),-1!==f.items.indexOf(o)&&(a=f.getItem(t),r=e(f.render("item",i)),a.hasClass("active")&&r.addClass("active"),a.replaceWith(r)),f.lastQuery=null,f.isOpen&&f.refreshOptions(!1)}},removeOption:function(e,t){var i=this;e=c(e);var a=i.renderCache.item,r=i.renderCache.option;a&&delete a[e],r&&delete r[e],delete i.userOptions[e],delete i.options[e],i.lastQuery=null,i.trigger("option_remove",e),i.removeItem(e,t)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={};var i=t.options;e.each(t.options,function(e,a){-1==t.items.indexOf(e)&&delete i[e]}),t.options=t.sifter.items=i,t.lastQuery=null,t.trigger("option_clear")},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,i){var a=this.$dropdown.find("[data-selectable]"),r=a.index(t)+i;return r>=0&&r<a.length?a.eq(r):e()},getElementWithValue:function(t,i){if(void 0!==(t=c(t))&&null!==t)for(var a=0,r=i.length;a<r;a++)if(i[a].getAttribute("data-value")===t)return e(i[a]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,i){this.buffer=document.createDocumentFragment();for(var a=this.$control[0].childNodes,r=0;r<a.length;r++)this.buffer.appendChild(a[r]);for(var o=e.isArray(t)?t:[t],r=0,n=o.length;r<n;r++)this.isPending=r<n-1,this.addItem(o[r],i);var s=this.$control[0];s.insertBefore(this.buffer,s.firstChild),this.buffer=null},addItem:function(t,i){m(this,i?[]:["change"],function(){var a,r,o,n,s,l=this,d=l.settings.mode;if(t=c(t),-1!==l.items.indexOf(t))return void("single"===d&&l.close());l.options.hasOwnProperty(t)&&("single"===d&&l.clear(i),"multi"===d&&l.isFull()||(a=e(l.render("item",l.options[t])),s=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(a),(!l.isPending||!s&&l.isFull())&&l.refreshState(),l.isSetup&&(o=l.$dropdown_content.find("[data-selectable]"),l.isPending||(r=l.getOption(t),n=l.getAdjacentOption(r,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==d),n&&l.setActiveOption(l.getOption(n))),!o.length||l.isFull()?l.close():l.isPending||l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,a),l.isPending||l.updateOriginalInput({silent:i}))))})},removeItem:function(t,i){var a,r,o,n=this;a=t instanceof e?t:n.getItem(t),t=c(a.attr("data-value")),-1!==(r=n.items.indexOf(t))&&(a.remove(),a.hasClass("active")&&(o=n.$activeItems.indexOf(a[0]),n.$activeItems.splice(o,1)),n.items.splice(r,1),n.lastQuery=null,!n.settings.persist&&n.userOptions.hasOwnProperty(t)&&n.removeOption(t,i),r<n.caretPos&&n.setCaret(n.caretPos-1),n.refreshState(),n.updatePlaceholder(),n.updateOriginalInput({silent:i}),n.positionDropdown(),n.trigger("item_remove",t,a))},createItem:function(t,i){var a=this,r=a.caretPos;t=t||e.trim(a.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof i&&(i=!0),!a.canCreate(t))return o(),!1;a.lock();var n="function"==typeof a.settings.create?this.settings.create:function(e){var t={};return t[a.settings.labelField]=e,t[a.settings.valueField]=e,t},s=p(function(e){if(a.unlock(),!e||"object"!=typeof e)return o();var t=c(e[a.settings.valueField]);if("string"!=typeof t)return o();a.setTextboxValue(""),a.addOption(e),a.setCaret(r),a.addItem(t),a.refreshOptions(i&&"single"!==a.settings.mode),o(e)}),l=n.apply(this,[t,s]);return void 0!==l&&s(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var t=this,i=t.isFull(),a=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",a).toggleClass("full",i).toggleClass("not-full",!i).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!i&&!a)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,i,a,r,o=this;if(e=e||{},1===o.tagType){for(a=[],t=0,i=o.items.length;t<i;t++)r=o.options[o.items[t]][o.settings.labelField]||"",a.push('<option value="'+f(o.items[t])+'" selected="selected">'+f(r)+"</option>");a.length||this.$input.attr("multiple")||a.push('<option value="" selected="selected"></option>'),o.$input.html(a.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(e.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.isBlurring||e.$control_input.blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e[0].getBoundingClientRect().width,top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length),i=e[0],a=this.buffer||this.$control[0];0===t?a.insertBefore(i,a.firstChild):a.insertBefore(i,a.childNodes[t]),this.setCaret(t+1)},deleteSelection:function(t){var i,a,r,o,n,s,l,d,c,f=this;if(r=t&&8===t.keyCode?-1:1,o=v(f.$control_input[0]),f.$activeOption&&!f.settings.hideSelected&&(l=f.getAdjacentOption(f.$activeOption,-1).attr("data-value")),n=[],f.$activeItems.length){for(c=f.$control.children(".active:"+(r>0?"last":"first")),s=f.$control.children(":not(input)").index(c),r>0&&s++,i=0,a=f.$activeItems.length;i<a;i++)n.push(e(f.$activeItems[i]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(f.isFocused||"single"===f.settings.mode)&&f.items.length&&(r<0&&0===o.start&&0===o.length?n.push(f.items[f.caretPos-1]):r>0&&o.start===f.$control_input.val().length&&n.push(f.items[f.caretPos]));if(!n.length||"function"==typeof f.settings.onDelete&&!1===f.settings.onDelete.apply(f,[n]))return!1;for(void 0!==s&&f.setCaret(s);n.length;)f.removeItem(n.pop());return f.showInput(),f.positionDropdown(),f.refreshOptions(!0),l&&(d=f.getOption(l),d.length&&f.setActiveOption(d)),!0},advanceSelection:function(e,t){var i,a,r,o,n,s=this;0!==e&&(s.rtl&&(e*=-1),i=e>0?"last":"first",a=v(s.$control_input[0]),s.isFocused&&!s.isInputHidden?(o=s.$control_input.val().length,(e<0?0===a.start&&0===a.length:a.start===o)&&!o&&s.advanceCaret(e,t)):(n=s.$control.children(".active:"+i),n.length&&(r=s.$control.children(":not(input)").index(n),s.setActiveItem(null),s.setCaret(e>0?r+1:r))))},advanceCaret:function(e,t){var i,a,r=this;0!==e&&(i=e>0?"next":"prev",r.isShiftDown?(a=r.$control_input[i](),a.length&&(r.hideInput(),r.setActiveItem(a),t&&t.preventDefault())):r.setCaret(r.caretPos+e))},setCaret:function(t){var i=this;if(t="single"===i.settings.mode?i.items.length:Math.max(0,Math.min(i.items.length,t)),!i.isPending){var a,r,o,n;for(o=i.$control.children(":not(input)"),a=0,r=o.length;a<r;a++)n=e(o[a]).detach(),a<t?i.$control_input.before(n):i.$control.append(n)}i.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,i=t.eventNS,a=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(a.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:a.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),0==--x.count&&x.$testInput&&(x.$testInput.remove(),x.$testInput=void 0),e(window).off(i),e(document).off(i),e(document.body).off(i),delete t.$input[0].selectize},render:function(t,i){var a,r,o="",n=!1,s=this;return"option"!==t&&"item"!==t||(a=c(i[s.settings.valueField]),n=!!a),n&&(d(s.renderCache[t])||(s.renderCache[t]={}),s.renderCache[t].hasOwnProperty(a))?s.renderCache[t][a]:(o=e(s.settings.render[t].apply(this,[i,f])),"option"===t||"option_create"===t?i[s.settings.disabledField]||o.attr("data-selectable",""):"optgroup"===t&&(r=i[s.settings.optgroupValueField]||"",o.attr("data-group",r),i[s.settings.disabledField]&&o.attr("data-disabled","")),"option"!==t&&"item"!==t||o.attr("data-value",a||""),n&&(s.renderCache[t][a]=o[0]),o[0])},clearCache:function(e){var t=this;void 0===e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var i=t.settings.createFilter;return e.length&&("function"!=typeof i||i.apply(t,[e]))&&("string"!=typeof i||new RegExp(i).test(e))&&(!(i instanceof RegExp)||i.test(e))}}),x.count=0,x.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var i=e.fn.selectize.defaults,a=e.extend({},i,t),r=a.dataAttr,o=a.labelField,n=a.valueField,s=a.disabledField,l=a.optgroupField,d=a.optgroupLabelField,f=a.optgroupValueField,h=function(t,i){var s,l,d,c,f=t.attr(r);if(f)for(i.options=JSON.parse(f),s=0,l=i.options.length;s<l;s++)i.items.push(i.options[s][n]);else{var h=e.trim(t.val()||"");if(!a.allowEmptyOption&&!h.length)return;for(d=h.split(a.delimiter),s=0,l=d.length;s<l;s++)c={},c[o]=d[s],c[n]=d[s],i.options.push(c);i.items=d}},p=function(t,i){var h,p,u,m,g=i.options,v={},_=function(e){var t=r&&e.attr(r);return"string"==typeof t&&t.length?JSON.parse(t):null},b=function(t,r){t=e(t);var d=c(t.val());if(d||a.allowEmptyOption)if(v.hasOwnProperty(d)){if(r){var f=v[d][l];f?e.isArray(f)?f.push(r):v[d][l]=[f,r]:v[d][l]=r}}else{var h=_(t)||{};h[o]=h[o]||t.text(),h[n]=h[n]||d,h[s]=h[s]||t.prop("disabled"),h[l]=h[l]||r,v[d]=h,g.push(h),t.is(":selected")&&i.items.push(d)}};for(i.maxItems=t.attr("multiple")?null:1,m=t.children(),h=0,p=m.length;h<p;h++)u=m[h].tagName.toLowerCase(),"optgroup"===u?function(t){var a,r,o,n,l;for(t=e(t),o=t.attr("label"),o&&(n=_(t)||{},n[d]=o,n[f]=o,n[s]=t.prop("disabled"),i.optgroups.push(n)),l=e("option",t),a=0,r=l.length;a<r;a++)b(l[a],o)}(m[h]):"option"===u&&b(m[h])};return this.each(function(){if(!this.selectize){var r=e(this),o=this.tagName.toLowerCase(),n=r.attr("placeholder")||r.attr("data-placeholder");n||a.allowEmptyOption||(n=r.children('option[value=""]').text());var s={placeholder:n,options:[],optgroups:[],items:[]};"select"===o?p(r,s):h(r,s),new x(r,e.extend(!0,{},i,s,t))}})},e.fn.selectize.defaults=x.defaults,e.fn.selectize.support={validity:l},x.define("drag_drop",function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var i=this;i.lock=function(){var e=i.lock;return function(){var t=i.$control.data("sortable");return t&&t.disable(),e.apply(i,arguments)}}(),i.unlock=function(){var e=i.unlock;return function(){var t=i.$control.data("sortable");return t&&t.enable(),e.apply(i,arguments)}}(),i.setup=function(){var t=i.setup;return function(){t.apply(this,arguments);var a=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),a.css({overflow:"visible"})},stop:function(){a.css({overflow:"hidden"});var t=i.$activeItems?i.$activeItems.slice():null,r=[];a.children("[data-value]").each(function(){r.push(e(this).attr("data-value"))}),i.setValue(r),i.setActiveItem(t)}})}}()}}),x.define("dropdown_header",function(t){var i=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),i.setup=function(){var a=i.setup;return function(){a.apply(i,arguments),i.$dropdown_header=e(t.html(t)),i.$dropdown.prepend(i.$dropdown_header)}}()}),x.define("optgroup_columns",function(t){var i=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,i){var a=t.closest("[data-group]").find("[data-selectable]"),r=a.index(t)+i;return r>=0&&r<a.length?a.eq(r):e()},this.onKeyDown=function(){var e=i.onKeyDown;return function(t){var a,r,o,n;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?e.apply(this,arguments):(i.ignoreHover=!0,n=this.$activeOption.closest("[data-group]"),a=n.find("[data-selectable]").index(this.$activeOption),n=37===t.keyCode?n.prev("[data-group]"):n.next("[data-group]"),o=n.find("[data-selectable]"),r=o.eq(Math.min(o.length-1,a)),void(r.length&&this.setActiveOption(r)))}}()
;var a=function(){var e,t=a.width,i=document;return void 0===t&&(e=i.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,i.body.appendChild(e),t=a.width=e.offsetWidth-e.clientWidth,i.body.removeChild(e)),t},r=function(){var r,o,n,s,l,d,c;if(c=e("[data-group]",i.$dropdown_content),(o=c.length)&&i.$dropdown_content.width()){if(t.equalizeHeight){for(n=0,r=0;r<o;r++)n=Math.max(n,c.eq(r).height());c.css({height:n})}t.equalizeWidth&&(d=i.$dropdown_content.innerWidth()-a(),s=Math.round(d/o),c.css({width:s}),o>1&&(l=d-s*(o-1),c.eq(o-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(h.after(this,"positionDropdown",r),h.after(this,"refreshOptions",r))}),x.define("remove_button",function(t){if(t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t),"single"===this.settings.mode)return void function(t,i){i.className="remove-single";var a=t,r='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+f(i.title)+'">'+i.label+"</a>",o=function(t,i){return e("<span>").append(t).append(i)};t.setup=function(){var n=a.setup;return function(){if(i.append){var s=e(a.$input.context).attr("id"),l=(e("#"+s),a.settings.render.item);a.settings.render.item=function(e){return o(l.apply(t,arguments),r)}}n.apply(t,arguments),t.$control.on("click","."+i.className,function(e){e.preventDefault(),a.isLocked||a.clear()})}}()}(this,t);!function(t,i){var a=t,r='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+f(i.title)+'">'+i.label+"</a>",o=function(e,t){var i=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,i)+t+e.substring(i)};t.setup=function(){var n=a.setup;return function(){if(i.append){var s=a.settings.render.item;a.settings.render.item=function(e){return o(s.apply(t,arguments),r)}}n.apply(t,arguments),t.$control.on("click","."+i.className,function(t){if(t.preventDefault(),!a.isLocked){var i=e(t.currentTarget).parent();a.setActiveItem(i),a.deleteSelection()&&a.setCaret(a.items.length)}})}}()}(this,t)}),x.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var i=t.onKeyDown;return function(t){var a,r;return 8===t.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(a=this.caretPos-1)>=0&&a<this.items.length?(r=this.options[this.items[a]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[r])),this.refreshOptions(!0)),void t.preventDefault()):i.apply(this,arguments)}}()}),x}),jQuery(document).ready(function(e){var t=function(e,t){var i=e.find("[data-pafe-form-builder-select-autocomplete]");i.length&&t.each(i,function(e,i){t(i).selectize({dropdownParent:"body"})})};e(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",t)}),setTimeout(function(){void 0!=elementorFrontend&&void 0!=elementorFrontend.documentsManager&&jQuery.each(elementorFrontend.documentsManager.documents,function(t,i){i.getModal&&i.getModal().on("show",function(){e(".dialog-widget [data-pafe-form-builder-select-autocomplete]").each(function(){var t='[data-id="'+e(this).closest("[data-id]").data("id")+'"]';e(this).selectize({dropdownParent:t})})})})},1e3)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.SignaturePad=t()}(this,function(){"use strict";function e(e,t,i){this.x=e,this.y=t,this.time=i||(new Date).getTime()}function t(e,t,i,a){this.startPoint=e,this.control1=t,this.control2=i,this.endPoint=a}function i(e,t,i){var a,r,o,n=null,s=0;i||(i={});var l=function(){s=!1===i.leading?0:Date.now(),n=null,o=e.apply(a,r),n||(a=r=null)};return function(){var d=Date.now();s||!1!==i.leading||(s=d);var c=t-(d-s);return a=this,r=arguments,c<=0||c>t?(n&&(clearTimeout(n),n=null),s=d,o=e.apply(a,r),n||(a=r=null)):n||!1===i.trailing||(n=setTimeout(l,c)),o}}function a(e,t){var r=this,o=t||{};this.velocityFilterWeight=o.velocityFilterWeight||.7,this.minWidth=o.minWidth||.5,this.maxWidth=o.maxWidth||2.5,this.throttle="throttle"in o?o.throttle:16,this.minDistance="minDistance"in o?o.minDistance:5,this.throttle?this._strokeMoveUpdate=i(a.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=a.prototype._strokeUpdate,this.dotSize=o.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=o.penColor||"black",this.backgroundColor=o.backgroundColor||"rgba(0,0,0,0)",this.onBegin=o.onBegin,this.onEnd=o.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(r._mouseButtonDown=!0,r._strokeBegin(e))},this._handleMouseMove=function(e){r._mouseButtonDown&&r._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&r._mouseButtonDown&&(r._mouseButtonDown=!1,r._strokeEnd(e))},this._handleTouchStart=function(e){if(1===e.targetTouches.length){var t=e.changedTouches[0];r._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];r._strokeMoveUpdate(t)},this._handleTouchEnd=function(e){e.target===r._canvas&&(e.preventDefault(),r._strokeEnd(e))},this.on()}return e.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},e.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},e.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},t.prototype.length=function(){for(var e=0,t=void 0,i=void 0,a=0;a<=10;a+=1){var r=a/10,o=this._point(r,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),n=this._point(r,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(a>0){var s=o-t,l=n-i;e+=Math.sqrt(s*s+l*l)}t=o,i=n}return e},t.prototype._point=function(e,t,i,a,r){return t*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*a*(1-e)*e*e+r*e*e*e},a.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},a.prototype.fromDataURL=function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new Image,r=i.ratio||window.devicePixelRatio||1,o=i.width||this._canvas.width/r,n=i.height||this._canvas.height/r;this._reset(),a.src=e,a.onload=function(){t._ctx.drawImage(a,0,0,o,n)},this._isEmpty=!1},a.prototype.toDataURL=function(e){var t;switch(e){case"image/svg+xml":return this._toSVG();default:for(var i=arguments.length,a=Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];return(t=this._canvas).toDataURL.apply(t,[e].concat(a))}},a.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},a.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},a.prototype.isEmpty=function(){return this._isEmpty},a.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},a.prototype._strokeUpdate=function(e){var t=e.clientX,i=e.clientY,a=this._createPoint(t,i),r=this._data[this._data.length-1],o=r&&r[r.length-1],n=o&&a.distanceTo(o)<this.minDistance;if(!o||!n){var s=this._addPoint(a),l=s.curve,d=s.widths;l&&d&&this._drawCurve(l,d.start,d.end),this._data[this._data.length-1].push({x:a.x,y:a.y,time:a.time,color:this.penColor})}},a.prototype._strokeEnd=function(e){var t=this.points.length>2,i=this.points[0];if(!t&&i&&this._drawDot(i),i){var a=this._data[this._data.length-1],r=a[a.length-1];i.equals(r)||a.push({x:i.x,y:i.y,time:i.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(e)},a.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},a.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},a.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},a.prototype._createPoint=function(t,i,a){var r=this._canvas.getBoundingClientRect();return new e(t-r.left,i-r.top,a||(new Date).getTime())},a.prototype._addPoint=function(e){var i=this.points,a=void 0;if(i.push(e),i.length>2){3===i.length&&i.unshift(i[0]),a=this._calculateCurveControlPoints(i[0],i[1],i[2]);var r=a.c2;a=this._calculateCurveControlPoints(i[1],i[2],i[3]);var o=a.c1,n=new t(i[1],r,o,i[2]),s=this._calculateCurveWidths(n);return i.shift(),{curve:n,widths:s}}return{}},a.prototype._calculateCurveControlPoints=function(t,i,a){var r=t.x-i.x,o=t.y-i.y,n=i.x-a.x,s=i.y-a.y,l={x:(t.x+i.x)/2,y:(t.y+i.y)/2},d={x:(i.x+a.x)/2,y:(i.y+a.y)/2},c=Math.sqrt(r*r+o*o),f=Math.sqrt(n*n+s*s),h=l.x-d.x,p=l.y-d.y,u=f/(c+f),m={x:d.x+h*u,y:d.y+p*u},g=i.x-m.x,v=i.y-m.y;return{c1:new e(l.x+g,l.y+v),c2:new e(d.x+g,d.y+v)}},a.prototype._calculateCurveWidths=function(e){var t=e.startPoint,i=e.endPoint,a={start:null,end:null},r=this.velocityFilterWeight*i.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(r);return a.start=this._lastWidth,a.end=o,this._lastVelocity=r,this._lastWidth=o,a},a.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},a.prototype._drawPoint=function(e,t,i){var a=this._ctx;a.moveTo(e,t),a.arc(e,t,i,0,2*Math.PI,!1),this._isEmpty=!1},a.prototype._drawCurve=function(e,t,i){var a=this._ctx,r=i-t,o=Math.floor(e.length());a.beginPath();for(var n=0;n<o;n+=1){var s=n/o,l=s*s,d=l*s,c=1-s,f=c*c,h=f*c,p=h*e.startPoint.x;p+=3*f*s*e.control1.x,p+=3*c*l*e.control2.x,p+=d*e.endPoint.x;var u=h*e.startPoint.y;u+=3*f*s*e.control1.y,u+=3*c*l*e.control2.y,u+=d*e.endPoint.y;var m=t+d*r;this._drawPoint(p,u,m)}a.closePath(),a.fill()},a.prototype._drawDot=function(e){var t=this._ctx,i="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,i),t.closePath(),t.fill()},a.prototype._fromData=function(t,i,a){for(var r=0;r<t.length;r+=1){var o=t[r];if(o.length>1)for(var n=0;n<o.length;n+=1){var s=o[n],l=new e(s.x,s.y,s.time),d=s.color;if(0===n)this.penColor=d,this._reset(),this._addPoint(l);else if(n!==o.length-1){var c=this._addPoint(l),f=c.curve,h=c.widths;f&&h&&i(f,h,d)}}else this._reset(),a(o[0])}},a.prototype._toSVG=function(){var e=this,t=this._data,i=this._canvas,a=Math.max(window.devicePixelRatio||1,1),r=i.width/a,o=i.height/a,n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"width",i.width),n.setAttributeNS(null,"height",i.height),this._fromData(t,function(e,t,i){var a=document.createElement("path");if(!(isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y))){var r="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3);a.setAttribute("d",r),a.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),a.setAttribute("stroke",i),a.setAttribute("fill","none"),a.setAttribute("stroke-linecap","round"),n.appendChild(a)}},function(t){var i=document.createElement("circle"),a="function"==typeof e.dotSize?e.dotSize():e.dotSize;i.setAttribute("r",a),i.setAttribute("cx",t.x),i.setAttribute("cy",t.y),i.setAttribute("fill",t.color),n.appendChild(i)});var s='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+r+" "+o+'" width="'+r+'" height="'+o+'">',l=n.innerHTML;if(void 0===l){var d=document.createElement("dummy"),c=n.childNodes;d.innerHTML="";for(var f=0;f<c.length;f+=1)d.appendChild(c[f].cloneNode(!0));l=d.innerHTML}var h=s+l+"</svg>";return"data:image/svg+xml;base64,"+btoa(h)},a.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,function(e,i){return t._drawCurve(e,i.start,i.end)},function(e){return t._drawDot(e)}),this._data=e},a.prototype.toData=function(){return this._data},a});var signaturePad;!function(e){var t=function(e,t){var i=e.find("[data-pafe-signature] canvas");i.length&&t.each(i,function(e,i){var a=new SignaturePad(i),r=t(i).closest("[data-pafe-signature]"),o=r.find("[data-pafe-signature-clear]"),n=r.find("[data-pafe-signature-export]");o.click(function(){a.clear()}),n.click(function(){if(a.isEmpty())r.find(".elementor-field").val("");else{var e=a.toDataURL();r.find(".elementor-field").val(e)}})})};e(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",t)})}(jQuery),jQuery(document).ready(function(e){function t(){e("[data-pafe-signature] canvas").each(function(){var t=parseInt(e(this).css("max-width").replace("px","")),i=parseInt(e(this).css("height").replace("px","")),a=parseInt(e(this).closest("[data-pafe-signature]").css("width").replace("px",""));t>a?e(this).attr("width",a):e(this).attr("width",t),e(this).attr("height",i)})}t(),e(window).on("resize",function(){t()})}),jQuery(document).ready(function(e){});