!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipe=e()}(this,function(){"use strict";return function(t,e,i,n){var o={features:null,bind:function(t,e,i,n){var o=(n?"remove":"add")+"EventListener";e=e.split(" ");for(var r=0;r<e.length;r++)e[r]&&t[o](e[r],i,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){var i=document.createElement(e||"div");return t&&(i.className=t),i},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,i){o.bind(t,e,i,!0)},removeClass:function(t,e){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(t,e){o.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},hasClass:function(t,e){return t.className&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},getChildByClass:function(t,e){for(var i=t.firstChild;i;){if(o.hasClass(i,e))return i;i=i.nextSibling}},arraySearch:function(t,e,i){for(var n=t.length;n--;)if(t[n][i]===e)return n;return-1},extend:function(t,e,i){for(var n in e)if(e.hasOwnProperty(n)){if(i&&t.hasOwnProperty(n))continue;t[n]=e[n]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(o.features)return o.features;var t=o.createEl(),e=t.style,i="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!n.pointerEvent){var r=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);a&&a.length>0&&(a=parseInt(a[1],10))>=1&&a<8&&(n.isOldIOSPhone=!0)}var s=r.match(/Android\s([0-9\.]*)/),l=s?s[1]:0;l=parseFloat(l),l>=1&&(l<4.4&&(n.isOldAndroid=!0),n.androidVersion=l),n.isMobileOpera=/opera mini|opera mobi/i.test(r)}for(var u,c,d=["transform","perspective","animationName"],h=["","webkit","Moz","ms","O"],f=0;f<4;f++){i=h[f];for(var m=0;m<3;m++)u=d[m],c=i+(i?u.charAt(0).toUpperCase()+u.slice(1):u),!n[u]&&c in e&&(n[u]=c);i&&!n.raf&&(i=i.toLowerCase(),n.raf=window[i+"RequestAnimationFrame"],n.raf&&(n.caf=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]))}if(!n.raf){var p=0;n.raf=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-p)),n=window.setTimeout(function(){t(e+i)},i);return p=e+i,n},n.caf=function(t){clearTimeout(t)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=n,n}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(t,e,i,n){e=e.split(" ");for(var o,r=(n?"detach":"attach")+"Event",a=function(){i.handleEvent.call(i)},s=0;s<e.length;s++)if(o=e[s])if("object"==typeof i&&i.handleEvent){if(n){if(!i["oldIE"+o])return!1}else i["oldIE"+o]=a;t[r]("on"+o,i["oldIE"+o])}else t[r]("on"+o,i)});var r=this,a={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(t){return"A"===t.tagName},getDoubleTapZoom:function(t,e){return t?1:e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(a,n);var s,l,u,c,d,h,f,m,p,g,y,v,x,b,w,E,I,C,_,T,S,z,k,O,D,L,M,A,R,P,W,F,B,Z,N,j,H,q,Y,U,G,Q,V,X,$,K,J,tt,et,it,nt,ot,rt,at,st,lt,ut,ct=function(){return{x:0,y:0}},dt=ct(),ht=ct(),ft=ct(),mt={},pt=0,gt={},yt=ct(),vt=0,xt=!0,bt=[],wt={},Et=!1,It=function(t,e){o.extend(r,e.publicMethods),bt.push(t)},Ct=function(t){var e=Xe();return t>e-1?t-e:t<0?e+t:t},_t={},Tt=function(t,e){return _t[t]||(_t[t]=[]),_t[t].push(e)},St=function(t){var e=_t[t];if(e){var i=Array.prototype.slice.call(arguments);i.shift();for(var n=0;n<e.length;n++)e[n].apply(r,i)}},zt=function(){return(new Date).getTime()},kt=function(t){st=t,r.bg.style.opacity=t*a.bgOpacity},Ot=function(t,e,i,n,o){(!Et||o&&o!==r.currItem)&&(n/=o?o.fitRatio:r.currItem.fitRatio),t[z]=v+e+"px, "+i+"px"+x+" scale("+n+")"},Dt=function(t){it&&(t&&(g>r.currItem.fitRatio?Et||(li(r.currItem,!1,!0),Et=!0):Et&&(li(r.currItem),Et=!1)),Ot(it,ft.x,ft.y,g))},Lt=function(t){t.container&&Ot(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel,t)},Mt=function(t,e){e[z]=v+t+"px, 0px"+x},At=function(t,e){if(!a.loop&&e){var i=c+(yt.x*pt-t)/yt.x,n=Math.round(t-pe.x);(i<0&&n>0||i>=Xe()-1&&n<0)&&(t=pe.x+n*a.mainScrollEndFriction)}pe.x=t,Mt(t,d)},Rt=function(t,e){var i=ge[t]-gt[t];return ht[t]+dt[t]+i-i*(e/y)},Pt=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},Wt=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y)},Ft=null,Bt=function(){Ft&&(o.unbind(document,"mousemove",Bt),o.addClass(t,"pswp--has_mouse"),a.mouseUsed=!0,St("mouseUsed")),Ft=setTimeout(function(){Ft=null},100)},Zt=function(){o.bind(document,"keydown",r),W.transform&&o.bind(r.scrollWrap,"click",r),a.mouseUsed||o.bind(document,"mousemove",Bt),o.bind(window,"resize scroll orientationchange",r),St("bindEvents")},Nt=function(){o.unbind(window,"resize scroll orientationchange",r),o.unbind(window,"scroll",p.scroll),o.unbind(document,"keydown",r),o.unbind(document,"mousemove",Bt),W.transform&&o.unbind(r.scrollWrap,"click",r),Y&&o.unbind(window,f,r),clearTimeout(F),St("unbindEvents")},jt=function(t,e){var i=oi(r.currItem,mt,t);return e&&(et=i),i},Ht=function(t){return t||(t=r.currItem),t.initialZoomLevel},qt=function(t){return t||(t=r.currItem),t.w>0?a.maxSpreadZoom:1},Yt=function(t,e,i,n){return n===r.currItem.initialZoomLevel?(i[t]=r.currItem.initialPosition[t],!0):(i[t]=Rt(t,n),i[t]>e.min[t]?(i[t]=e.min[t],!0):i[t]<e.max[t]&&(i[t]=e.max[t],!0))},Ut=function(){if(z){var e=W.perspective&&!O;return v="translate"+(e?"3d(":"("),void(x=W.perspective?", 0px)":")")}z="left",o.addClass(t,"pswp--ie"),Mt=function(t,e){e.left=t+"px"},Lt=function(t){var e=t.fitRatio>1?1:t.fitRatio,i=t.container.style,n=e*t.w,o=e*t.h;i.width=n+"px",i.height=o+"px",i.left=t.initialPosition.x+"px",i.top=t.initialPosition.y+"px"},Dt=function(){if(it){var t=it,e=r.currItem,i=e.fitRatio>1?1:e.fitRatio,n=i*e.w,o=i*e.h;t.width=n+"px",t.height=o+"px",t.left=ft.x+"px",t.top=ft.y+"px"}}},Gt=function(t){var e="";a.escKey&&27===t.keyCode?e="close":a.arrowKeys&&(37===t.keyCode?e="prev":39===t.keyCode&&(e="next")),e&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,r[e]()))},Qt=function(t){t&&(Q||G||nt||H)&&(t.preventDefault(),t.stopPropagation())},Vt=function(){r.setScrollOffset(0,o.getScrollY())},Xt={},$t=0,Kt=function(t){Xt[t]&&(Xt[t].raf&&L(Xt[t].raf),$t--,delete Xt[t])},Jt=function(t){Xt[t]&&Kt(t),Xt[t]||($t++,Xt[t]={})},te=function(){for(var t in Xt)Xt.hasOwnProperty(t)&&Kt(t)},ee=function(t,e,i,n,o,r,a){var s,l=zt();Jt(t);var u=function(){if(Xt[t]){if((s=zt()-l)>=n)return Kt(t),r(i),void(a&&a());r((i-e)*o(s/n)+e),Xt[t].raf=D(u)}};u()},ie={shout:St,listen:Tt,viewportSize:mt,options:a,isMainScrollAnimating:function(){return nt},getZoomLevel:function(){return g},getCurrentIndex:function(){return c},isDragging:function(){return Y},isZooming:function(){return K},setScrollOffset:function(t,e){gt.x=t,P=gt.y=e,St("updateScrollOffset",gt)},applyZoomPan:function(t,e,i,n){ft.x=e,ft.y=i,g=t,Dt(n)},init:function(){if(!s&&!l){var i;r.framework=o,r.template=t,r.bg=o.getChildByClass(t,"pswp__bg"),M=t.className,s=!0,W=o.detectFeatures(),D=W.raf,L=W.caf,z=W.transform,R=W.oldIE,r.scrollWrap=o.getChildByClass(t,"pswp__scroll-wrap"),r.container=o.getChildByClass(r.scrollWrap,"pswp__container"),d=r.container.style,r.itemHolders=E=[{el:r.container.children[0],wrap:0,index:-1},{el:r.container.children[1],wrap:0,index:-1},{el:r.container.children[2],wrap:0,index:-1}],E[0].el.style.display=E[2].el.style.display="none",Ut(),p={resize:r.updateSize,orientationchange:function(){clearTimeout(F),F=setTimeout(function(){mt.x!==r.scrollWrap.clientWidth&&r.updateSize()},500)},scroll:Vt,keydown:Gt,click:Qt};var n=W.isOldIOSPhone||W.isOldAndroid||W.isMobileOpera;for(W.animationName&&W.transform&&!n||(a.showAnimationDuration=a.hideAnimationDuration=0),i=0;i<bt.length;i++)r["init"+bt[i]]();if(e){(r.ui=new e(r,o)).init()}St("firstUpdate"),c=c||a.index||0,(isNaN(c)||c<0||c>=Xe())&&(c=0),r.currItem=Ve(c),(W.isOldIOSPhone||W.isOldAndroid)&&(xt=!1),t.setAttribute("aria-hidden","false"),a.modal&&(xt?t.style.position="fixed":(t.style.position="absolute",t.style.top=o.getScrollY()+"px")),void 0===P&&(St("initialLayout"),P=A=o.getScrollY());var u="pswp--open ";for(a.mainClass&&(u+=a.mainClass+" "),a.showHideOpacity&&(u+="pswp--animate_opacity "),u+=O?"pswp--touch":"pswp--notouch",u+=W.animationName?" pswp--css_animation":"",u+=W.svg?" pswp--svg":"",o.addClass(t,u),r.updateSize(),h=-1,vt=null,i=0;i<3;i++)Mt((i+h)*yt.x,E[i].el.style);R||o.bind(r.scrollWrap,m,r),Tt("initialZoomInEnd",function(){r.setContent(E[0],c-1),r.setContent(E[2],c+1),E[0].el.style.display=E[2].el.style.display="block",a.focus&&t.focus(),Zt()}),r.setContent(E[1],c),r.updateCurrItem(),St("afterInit"),xt||(b=setInterval(function(){$t||Y||K||g!==r.currItem.initialZoomLevel||r.updateSize()},1e3)),o.addClass(t,"pswp--visible")}},close:function(){s&&(s=!1,l=!0,St("close"),Nt(),Ke(r.currItem,null,!0,r.destroy))},destroy:function(){St("destroy"),Ye&&clearTimeout(Ye),t.setAttribute("aria-hidden","true"),t.className=M,b&&clearInterval(b),o.unbind(r.scrollWrap,m,r),o.unbind(window,"scroll",r),we(),te(),_t=null},panTo:function(t,e,i){i||(t>et.min.x?t=et.min.x:t<et.max.x&&(t=et.max.x),e>et.min.y?e=et.min.y:e<et.max.y&&(e=et.max.y)),ft.x=t,ft.y=e,Dt()},handleEvent:function(t){t=t||window.event,p[t.type]&&p[t.type](t)},goTo:function(t){t=Ct(t);var e=t-c;vt=e,c=t,r.currItem=Ve(c),pt-=e,At(yt.x*pt),te(),nt=!1,r.updateCurrItem()},next:function(){r.goTo(c+1)},prev:function(){r.goTo(c-1)},updateCurrZoomItem:function(t){if(t&&St("beforeChange",0),E[1].el.children.length){var e=E[1].el.children[0];it=o.hasClass(e,"pswp__zoom-wrap")?e.style:null}else it=null;et=r.currItem.bounds,y=g=r.currItem.initialZoomLevel,ft.x=et.center.x,ft.y=et.center.y,t&&St("afterChange")},invalidateCurrItems:function(){w=!0;for(var t=0;t<3;t++)E[t].item&&(E[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==vt){var e,i=Math.abs(vt);if(!(t&&i<2)){r.currItem=Ve(c),Et=!1,St("beforeChange",vt),i>=3&&(h+=vt+(vt>0?-3:3),i=3);for(var n=0;n<i;n++)vt>0?(e=E.shift(),E[2]=e,h++,Mt((h+2)*yt.x,e.el.style),r.setContent(e,c-i+n+1+1)):(e=E.pop(),E.unshift(e),h--,Mt(h*yt.x,e.el.style),r.setContent(e,c+i-n-1-1));if(it&&1===Math.abs(vt)){var o=Ve(I);o.initialZoomLevel!==g&&(oi(o,mt),li(o),Lt(o))}vt=0,r.updateCurrZoomItem(),I=c,St("afterChange")}}},updateSize:function(e){if(!xt&&a.modal){var i=o.getScrollY();if(P!==i&&(t.style.top=i+"px",P=i),!e&&wt.x===window.innerWidth&&wt.y===window.innerHeight)return;wt.x=window.innerWidth,wt.y=window.innerHeight,t.style.height=wt.y+"px"}if(mt.x=r.scrollWrap.clientWidth,mt.y=r.scrollWrap.clientHeight,Vt(),yt.x=mt.x+Math.round(mt.x*a.spacing),yt.y=mt.y,At(yt.x*pt),St("beforeResize"),void 0!==h){for(var n,s,l,u=0;u<3;u++)n=E[u],Mt((u+h)*yt.x,n.el.style),l=c+u-1,a.loop&&Xe()>2&&(l=Ct(l)),s=Ve(l),s&&(w||s.needsUpdate||!s.bounds)?(r.cleanSlide(s),r.setContent(n,l),1===u&&(r.currItem=s,r.updateCurrZoomItem(!0)),s.needsUpdate=!1):-1===n.index&&l>=0&&r.setContent(n,l),s&&s.container&&(oi(s,mt),li(s),Lt(s));w=!1}y=g=r.currItem.initialZoomLevel,et=r.currItem.bounds,et&&(ft.x=et.center.x,ft.y=et.center.y,Dt(!0)),St("resize")},zoomTo:function(t,e,i,n,r){e&&(y=g,ge.x=Math.abs(e.x)-ft.x,ge.y=Math.abs(e.y)-ft.y,Pt(ht,ft));var a=jt(t,!1),s={};Yt("x",a,s,t),Yt("y",a,s,t);var l=g,u={x:ft.x,y:ft.y};Wt(s);var c=function(e){1===e?(g=t,ft.x=s.x,ft.y=s.y):(g=(t-l)*e+l,ft.x=(s.x-u.x)*e+u.x,ft.y=(s.y-u.y)*e+u.y),r&&r(e),Dt(1===e)};i?ee("customZoomTo",0,1,i,n||o.easing.sine.inOut,c):c(1)}},ne={},oe={},re={},ae={},se={},le=[],ue={},ce=[],de={},he=0,fe=ct(),me=0,pe=ct(),ge=ct(),ye=ct(),ve=function(t,e){return t.x===e.x&&t.y===e.y},xe=function(t,e){return Math.abs(t.x-e.x)<25&&Math.abs(t.y-e.y)<25},be=function(t,e){return de.x=Math.abs(t.x-e.x),de.y=Math.abs(t.y-e.y),Math.sqrt(de.x*de.x+de.y*de.y)},we=function(){V&&(L(V),V=null)},Ee=function(){Y&&(V=D(Ee),Fe())},Ie=function(){return!("fit"===a.scaleMode&&g===r.currItem.initialZoomLevel)},Ce=function(t,e){return!(!t||t===document)&&!(t.getAttribute("class")&&t.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(e(t)?t:Ce(t.parentNode,e))},_e={},Te=function(t,e){return _e.prevent=!Ce(t.target,a.isClickableElement),St("preventDragEvent",t,e,_e),_e.prevent},Se=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},ze=function(t,e,i){i.x=.5*(t.x+e.x),i.y=.5*(t.y+e.y)},ke=function(t,e,i){if(t-Z>50){var n=ce.length>2?ce.shift():{};n.x=e,n.y=i,ce.push(n),Z=t}},Oe=function(){var t=ft.y-r.currItem.initialPosition.y;return 1-Math.abs(t/(mt.y/2))},De={},Le={},Me=[],Ae=function(t){for(;Me.length>0;)Me.pop();return k?(ut=0,le.forEach(function(t){0===ut?Me[0]=t:1===ut&&(Me[1]=t),ut++})):t.type.indexOf("touch")>-1?t.touches&&t.touches.length>0&&(Me[0]=Se(t.touches[0],De),t.touches.length>1&&(Me[1]=Se(t.touches[1],Le))):(De.x=t.pageX,De.y=t.pageY,De.id="",Me[0]=De),Me},Re=function(t,e){var i,n,o,s,l=ft[t]+e[t],u=e[t]>0,c=pe.x+e.x,d=pe.x-ue.x;return i=l>et.min[t]||l<et.max[t]?a.panEndFriction:1,l=ft[t]+e[t]*i,!a.allowPanToNext&&g!==r.currItem.initialZoomLevel||(it?"h"!==ot||"x"!==t||G||(u?(l>et.min[t]&&(i=a.panEndFriction,et.min[t]-l,n=et.min[t]-ht[t]),(n<=0||d<0)&&Xe()>1?(s=c,d<0&&c>ue.x&&(s=ue.x)):et.min.x!==et.max.x&&(o=l)):(l<et.max[t]&&(i=a.panEndFriction,l-et.max[t],n=ht[t]-et.max[t]),(n<=0||d>0)&&Xe()>1?(s=c,d>0&&c<ue.x&&(s=ue.x)):et.min.x!==et.max.x&&(o=l))):s=c,"x"!==t)?void(nt||X||g>r.currItem.fitRatio&&(ft[t]+=e[t]*i)):(void 0!==s&&(At(s,!0),X=s!==ue.x),et.min.x!==et.max.x&&(void 0!==o?ft.x=o:X||(ft.x+=e.x*i)),void 0!==s)},Pe=function(t){if(!("mousedown"===t.type&&t.button>0)){if(Qe)return void t.preventDefault();if(!q||"mousedown"!==t.type){if(Te(t,!0)&&t.preventDefault(),St("pointerDown"),k){var e=o.arraySearch(le,t.pointerId,"id");e<0&&(e=le.length),le[e]={x:t.pageX,y:t.pageY,id:t.pointerId}}var i=Ae(t),n=i.length;$=null,te(),Y&&1!==n||(Y=rt=!0,o.bind(window,f,r),j=lt=at=H=X=Q=U=G=!1,ot=null,St("firstTouchStart",i),Pt(ht,ft),dt.x=dt.y=0,Pt(ae,i[0]),Pt(se,ae),ue.x=yt.x*pt,ce=[{x:ae.x,y:ae.y}],Z=B=zt(),jt(g,!0),we(),Ee()),!K&&n>1&&!nt&&!X&&(y=g,G=!1,K=U=!0,dt.y=dt.x=0,Pt(ht,ft),Pt(ne,i[0]),Pt(oe,i[1]),ze(ne,oe,ye),ge.x=Math.abs(ye.x)-ft.x,ge.y=Math.abs(ye.y)-ft.y,J=tt=be(ne,oe))}}},We=function(t){if(t.preventDefault(),k){var e=o.arraySearch(le,t.pointerId,"id");if(e>-1){var i=le[e];i.x=t.pageX,i.y=t.pageY}}if(Y){var n=Ae(t);if(ot||Q||K)$=n;else if(pe.x!==yt.x*pt)ot="h";else{var r=Math.abs(n[0].x-ae.x)-Math.abs(n[0].y-ae.y);Math.abs(r)>=10&&(ot=r>0?"h":"v",$=n)}}},Fe=function(){if($){var t=$.length;if(0!==t)if(Pt(ne,$[0]),re.x=ne.x-ae.x,re.y=ne.y-ae.y,K&&t>1){if(ae.x=ne.x,ae.y=ne.y,!re.x&&!re.y&&ve($[1],oe))return;Pt(oe,$[1]),G||(G=!0,St("zoomGestureStarted"));var e=be(ne,oe),i=He(e);i>r.currItem.initialZoomLevel+r.currItem.initialZoomLevel/15&&(lt=!0);var n=1,o=Ht(),s=qt();if(i<o)if(a.pinchToClose&&!lt&&y<=r.currItem.initialZoomLevel){var l=o-i,u=1-l/(o/1.2);kt(u),St("onPinchClose",u),at=!0}else n=(o-i)/o,n>1&&(n=1),i=o-n*(o/3);else i>s&&(n=(i-s)/(6*o),n>1&&(n=1),i=s+n*o);n<0&&(n=0),J=e,ze(ne,oe,fe),dt.x+=fe.x-ye.x,dt.y+=fe.y-ye.y,Pt(ye,fe),ft.x=Rt("x",i),ft.y=Rt("y",i),j=i>g,g=i,Dt()}else{if(!ot)return;if(rt&&(rt=!1,Math.abs(re.x)>=10&&(re.x-=$[0].x-se.x),Math.abs(re.y)>=10&&(re.y-=$[0].y-se.y)),ae.x=ne.x,ae.y=ne.y,0===re.x&&0===re.y)return;if("v"===ot&&a.closeOnVerticalDrag&&!Ie()){dt.y+=re.y,ft.y+=re.y;var c=Oe();return H=!0,St("onVerticalDrag",c),kt(c),void Dt()}ke(zt(),ne.x,ne.y),Q=!0,et=r.currItem.bounds;var d=Re("x",re);d||(Re("y",re),Wt(ft),Dt())}}},Be=function(t){if(W.isOldAndroid){if(q&&"mouseup"===t.type)return;t.type.indexOf("touch")>-1&&(clearTimeout(q),q=setTimeout(function(){q=0},600))}St("pointerUp"),Te(t,!1)&&t.preventDefault();var e;if(k){var i=o.arraySearch(le,t.pointerId,"id");if(i>-1)if(e=le.splice(i,1)[0],navigator.pointerEnabled)e.type=t.pointerType||"mouse";else{var n={4:"mouse",2:"touch",3:"pen"};e.type=n[t.pointerType],e.type||(e.type=t.pointerType||"mouse")}}var s,l=Ae(t),u=l.length;if("mouseup"===t.type&&(u=0),2===u)return $=null,!0;1===u&&Pt(se,l[0]),0!==u||ot||nt||(e||("mouseup"===t.type?e={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(e={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),St("touchRelease",t,e));var c=-1;if(0===u&&(Y=!1,o.unbind(window,f,r),we(),K?c=0:-1!==me&&(c=zt()-me)),me=1===u?zt():-1,s=-1!==c&&c<150?"zoom":"swipe",K&&u<2&&(K=!1,1===u&&(s="zoomPointerUp"),St("zoomGestureEnded")),$=null,Q||G||nt||H)if(te(),N||(N=Ze()),N.calculateSwipeSpeed("x"),H){var d=Oe();if(d<a.verticalDragRange)r.close();else{var h=ft.y,m=st;ee("verticalDrag",0,1,300,o.easing.cubic.out,function(t){ft.y=(r.currItem.initialPosition.y-h)*t+h,kt((1-m)*t+m),Dt()}),St("onVerticalDrag",1)}}else{if((X||nt)&&0===u){var p=je(s,N);if(p)return;s="zoomPointerUp"}if(!nt)return"swipe"!==s?void qe():void(!X&&g>r.currItem.fitRatio&&Ne(N))}},Ze=function(){var t,e,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(n){ce.length>1?(t=zt()-Z+50,e=ce[ce.length-2][n]):(t=zt()-B,e=se[n]),i.lastFlickOffset[n]=ae[n]-e,i.lastFlickDist[n]=Math.abs(i.lastFlickOffset[n]),i.lastFlickDist[n]>20?i.lastFlickSpeed[n]=i.lastFlickOffset[n]/t:i.lastFlickSpeed[n]=0,Math.abs(i.lastFlickSpeed[n])<.1&&(i.lastFlickSpeed[n]=0),i.slowDownRatio[n]=.95,i.slowDownRatioReverse[n]=1-i.slowDownRatio[n],i.speedDecelerationRatio[n]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(ft[t]>et.min[t]?i.backAnimDestination[t]=et.min[t]:ft[t]<et.max[t]&&(i.backAnimDestination[t]=et.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,ee("bounceZoomPan"+t,ft[t],i.backAnimDestination[t],e||300,o.easing.sine.out,function(e){ft[t]=e,Dt()}))))},calculateAnimOffset:function(t){i.backAnimStarted[t]||(i.speedDecelerationRatio[t]=i.speedDecelerationRatio[t]*(i.slowDownRatio[t]+i.slowDownRatioReverse[t]-i.slowDownRatioReverse[t]*i.timeDiff/10),i.speedDecelerationRatioAbs[t]=Math.abs(i.lastFlickSpeed[t]*i.speedDecelerationRatio[t]),i.distanceOffset[t]=i.lastFlickSpeed[t]*i.speedDecelerationRatio[t]*i.timeDiff,ft[t]+=i.distanceOffset[t])},panAnimLoop:function(){if(Xt.zoomPan&&(Xt.zoomPan.raf=D(i.panAnimLoop),i.now=zt(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),Dt(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05))return ft.x=Math.round(ft.x),ft.y=Math.round(ft.y),Dt(),void Kt("zoomPan")}};return i},Ne=function(t){return t.calculateSwipeSpeed("y"),et=r.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},Math.abs(t.lastFlickSpeed.x)<=.05&&Math.abs(t.lastFlickSpeed.y)<=.05?(t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0):(Jt("zoomPan"),t.lastNow=zt(),void t.panAnimLoop())},je=function(t,e){var i;nt||(he=c);var n;if("swipe"===t){var s=ae.x-se.x,l=e.lastFlickDist.x<10;s>30&&(l||e.lastFlickOffset.x>20)?n=-1:s<-30&&(l||e.lastFlickOffset.x<-20)&&(n=1)}var u;n&&(c+=n,c<0?(c=a.loop?Xe()-1:0,u=!0):c>=Xe()&&(c=a.loop?0:Xe()-1,u=!0),u&&!a.loop||(vt+=n,pt-=n,i=!0));var d,h=yt.x*pt,f=Math.abs(h-pe.x);return i||h>pe.x==e.lastFlickSpeed.x>0?(d=Math.abs(e.lastFlickSpeed.x)>0?f/Math.abs(e.lastFlickSpeed.x):333,d=Math.min(d,400),d=Math.max(d,250)):d=333,he===c&&(i=!1),nt=!0,St("mainScrollAnimStart"),ee("mainScroll",pe.x,h,d,o.easing.cubic.out,At,function(){te(),nt=!1,he=-1,(i||he!==c)&&r.updateCurrItem(),St("mainScrollAnimComplete")}),i&&r.updateCurrItem(!0),i},He=function(t){return 1/tt*t*y},qe=function(){var t=g,e=Ht(),i=qt();g<e?t=e:g>i&&(t=i);var n,a=st;return at&&!j&&!lt&&g<e?(r.close(),!0):(at&&(n=function(t){kt((1-a)*t+a)}),r.zoomTo(t,0,200,o.easing.cubic.out,n),!0)};It("Gestures",{publicMethods:{initGestures:function(){var t=function(t,e,i,n,o){C=t+e,_=t+i,T=t+n,S=o?t+o:""};k=W.pointerEvent,k&&W.touch&&(W.touch=!1),k?navigator.pointerEnabled?t("pointer","down","move","up","cancel"):t("MSPointer","Down","Move","Up","Cancel"):W.touch?(t("touch","start","move","end","cancel"),O=!0):t("mouse","down","move","up"),f=_+" "+T+" "+S,m=C,k&&!O&&(O=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),r.likelyTouchDevice=O,p[C]=Pe,p[_]=We,p[T]=Be,S&&(p[S]=p[T]),W.touch&&(m+=" mousedown",f+=" mousemove mouseup",p.mousedown=p[C],p.mousemove=p[_],p.mouseup=p[T]),O||(a.allowPanToNext=!1)}}});var Ye,Ue,Ge,Qe,Ve,Xe,$e,Ke=function(e,i,n,s){Ye&&clearTimeout(Ye),Qe=!0,Ge=!0;var l;e.initialLayout?(l=e.initialLayout,e.initialLayout=null):l=a.getThumbBoundsFn&&a.getThumbBoundsFn(c);var d=n?a.hideAnimationDuration:a.showAnimationDuration,h=function(){Kt("initialZoom"),n?(r.template.removeAttribute("style"),r.bg.removeAttribute("style")):(kt(1),i&&(i.style.display="block"),o.addClass(t,"pswp--animated-in"),St("initialZoom"+(n?"OutEnd":"InEnd"))),s&&s(),Qe=!1};if(!d||!l||void 0===l.x)return St("initialZoom"+(n?"Out":"In")),g=e.initialZoomLevel,Pt(ft,e.initialPosition),Dt(),t.style.opacity=n?0:1,kt(1),void(d?setTimeout(function(){h()},d):h());!function(){var i=u,s=!r.currItem.src||r.currItem.loadError||a.showHideOpacity;e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility="hidden"),n||(g=l.w/e.w,ft.x=l.x,ft.y=l.y-A,r[s?"template":"bg"].style.opacity=.001,Dt()),Jt("initialZoom"),n&&!i&&o.removeClass(t,"pswp--animated-in"),s&&(n?o[(i?"remove":"add")+"Class"](t,"pswp--animate_opacity"):setTimeout(function(){o.addClass(t,"pswp--animate_opacity")},30)),Ye=setTimeout(function(){if(St("initialZoom"+(n?"Out":"In")),n){var r=l.w/e.w,a={x:ft.x,y:ft.y},u=g,c=st,f=function(e){1===e?(g=r,ft.x=l.x,ft.y=l.y-P):(g=(r-u)*e+u,ft.x=(l.x-a.x)*e+a.x,ft.y=(l.y-P-a.y)*e+a.y),Dt(),s?t.style.opacity=1-e:kt(c-e*c)};i?ee("initialZoom",0,1,d,o.easing.cubic.out,f,h):(f(1),Ye=setTimeout(h,d+20))}else g=e.initialZoomLevel,Pt(ft,e.initialPosition),Dt(),kt(1),s?t.style.opacity=1:kt(1),Ye=setTimeout(h,d+20)},n?25:90)}()},Je={},ti=[],ei={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ue.length}},ii=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},ni=function(t,e,i){var n=t.bounds;n.center.x=Math.round((Je.x-e)/2),n.center.y=Math.round((Je.y-i)/2)+t.vGap.top,n.max.x=e>Je.x?Math.round(Je.x-e):n.center.x,n.max.y=i>Je.y?Math.round(Je.y-i)+t.vGap.top:n.center.y,n.min.x=e>Je.x?0:n.center.x,n.min.y=i>Je.y?t.vGap.top:n.center.y},oi=function(t,e,i){if(t.src&&!t.loadError){var n=!i;if(n&&(t.vGap||(t.vGap={top:0,bottom:0}),St("parseVerticalMargin",t)),Je.x=e.x,Je.y=e.y-t.vGap.top-t.vGap.bottom,n){var o=Je.x/t.w,r=Je.y/t.h;t.fitRatio=o<r?o:r;var s=a.scaleMode;"orig"===s?i=1:"fit"===s&&(i=t.fitRatio),i>1&&(i=1),t.initialZoomLevel=i,t.bounds||(t.bounds=ii())}if(!i)return;return ni(t,t.w*i,t.h*i),n&&i===t.initialZoomLevel&&(t.initialPosition=t.bounds.center),t.bounds}return t.w=t.h=0,t.initialZoomLevel=t.fitRatio=1,t.bounds=ii(),t.initialPosition=t.bounds.center,t.bounds},ri=function(t,e,i,n,o,a){e.loadError||n&&(e.imageAppended=!0,li(e,n,e===r.currItem&&Et),i.appendChild(n),a&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null)},500))},ai=function(t){t.loading=!0,t.loaded=!1;var e=t.img=o.createEl("pswp__img","img"),i=function(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,e.onload=e.onerror=null,e=null};return e.onload=i,e.onerror=function(){t.loadError=!0,i()},e.src=t.src,e},si=function(t,e){if(t.src&&t.loadError&&t.container)return e&&(t.container.innerHTML=""),t.container.innerHTML=a.errorMsg.replace("%url%",t.src),!0},li=function(t,e,i){if(t.src){e||(e=t.container.lastChild);var n=i?t.w:Math.round(t.w*t.fitRatio),o=i?t.h:Math.round(t.h*t.fitRatio);t.placeholder&&!t.loaded&&(t.placeholder.style.width=n+"px",t.placeholder.style.height=o+"px"),e.style.width=n+"px",e.style.height=o+"px"}},ui=function(){if(ti.length){for(var t,e=0;e<ti.length;e++)t=ti[e],t.holder.index===t.index&&ri(t.index,t.item,t.baseDiv,t.img,0,t.clearPlaceholder);ti=[]}};It("Controller",{publicMethods:{lazyLoadItem:function(t){t=Ct(t);var e=Ve(t);e&&(!e.loaded&&!e.loading||w)&&(St("gettingData",t,e),e.src&&ai(e))},initController:function(){o.extend(a,ei,!0),r.items=Ue=i,Ve=r.getItemAt,Xe=a.getNumItemsFn,$e=a.loop,Xe()<3&&(a.loop=!1),Tt("beforeChange",function(t){var e,i=a.preload,n=null===t||t>=0,o=Math.min(i[0],Xe()),s=Math.min(i[1],Xe());for(e=1;e<=(n?s:o);e++)r.lazyLoadItem(c+e);for(e=1;e<=(n?o:s);e++)r.lazyLoadItem(c-e)}),Tt("initialLayout",function(){r.currItem.initialLayout=a.getThumbBoundsFn&&a.getThumbBoundsFn(c)}),Tt("mainScrollAnimComplete",ui),Tt("initialZoomInEnd",ui),Tt("destroy",function(){for(var t,e=0;e<Ue.length;e++)t=Ue[e],t.container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);ti=null})},getItemAt:function(t){return t>=0&&void 0!==Ue[t]&&Ue[t]},allowProgressiveImg:function(){return a.forceProgressiveLoading||!O||a.mouseUsed||screen.width>1200},setContent:function(t,e){a.loop&&(e=Ct(e));var i=r.getItemAt(t.index);i&&(i.container=null);var n,l=r.getItemAt(e);if(!l)return void(t.el.innerHTML="");St("gettingData",e,l),t.index=e,t.item=l;var u=l.container=o.createEl("pswp__zoom-wrap");if(!l.src&&l.html&&(l.html.tagName?u.appendChild(l.html):u.innerHTML=l.html),si(l),oi(l,mt),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&(n=o.createEl("pswp__img","img"),n.style.opacity=1,n.src=l.src,li(l,n),ri(0,l,u,n));else{if(l.loadComplete=function(i){if(s){if(t&&t.index===e){if(si(i,!0))return i.loadComplete=i.img=null,oi(i,mt),Lt(i),void(t.index===c&&r.updateCurrZoomItem());i.imageAppended?!Qe&&i.placeholder&&(i.placeholder.style.display="none",i.placeholder=null):W.transform&&(nt||Qe)?ti.push({item:i,baseDiv:u,img:i.img,index:e,holder:t,clearPlaceholder:!0}):ri(0,i,u,i.img,0,!0)}i.loadComplete=null,i.img=null,St("imageLoadComplete",e,i)}},o.features.transform){var d="pswp__img pswp__img--placeholder";d+=l.msrc?"":" pswp__img--placeholder--blank";var h=o.createEl(d,l.msrc?"img":"");l.msrc&&(h.src=l.msrc),li(l,h),u.appendChild(h),l.placeholder=h}l.loading||ai(l),r.allowProgressiveImg()&&(!Ge&&W.transform?ti.push({item:l,baseDiv:u,img:l.img,index:e,holder:t}):ri(0,l,u,l.img,0,!0))}Ge||e!==c?Lt(l):(it=u.style,Ke(l,n||l.img)),t.el.innerHTML="",t.el.appendChild(u)},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});var ci,di={},hi=function(t,e,i){var n=document.createEvent("CustomEvent"),o={origEvent:t,target:t.target,releasePoint:e,pointerType:i||"touch"};n.initCustomEvent("pswpTap",!0,!0,o),t.target.dispatchEvent(n)};It("Tap",{publicMethods:{initTap:function(){Tt("firstTouchStart",r.onTapStart),Tt("touchRelease",r.onTapRelease),Tt("destroy",function(){di={},ci=null})},onTapStart:function(t){t.length>1&&(clearTimeout(ci),ci=null)},onTapRelease:function(t,e){if(e&&!Q&&!U&&!$t){var i=e;if(ci&&(clearTimeout(ci),ci=null,xe(i,di)))return void St("doubleTap",i);if("mouse"===e.type)return void hi(t,e,"mouse");if("BUTTON"===t.target.tagName.toUpperCase()||o.hasClass(t.target,"pswp__single-tap"))return void hi(t,e);Pt(di,i),ci=setTimeout(function(){hi(t,e),ci=null},300)}}}});var fi;It("DesktopZoom",{publicMethods:{initDesktopZoom:function(){R||(O?Tt("mouseUsed",function(){r.setupDesktopZoom()}):r.setupDesktopZoom(!0))},setupDesktopZoom:function(e){fi={};var i="wheel mousewheel DOMMouseScroll";Tt("bindEvents",function(){o.bind(t,i,r.handleMouseWheel)}),Tt("unbindEvents",function(){fi&&o.unbind(t,i,r.handleMouseWheel)}),r.mouseZoomedIn=!1;var n,a=function(){r.mouseZoomedIn&&(o.removeClass(t,"pswp--zoomed-in"),r.mouseZoomedIn=!1),g<1?o.addClass(t,"pswp--zoom-allowed"):o.removeClass(t,"pswp--zoom-allowed"),s()},s=function(){n&&(o.removeClass(t,"pswp--dragging"),n=!1)};Tt("resize",a),Tt("afterChange",a),Tt("pointerDown",function(){r.mouseZoomedIn&&(n=!0,o.addClass(t,"pswp--dragging"))}),Tt("pointerUp",s),e||a()},handleMouseWheel:function(t){if(g<=r.currItem.fitRatio)return a.modal&&(!a.closeOnScroll||$t||Y?t.preventDefault():z&&Math.abs(t.deltaY)>2&&(u=!0,r.close())),!0;if(t.stopPropagation(),fi.x=0,"deltaX"in t)1===t.deltaMode?(fi.x=18*t.deltaX,fi.y=18*t.deltaY):(fi.x=t.deltaX,fi.y=t.deltaY);else if("wheelDelta"in t)t.wheelDeltaX&&(fi.x=-.16*t.wheelDeltaX),t.wheelDeltaY?fi.y=-.16*t.wheelDeltaY:fi.y=-.16*t.wheelDelta;else{if(!("detail"in t))return;fi.y=t.detail}jt(g,!0);var e=ft.x-fi.x,i=ft.y-fi.y;(a.modal||e<=et.min.x&&e>=et.max.x&&i<=et.min.y&&i>=et.max.y)&&t.preventDefault(),r.panTo(e,i)},toggleDesktopZoom:function(e){e=e||{x:mt.x/2+gt.x,y:mt.y/2+gt.y};var i=a.getDoubleTapZoom(!0,r.currItem),n=g===i;r.mouseZoomedIn=!n,r.zoomTo(n?r.currItem.initialZoomLevel:i,e,333),o[(n?"remove":"add")+"Class"](t,"pswp--zoomed-in")}}});var mi,pi,gi,yi,vi,xi,bi,wi,Ei,Ii,Ci,_i,Ti={history:!0,galleryUID:1},Si=function(){return Ci.hash.substring(1)},zi=function(){mi&&clearTimeout(mi),gi&&clearTimeout(gi)},ki=function(){var t=Si(),e={};if(t.length<5)return e;var i,n=t.split("&");for(i=0;i<n.length;i++)if(n[i]){var o=n[i].split("=");o.length<2||(e[o[0]]=o[1])}if(a.galleryPIDs){var r=e.pid;for(e.pid=0,i=0;i<Ue.length;i++)if(Ue[i].pid===r){e.pid=i;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},Oi=function(){if(gi&&clearTimeout(gi),$t||Y)return void(gi=setTimeout(Oi,500));yi?clearTimeout(pi):yi=!0;var t=c+1,e=Ve(c);e.hasOwnProperty("pid")&&(t=e.pid);var i=bi+"&gid="+a.galleryUID+"&pid="+t;wi||-1===Ci.hash.indexOf(i)&&(Ii=!0);var n=Ci.href.split("#")[0]+"#"+i;_i?"#"+i!==window.location.hash&&history[wi?"replaceState":"pushState"]("",document.title,n):wi?Ci.replace(n):Ci.hash=i,wi=!0,pi=setTimeout(function(){yi=!1},60)};It("History",{publicMethods:{initHistory:function(){if(o.extend(a,Ti,!0),a.history){Ci=window.location,Ii=!1,Ei=!1,wi=!1,bi=Si(),_i="pushState"in history,bi.indexOf("gid=")>-1&&(bi=bi.split("&gid=")[0],bi=bi.split("?gid=")[0]),Tt("afterChange",r.updateURL),Tt("unbindEvents",function(){o.unbind(window,"hashchange",r.onHashChange)});var t=function(){xi=!0,Ei||(Ii?history.back():bi?Ci.hash=bi:_i?history.pushState("",document.title,Ci.pathname+Ci.search):Ci.hash=""),zi()};Tt("unbindEvents",function(){u&&t()}),Tt("destroy",function(){xi||t()}),Tt("firstUpdate",function(){c=ki().pid});var e=bi.indexOf("pid=");e>-1&&(bi=bi.substring(0,e),"&"===bi.slice(-1)&&(bi=bi.slice(0,-1))),setTimeout(function(){s&&o.bind(window,"hashchange",r.onHashChange)},40)}},onHashChange:function(){return Si()===bi?(Ei=!0,void r.close()):void(yi||(vi=!0,r.goTo(ki().pid),vi=!1))},updateURL:function(){zi(),vi||(wi?mi=setTimeout(Oi,800):Oi())}}}),o.extend(r,ie)}}),function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict"
;function i(i,r,s){function l(t,e,n){var o,r="$()."+i+'("'+e+'")';return t.each(function(t,l){var u=s.data(l,i);if(!u)return void a(i+" not initialized. Cannot call methods, i.e. "+r);var c=u[e];if(!c||"_"==e.charAt(0))return void a(r+" is not a valid method");var d=c.apply(u,n);o=void 0===o?d:o}),void 0!==o?o:t}function u(t,e){t.each(function(t,n){var o=s.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),s.data(n,i,o))})}(s=s||e||t.jQuery)&&(r.prototype.option||(r.prototype.option=function(t){s.isPlainObject(t)&&(this.options=s.extend(!0,this.options,t))}),s.fn[i]=function(t){if("string"==typeof t){return l(this,t,o.call(arguments,1))}return u(this,t),this},n(s))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,a=void 0===r?function(){}:function(t){r.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;u>e;e++){t[l[e]]=0}return t}function n(t){var e=getComputedStyle(t);return e||s("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}function o(){if(!c){c=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);a=200==Math.round(t(o.width)),r.isBoxSizeOuter=a,i.removeChild(e)}}function r(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=n(e);if("none"==r.display)return i();var s={};s.width=e.offsetWidth,s.height=e.offsetHeight;for(var c=s.isBorderBox="border-box"==r.boxSizing,d=0;u>d;d++){var h=l[d],f=r[h],m=parseFloat(f);s[h]=isNaN(m)?0:m}var p=s.paddingLeft+s.paddingRight,g=s.paddingTop+s.paddingBottom,y=s.marginLeft+s.marginRight,v=s.marginTop+s.marginBottom,x=s.borderLeftWidth+s.borderRightWidth,b=s.borderTopWidth+s.borderBottomWidth,w=c&&a,E=t(r.width);!1!==E&&(s.width=E+(w?0:p+x));var I=t(r.height);return!1!==I&&(s.height=I+(w?0:g+b)),s.innerWidth=s.width-(p+x),s.innerHeight=s.height-(g+b),s.outerWidth=s.width+y,s.outerHeight=s.height+v,s}}var a,s="undefined"==typeof console?e:function(t){console.error(t)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],u=l.length,c=!1;return r}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e};var n=Array.prototype.slice;i.makeArray=function(t){return Array.isArray(t)?t:null===t||void 0===t?[]:"object"==typeof t&&"number"==typeof t.length?n.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(t,e,i){i=i||100;var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var o=t.console;return i.htmlInit=function(e,n){i.docReady(function(){var r=i.toDashed(n),a="data-"+r,s=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+r),u=i.makeArray(s).concat(i.makeArray(l)),c=a+"-options",d=t.jQuery;u.forEach(function(t){var i,r=t.getAttribute(a)||t.getAttribute(c);try{i=r&&JSON.parse(r)}catch(e){return void(o&&o.error("Error parsing "+a+" on "+t.className+": "+e))}var s=new e(t,i);d&&d.data(t,n,s)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return null,!0}function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var o=document.documentElement.style,r="string"==typeof o.transition?"transition":"WebkitTransition",a="string"==typeof o.transform?"transform":"WebkitTransform",s={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],l={transform:a,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"},u=n.prototype=Object.create(t.prototype);u.constructor=n,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},u.getSize=function(){this.size=e(this.element)},u.css=function(t){var e=this.element.style;for(var i in t){e[l[i]||i]=t[i]}},u.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],r=parseFloat(n),a=parseFloat(o),s=this.layout.size;-1!=n.indexOf("%")&&(r=r/100*s.width),-1!=o.indexOf("%")&&(a=a/100*s.height),r=isNaN(r)?0:r,a=isNaN(a)?0:a,r-=e?s.paddingLeft:s.paddingRight,a-=i?s.paddingTop:s.paddingBottom,this.position.x=r,this.position.y=a},u.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",r=i?"left":"right",a=i?"right":"left",s=this.position.x+t[o];e[r]=this.getXValue(s),e[a]="";var l=n?"paddingTop":"paddingBottom",u=n?"top":"bottom",c=n?"bottom":"top",d=this.position.y+t[l];e[u]=this.getYValue(d),e[c]="",this.css(e),this.emitEvent("layout",[this])},u.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},u.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},u._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),o&&!this.isTransitioning)return void this.layoutPosition();var r=t-i,a=e-n,s={};s.transform=this.getTranslate(r,a),this.transition({to:s,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},u.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return t=i?t:-t,e=n?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},u.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},u.moveTo=u._transitionTo,u.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},u._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},u.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var c="opacity,"+function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}(a);u.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:c,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(s,this,!1)}},u.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},u.onotransitionend=function(t){this.ontransitionend(t)};var d={"-webkit-transform":"transform"};u.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=d[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){e.onEnd[n].call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(s,this,!1),this.isTransitioning=!1},u._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var h={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(h)},u.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},u.remove=function(){return r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},u.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},u.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},u.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,r){return e(t,i,n,o,r)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,o){"use strict";function r(t,e){var i=n.getQueryElement(t);if(!i)return void(l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,u&&(this.$element=u(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++d;this.element.outlayerGUID=o,h[o]=this,this._create(),this._getOption("initLayout")&&this.layout()}function a(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function s(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];return i.length?(i=parseFloat(i))*(m[n]||1):0}var l=t.console,u=t.jQuery,c=function(){},d=0,h={};r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=r.prototype;n.extend(f,e.prototype),f.option=function(t){n.extend(this.options,t)},f._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=e[o],a=new i(r,this);n.push(a)}return n},f._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(t){return t.element})},f.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=i(this.element)},f._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},f.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},f._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},f._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},f.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=s(t),this.stagger)},f._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},f._getContainerSize=c,f._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},f._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){++a==r&&i()}var o=this,r=e.length;if(!e||!r)return void i();var a=0;e.forEach(function(e){e.once(t,n)})},f.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),u)if(this.$element=this.$element||u(this.element),e){var o=u.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},f.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},f.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},f.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},f.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},f._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)):void 0},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},f._manageStamp=c,f._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t);return{left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom}},f.handleEvent=n.handleEvent,f.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},f.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},f.onresize=function(){this.resize()},n.debounceMethod(r,"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var t=i(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},f.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},f.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},f.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},f.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},f.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},f.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},f.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},f.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},f.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},f.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},f.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete h[e],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},r.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&h[e]},r.create=function(t,e){var i=a(r);return i.defaults=n.extend({},r.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},r.compatOptions),i.namespace=t,i.data=r.data,i.Item=a(o),n.htmlInit(i,t),u&&u.bridget&&u.bridget(t,i),i};var m={ms:1,s:1e3};return r.Item=o,r}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var n=i.prototype;return n._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},n.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,a=n-o%n,s=a&&1>a?"round":"floor";r=Math[s](r),this.cols=Math.max(r,1)},n.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},n._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",r=this[o](n,t),a={x:this.columnWidth*r.col,y:r.y},s=r.y+t.size.outerHeight,l=n+r.col,u=r.col;l>u;u++)this.colYs[u]=s;return a},n._getTopColPosition=function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},n._getTopColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++)e[n]=this._getColGroupY(n,t);return e},n._getColGroupY=function(t,e){if(2>e)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},n._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols;i=t>1&&i+t>this.cols?0:i;var n=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=n?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},n._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft"),r=o?n.left:n.right,a=r+i.outerWidth,s=Math.floor(r/this.columnWidth);s=Math.max(0,s);var l=Math.floor(a/this.columnWidth);l-=a%this.columnWidth?0:1,l=Math.min(this.cols-1,l);for(var u=this._getOption("originTop"),c=(u?n.top:n.bottom)+i.outerHeight,d=s;l>=d;d++)this.colYs[d]=Math.max(c,this.colYs[d])},n._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},n._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){return Array.isArray(t)?t:"object"==typeof t&&"number"==typeof t.length?u.call(t):[t]}function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);var a=t;return"string"==typeof t&&(a=document.querySelectorAll(t)),a?(this.elements=n(a),this.options=i({},this.options),"function"==typeof e?r=e:i(this.options,e),r&&this.on("always",r),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(a||t))}function r(t){this.img=t}function a(t,e){this.url=t,this.element=e,this.img=new Image}var s=t.jQuery,l=t.console,u=Array.prototype.slice;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var a=r[n];this.addElementBackgroundImages(a)}}}};var c={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var i=new a(t,e);this.images.push(i)},o.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype=Object.create(r.prototype),a.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&(s=e,s.fn.imagesLoaded=function(t,e){return new o(this,t,e).jqDeferred.promise(s(this))})},o.makeJQueryPlugin(),o}),jQuery(document).ready(function(t){t("[data-pafe-lightbox-gallery-dark-skin] [data-href]").click(function(){var e=t(this).closest("[data-pafe-lightbox-gallery-background-color]").data("pafe-lightbox-gallery-background-color");t("body").removeClass("pafe-lightbox-gallery-light-skin"),t(document).find(".pswp__bg").css({"background-color":e})}),t("[data-pafe-lightbox-gallery-light-skin] [data-href]").click(function(){var e=t(this).closest("[data-pafe-lightbox-gallery-background-color]").data("pafe-lightbox-gallery-background-color");t("body").addClass("pafe-lightbox-gallery-light-skin"),t(document).find(".pswp__bg").css({"background-color":e})})}),function(t){var e=function(t,e){var i=e("[data-pafe-masonry]").imagesLoaded(function(){i.masonry({itemSelector:".gallery-item",columnWidth:".gallery-item",percentPosition:!0})})};t(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pafe-lightbox-gallery.default",e)})}(jQuery),function(t){t.fn.slickAnimation=function(){function e(t,e,i,n,o){o=void 0!==o&&o,1==e.opacity?(t.addClass(i),t.addClass(n)):(t.removeClass(i),t.removeClass(n)),o&&t.css(e)}function i(t,e){return t?1e3*t+1e3:e?1e3*e:t||e?1e3*t+1e3*e:1e3}function n(t,e,i){var n=["animation-"+e,"-webkit-animation-"+e,"-moz-animation-"+e,"-o-animation-"+e,"-ms-animation-"+e],o={};n.forEach(function(t){o[t]=i+"s"}),t.css(o)}var o=t(this),r=o.find(".slick-list .slick-track > div"),a=o.find('[data-slick-index="0"]'),s="animated",l={opacity:"1"},u={opacity:"0"};return r.each(function(){var r=t(this);r.find("[data-animation-in]").each(function(){var c=t(this);c.css(u);var d=c.attr("data-animation-in"),h=c.attr("data-animation-out"),f=c.attr("data-delay-in"),m=c.attr("data-duration-in"),p=c.attr("data-delay-out"),g=c.attr("data-duration-out");h?(a.length>0&&r.hasClass("slick-current")&&(e(c,l,d,s,!0),f&&n(c,"delay",f),m&&n(c,"duration",m),setTimeout(function(){e(c,u,d,s),e(c,l,h,s),p&&n(c,"delay",p),g&&n(c,"duration",g)},i(f,m))),o.on("afterChange",function(t,o,a){r.hasClass("slick-current")&&(e(c,l,d,s,!0),f&&n(c,"delay",f),m&&n(c,"duration",m),setTimeout(function(){e(c,u,d,s),e(c,l,h,s),p&&n(c,"delay",p),g&&n(c,"duration",g)},i(f,m)))}),o.on("beforeChange",function(t,i,n){e(c,u,h,s,!0)})):(a.length>0&&r.hasClass("slick-current")&&(e(c,l,d,s,!0),f&&n(c,"delay",f),m&&n(c,"duration",m)),o.on("afterChange",function(t,i,o){r.hasClass("slick-current")&&(e(c,l,d,s,!0),f&&n(c,"delay",f),m&&n(c,"duration",m))}),o.on("beforeChange",function(t,i,n){e(c,u,d,s,!0)}))})}),this}}(jQuery),function(t){var e=function(t,e){var i=t.find("[data-pafe-slider-builder-slick]").eq(0);i.length>0&&i.slick().slickAnimation()};t(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pafe-slider-builder.default",e)})}(jQuery);